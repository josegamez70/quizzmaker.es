(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function t0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var Ym={exports:{}},wa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.transitional.element"),i0=Symbol.for("react.fragment");function Zm(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var o in e)o!=="key"&&(n[o]=e[o])}else n=e;return e=n.ref,{$$typeof:n0,type:t,key:i,ref:e!==void 0?e:null,props:n}}wa.Fragment=i0;wa.jsx=Zm;wa.jsxs=Zm;Ym.exports=wa;var _=Ym.exports,Km={exports:{}},F={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.transitional.element"),o0=Symbol.for("react.portal"),s0=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),l0=Symbol.for("react.consumer"),u0=Symbol.for("react.context"),c0=Symbol.for("react.forward_ref"),f0=Symbol.for("react.suspense"),d0=Symbol.for("react.memo"),Qm=Symbol.for("react.lazy"),wf=Symbol.iterator;function h0(t){return t===null||typeof t!="object"?null:(t=wf&&t[wf]||t["@@iterator"],typeof t=="function"?t:null)}var Xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wm=Object.assign,jm={};function yo(t,e,n){this.props=t,this.context=e,this.refs=jm,this.updater=n||Xm}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ep(){}ep.prototype=yo.prototype;function mc(t,e,n){this.props=t,this.context=e,this.refs=jm,this.updater=n||Xm}var pc=mc.prototype=new ep;pc.constructor=mc;Wm(pc,yo.prototype);pc.isPureReactComponent=!0;var Af=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},tp=Object.prototype.hasOwnProperty;function gc(t,e,n,i,o,s){return n=s.ref,{$$typeof:hc,type:t,key:e,ref:n!==void 0?n:null,props:s}}function m0(t,e){return gc(t.type,e,void 0,void 0,void 0,t.props)}function yc(t){return typeof t=="object"&&t!==null&&t.$$typeof===hc}function p0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bf=/\/+/g;function nl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p0(""+t.key):e.toString(36)}function Mf(){}function g0(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Mf,Mf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function xi(t,e,n,i,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case hc:case o0:r=!0;break;case Qm:return r=t._init,xi(r(t._payload),e,n,i,o)}}if(r)return o=o(t),r=i===""?"."+nl(t,0):i,Af(o)?(n="",r!=null&&(n=r.replace(bf,"$&/")+"/"),xi(o,e,n,"",function(f){return f})):o!=null&&(yc(o)&&(o=m0(o,n+(o.key==null||t&&t.key===o.key?"":(""+o.key).replace(bf,"$&/")+"/")+r)),e.push(o)),1;r=0;var u=i===""?".":i+":";if(Af(t))for(var c=0;c<t.length;c++)i=t[c],s=u+nl(i,c),r+=xi(i,e,n,s,o);else if(c=h0(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,s=u+nl(i,c++),r+=xi(i,e,n,s,o);else if(s==="object"){if(typeof t.then=="function")return xi(g0(t),e,n,i,o);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function er(t,e,n){if(t==null)return t;var i=[],o=0;return xi(t,i,"","",function(s){return e.call(n,s,o++)}),i}function y0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function v0(){}F.Children={map:er,forEach:function(t,e,n){er(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return er(t,function(){e++}),e},toArray:function(t){return er(t,function(e){return e})||[]},only:function(t){if(!yc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=yo;F.Fragment=s0;F.Profiler=a0;F.PureComponent=mc;F.StrictMode=r0;F.Suspense=f0;F.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me;F.__COMPILER_RUNTIME={__proto__:null,c:function(t){return me.H.useMemoCache(t)}};F.cache=function(t){return function(){return t.apply(null,arguments)}};F.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Wm({},t.props),o=t.key,s=void 0;if(e!=null)for(r in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(o=""+e.key),e)!tp.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return gc(t.type,o,void 0,void 0,s,i)};F.createContext=function(t){return t={$$typeof:u0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:l0,_context:t},t};F.createElement=function(t,e,n){var i,o={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)tp.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=e[i]);var r=arguments.length-2;if(r===1)o.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)o[i]===void 0&&(o[i]=r[i]);return gc(t,s,void 0,void 0,null,o)};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:c0,render:t}};F.isValidElement=yc;F.lazy=function(t){return{$$typeof:Qm,_payload:{_status:-1,_result:t},_init:y0}};F.memo=function(t,e){return{$$typeof:d0,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=me.T,n={};me.T=n;try{var i=t(),o=me.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(v0,Rf)}catch(s){Rf(s)}finally{me.T=e}};F.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()};F.use=function(t){return me.H.use(t)};F.useActionState=function(t,e,n){return me.H.useActionState(t,e,n)};F.useCallback=function(t,e){return me.H.useCallback(t,e)};F.useContext=function(t){return me.H.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t,e){return me.H.useDeferredValue(t,e)};F.useEffect=function(t,e,n){var i=me.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};F.useId=function(){return me.H.useId()};F.useImperativeHandle=function(t,e,n){return me.H.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return me.H.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return me.H.useLayoutEffect(t,e)};F.useMemo=function(t,e){return me.H.useMemo(t,e)};F.useOptimistic=function(t,e){return me.H.useOptimistic(t,e)};F.useReducer=function(t,e,n){return me.H.useReducer(t,e,n)};F.useRef=function(t){return me.H.useRef(t)};F.useState=function(t){return me.H.useState(t)};F.useSyncExternalStore=function(t,e,n){return me.H.useSyncExternalStore(t,e,n)};F.useTransition=function(){return me.H.useTransition()};F.version="19.1.0";Km.exports=F;var V=Km.exports;const _0=Jm(V);var np={exports:{}},Aa={},ip={exports:{}},op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Z){var Y=U.length;U.push(Z);e:for(;0<Y;){var _e=Y-1>>>1,Me=U[_e];if(0<o(Me,Z))U[_e]=Z,U[Y]=Me,Y=_e;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Z=U[0],Y=U.pop();if(Y!==Z){U[0]=Y;e:for(var _e=0,Me=U.length,Xs=Me>>>1;_e<Xs;){var Ws=2*(_e+1)-1,tl=U[Ws],Gn=Ws+1,js=U[Gn];if(0>o(tl,Y))Gn<Me&&0>o(js,tl)?(U[_e]=js,U[Gn]=Y,_e=Gn):(U[_e]=tl,U[Ws]=Y,_e=Ws);else if(Gn<Me&&0>o(js,Y))U[_e]=js,U[Gn]=Y,_e=Gn;else break e}}return Z}function o(U,Z){var Y=U.sortIndex-Z.sortIndex;return Y!==0?Y:U.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],f=[],d=1,h=null,m=3,p=!1,T=!1,S=!1,E=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var Z=n(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=U)i(f),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=n(f)}}function x(U){if(S=!1,C(U),!T)if(n(c)!==null)T=!0,b||(b=!0,z());else{var Z=n(f);Z!==null&&je(x,Z.startTime-U)}}var b=!1,w=-1,D=5,I=-1;function N(){return E?!0:!(t.unstable_now()-I<D)}function M(){if(E=!1,b){var U=t.unstable_now();I=U;var Z=!0;try{e:{T=!1,S&&(S=!1,g(w),w=-1),p=!0;var Y=m;try{t:{for(C(U),h=n(c);h!==null&&!(h.expirationTime>U&&N());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,m=h.priorityLevel;var Me=_e(h.expirationTime<=U);if(U=t.unstable_now(),typeof Me=="function"){h.callback=Me,C(U),Z=!0;break t}h===n(c)&&i(c),C(U)}else i(c);h=n(c)}if(h!==null)Z=!0;else{var Xs=n(f);Xs!==null&&je(x,Xs.startTime-U),Z=!1}}break e}finally{h=null,m=Y,p=!1}Z=void 0}}finally{Z?z():b=!1}}}var z;if(typeof v=="function")z=function(){v(M)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Qs=bt.port2;bt.port1.onmessage=M,z=function(){Qs.postMessage(null)}}else z=function(){y(M,0)};function je(U,Z){w=y(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var Y=m;m=Z;try{return U()}finally{m=Y}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=m;m=U;try{return Z()}finally{m=Y}},t.unstable_scheduleCallback=function(U,Z,Y){var _e=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?_e+Y:_e):Y=_e,U){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=Y+Me,U={id:d++,callback:Z,priorityLevel:U,startTime:Y,expirationTime:Me,sortIndex:-1},Y>_e?(U.sortIndex=Y,e(f,U),n(c)===null&&U===n(f)&&(S?(g(w),w=-1):S=!0,je(x,Y-_e))):(U.sortIndex=Me,e(c,U),T||p||(T=!0,b||(b=!0,z()))),U},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(U){var Z=m;return function(){var Y=m;m=Z;try{return U.apply(this,arguments)}finally{m=Y}}}})(op);ip.exports=op;var T0=ip.exports,sp={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=V;function rp(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ln(){}var $e={d:{f:ln,r:function(){throw Error(rp(522))},D:ln,C:ln,L:ln,m:ln,X:ln,S:ln,M:ln},p:0,findDOMNode:null},C0=Symbol.for("react.portal");function E0(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C0,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Yo=S0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ba(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(rp(299));return E0(t,e,null,n)};Fe.flushSync=function(t){var e=Yo.T,n=$e.p;try{if(Yo.T=null,$e.p=2,t)return t()}finally{Yo.T=e,$e.p=n,$e.d.f()}};Fe.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,$e.d.C(t,e))};Fe.prefetchDNS=function(t){typeof t=="string"&&$e.d.D(t)};Fe.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ba(n,e.crossOrigin),o=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?$e.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:s}):n==="script"&&$e.d.X(t,{crossOrigin:i,integrity:o,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Fe.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ba(e.as,e.crossOrigin);$e.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&$e.d.M(t)};Fe.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ba(n,e.crossOrigin);$e.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Fe.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ba(e.as,e.crossOrigin);$e.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else $e.d.m(t)};Fe.requestFormReset=function(t){$e.d.r(t)};Fe.unstable_batchedUpdates=function(t,e){return t(e)};Fe.useFormState=function(t,e,n){return Yo.H.useFormState(t,e,n)};Fe.useFormStatus=function(){return Yo.H.useHostTransitionStatus()};Fe.version="19.1.0";function ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ap)}catch(t){console.error(t)}}ap(),sp.exports=Fe;var x0=sp.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=T0,lp=V,w0=x0;function A(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nf(t){if(Ns(t)!==t)throw Error(A(188))}function A0(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Nf(o),t;if(s===i)return Nf(o),e;s=s.sibling}throw Error(A(188))}if(n.return!==i.return)n=o,i=s;else{for(var r=!1,u=o.child;u;){if(u===n){r=!0,n=o,i=s;break}if(u===i){r=!0,i=o,n=s;break}u=u.sibling}if(!r){for(u=s.child;u;){if(u===n){r=!0,n=s,i=o;break}if(u===i){r=!0,i=s,n=o;break}u=u.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function fp(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=fp(t),e!==null)return e;t=t.sibling}return null}var de=Object.assign,b0=Symbol.for("react.element"),tr=Symbol.for("react.transitional.element"),Bo=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),M0=Symbol.for("react.provider"),hp=Symbol.for("react.consumer"),Jt=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),_c=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Kl=Symbol.for("react.activity"),R0=Symbol.for("react.memo_cache_sentinel"),Df=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=Df&&t[Df]||t["@@iterator"],typeof t=="function"?t:null)}var N0=Symbol.for("react.client.reference");function Ql(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Jl:return"Profiler";case dp:return"StrictMode";case Yl:return"Suspense";case Zl:return"SuspenseList";case Kl:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Bo:return"Portal";case Jt:return(t.displayName||"Context")+".Provider";case hp:return(t._context.displayName||"Context")+".Consumer";case vc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _c:return e=t.displayName||null,e!==null?e:Ql(t.type)||"Memo";case dn:e=t._payload,t=t._init;try{return Ql(t(e))}catch{}}return null}var Go=Array.isArray,q=lp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=w0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qn={pending:!1,data:null,method:null,action:null},Xl=[],Di=-1;function Vt(t){return{current:t}}function Ue(t){0>Di||(t.current=Xl[Di],Xl[Di]=null,Di--)}function pe(t,e){Di++,Xl[Di]=t.current,t.current=e}var Ut=Vt(null),hs=Vt(null),wn=Vt(null),Vr=Vt(null);function qr(t,e){switch(pe(wn,e),pe(hs,t),pe(Ut,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Pd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Pd(e),t=Ny(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ue(Ut),pe(Ut,t)}function ji(){Ue(Ut),Ue(hs),Ue(wn)}function Wl(t){t.memoizedState!==null&&pe(Vr,t);var e=Ut.current,n=Ny(e,t.type);e!==n&&(pe(hs,t),pe(Ut,n))}function Br(t){hs.current===t&&(Ue(Ut),Ue(hs)),Vr.current===t&&(Ue(Vr),Es._currentValue=Qn)}var jl=Object.prototype.hasOwnProperty,Tc=be.unstable_scheduleCallback,il=be.unstable_cancelCallback,D0=be.unstable_shouldYield,k0=be.unstable_requestPaint,It=be.unstable_now,U0=be.unstable_getCurrentPriorityLevel,mp=be.unstable_ImmediatePriority,pp=be.unstable_UserBlockingPriority,Gr=be.unstable_NormalPriority,I0=be.unstable_LowPriority,gp=be.unstable_IdlePriority,L0=be.log,P0=be.unstable_setDisableYieldValue,Ds=null,ot=null;function Sn(t){if(typeof L0=="function"&&P0(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Ds,t)}catch{}}var st=Math.clz32?Math.clz32:q0,O0=Math.log,V0=Math.LN2;function q0(t){return t>>>=0,t===0?32:31-(O0(t)/V0|0)|0}var nr=256,ir=4194304;function Fn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ma(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var o=0,s=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~s,i!==0?o=Fn(i):(r&=u,r!==0?o=Fn(r):n||(n=u&~t,n!==0&&(o=Fn(n))))):(u=i&~s,u!==0?o=Fn(u):r!==0?o=Fn(r):n||(n=i&~t,n!==0&&(o=Fn(n)))),o===0?0:e!==0&&e!==o&&!(e&s)&&(s=o&-o,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:o}function ks(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function B0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yp(){var t=nr;return nr<<=1,!(nr&4194048)&&(nr=256),t}function vp(){var t=ir;return ir<<=1,!(ir&62914560)&&(ir=4194304),t}function ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Us(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function G0(t,e,n,i,o,s){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-st(n),h=1<<d;u[d]=0,c[d]=-1;var m=f[d];if(m!==null)for(f[d]=null,d=0;d<m.length;d++){var p=m[d];p!==null&&(p.lane&=-536870913)}n&=~h}i!==0&&_p(t,i,0),s!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=s&~(r&~e))}function _p(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-st(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function Tp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-st(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}function Sc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Sp(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function z0(t,e){var n=ne.p;try{return ne.p=t,e()}finally{ne.p=n}}var Vn=Math.random().toString(36).slice(2),qe="__reactFiber$"+Vn,Xe="__reactProps$"+Vn,vo="__reactContainer$"+Vn,eu="__reactEvents$"+Vn,$0="__reactListeners$"+Vn,H0="__reactHandles$"+Vn,kf="__reactResources$"+Vn,Is="__reactMarker$"+Vn;function Ec(t){delete t[qe],delete t[Xe],delete t[eu],delete t[$0],delete t[H0]}function ki(t){var e=t[qe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vo]||n[qe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qd(t);t!==null;){if(n=t[qe])return n;t=qd(t)}return e}t=n,n=t.parentNode}return null}function _o(t){if(t=t[qe]||t[vo]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function zo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(A(33))}function $i(t){var e=t[kf];return e||(e=t[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function De(t){t[Is]=!0}var Cp=new Set,Ep={};function fi(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(Ep[t]=e,t=0;t<e.length;t++)Cp.add(e[t])}var F0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uf={},If={};function J0(t){return jl.call(If,t)?!0:jl.call(Uf,t)?!1:F0.test(t)?If[t]=!0:(Uf[t]=!0,!1)}function Cr(t,e,n){if(J0(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function or(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Bt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var sl,Lf;function wi(t){if(sl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sl=e&&e[1]||"",Lf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sl+t+Lf}var rl=!1;function al(t,e){if(!t||rl)return"";rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(p){var m=p}Reflect.construct(t,[],h)}else{try{h.call()}catch(p){m=p}t.call(h.prototype)}}else{try{throw Error()}catch(p){m=p}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),r=s[0],u=s[1];if(r&&u){var c=r.split(`
`),f=u.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=o);break}}}finally{rl=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?wi(n):""}function Y0(t){switch(t.tag){case 26:case 27:case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return al(t.type,!1);case 11:return al(t.type.render,!1);case 1:return al(t.type,!0);case 31:return wi("Activity");default:return""}}function Pf(t){try{var e="";do e+=Y0(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ct(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z0(t){var e=xp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(r){i=""+r,s.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zr(t){t._valueTracker||(t._valueTracker=Z0(t))}function wp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=xp(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function $r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var K0=/[\n"\\]/g;function ht(t){return t.replace(K0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tu(t,e,n,i,o,s,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ct(e)):t.value!==""+ct(e)&&(t.value=""+ct(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?nu(t,r,ct(e)):n!=null?nu(t,r,ct(n)):i!=null&&t.removeAttribute("value"),o==null&&s!=null&&(t.defaultChecked=!!s),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+ct(u):t.removeAttribute("name")}function Ap(t,e,n,i,o,s,r,u){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+ct(n):"",e=e!=null?""+ct(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function nu(t,e,n){e==="number"&&$r(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Hi(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ct(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function bp(t,e,n){if(e!=null&&(e=""+ct(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ct(n):""}function Mp(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(A(92));if(Go(i)){if(1<i.length)throw Error(A(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=ct(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function to(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Of(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Q0.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Rp(t,e,n){if(e!=null&&typeof e!="object")throw Error(A(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var o in e)i=e[o],e.hasOwnProperty(o)&&n[o]!==i&&Of(t,o,i)}else for(var s in e)e.hasOwnProperty(s)&&Of(t,s,e[s])}function xc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(t){return W0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var iu=null;function wc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,Fi=null;function Vf(t){var e=_o(t);if(e&&(t=e.stateNode)){var n=t[Xe]||null;e:switch(t=e.stateNode,e.type){case"input":if(tu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=i[Xe]||null;if(!o)throw Error(A(90));tu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&wp(i)}break e;case"textarea":bp(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Hi(t,!!n.multiple,e,!1)}}}var ll=!1;function Np(t,e,n){if(ll)return t(e,n);ll=!0;try{var i=t(e);return i}finally{if(ll=!1,(Ui!==null||Fi!==null)&&(Va(),Ui&&(e=Ui,t=Fi,Fi=Ui=null,Vf(e),t)))for(e=0;e<t.length;e++)Vf(t[e])}}function ms(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Xe]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(jt)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{ou=!1}var Cn=null,Ac=null,xr=null;function Dp(){if(xr)return xr;var t,e=Ac,n=e.length,i,o="value"in Cn?Cn.value:Cn.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===o[s-i];i++);return xr=o.slice(t,1<i?1-i:void 0)}function wr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function qf(){return!1}function We(t){function e(n,i,o,s,r){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sr:qf,this.isPropagationStopped=qf,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),e}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=We(di),Ls=de({},di,{view:0,detail:0}),j0=We(Ls),ul,cl,ko,Na=de({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ko&&(ko&&t.type==="mousemove"?(ul=t.screenX-ko.screenX,cl=t.screenY-ko.screenY):cl=ul=0,ko=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),Bf=We(Na),e_=de({},Na,{dataTransfer:0}),t_=We(e_),n_=de({},Ls,{relatedTarget:0}),fl=We(n_),i_=de({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),o_=We(i_),s_=de({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r_=We(s_),a_=de({},di,{data:0}),Gf=We(a_),l_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c_[t])?!!e[t]:!1}function bc(){return f_}var d_=de({},Ls,{key:function(t){if(t.key){var e=l_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h_=We(d_),m_=de({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=We(m_),p_=de({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),g_=We(p_),y_=de({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=We(y_),__=de({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T_=We(__),S_=de({},di,{newState:0,oldState:0}),C_=We(S_),E_=[9,13,27,32],Mc=jt&&"CompositionEvent"in window,Zo=null;jt&&"documentMode"in document&&(Zo=document.documentMode);var x_=jt&&"TextEvent"in window&&!Zo,kp=jt&&(!Mc||Zo&&8<Zo&&11>=Zo),$f=" ",Hf=!1;function Up(t,e){switch(t){case"keyup":return E_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function w_(t,e){switch(t){case"compositionend":return Ip(e);case"keypress":return e.which!==32?null:(Hf=!0,$f);case"textInput":return t=e.data,t===$f&&Hf?null:t;default:return null}}function A_(t,e){if(Ii)return t==="compositionend"||!Mc&&Up(t,e)?(t=Dp(),xr=Ac=Cn=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kp&&e.locale!=="ko"?null:e.data;default:return null}}var b_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b_[t.type]:e==="textarea"}function Lp(t,e,n,i){Ui?Fi?Fi.push(i):Fi=[i]:Ui=i,e=aa(e,"onChange"),0<e.length&&(n=new Ra("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ko=null,ps=null;function M_(t){by(t,0)}function Da(t){var e=zo(t);if(wp(e))return t}function Jf(t,e){if(t==="change")return e}var Pp=!1;if(jt){var dl;if(jt){var hl="oninput"in document;if(!hl){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),hl=typeof Yf.oninput=="function"}dl=hl}else dl=!1;Pp=dl&&(!document.documentMode||9<document.documentMode)}function Zf(){Ko&&(Ko.detachEvent("onpropertychange",Op),ps=Ko=null)}function Op(t){if(t.propertyName==="value"&&Da(ps)){var e=[];Lp(e,ps,t,wc(t)),Np(M_,e)}}function R_(t,e,n){t==="focusin"?(Zf(),Ko=e,ps=n,Ko.attachEvent("onpropertychange",Op)):t==="focusout"&&Zf()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Da(ps)}function D_(t,e){if(t==="click")return Da(e)}function k_(t,e){if(t==="input"||t==="change")return Da(e)}function U_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:U_;function gs(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!jl.call(e,o)||!lt(t[o],e[o]))return!1}return!0}function Kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qf(t,e){var n=Kf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kf(n)}}function Vp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=$r(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$r(t.document)}return e}function Rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var I_=jt&&"documentMode"in document&&11>=document.documentMode,Li=null,su=null,Qo=null,ru=!1;function Xf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ru||Li==null||Li!==$r(i)||(i=Li,"selectionStart"in i&&Rc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qo&&gs(Qo,i)||(Qo=i,i=aa(su,"onSelect"),0<i.length&&(e=new Ra("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Li)))}function zn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pi={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},ml={},Bp={};jt&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function hi(t){if(ml[t])return ml[t];if(!Pi[t])return t;var e=Pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bp)return ml[t]=e[n];return t}var Gp=hi("animationend"),zp=hi("animationiteration"),$p=hi("animationstart"),L_=hi("transitionrun"),P_=hi("transitionstart"),O_=hi("transitioncancel"),Hp=hi("transitionend"),Fp=new Map,au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");au.push("scrollEnd");function At(t,e){Fp.set(t,e),fi(e,[t])}var Wf=new WeakMap;function mt(t,e){if(typeof t=="object"&&t!==null){var n=Wf.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Pf(e)},Wf.set(t,e),e)}return{value:t,source:e,stack:Pf(e)}}var ut=[],Oi=0,Nc=0;function ka(){for(var t=Oi,e=Nc=Oi=0;e<t;){var n=ut[e];ut[e++]=null;var i=ut[e];ut[e++]=null;var o=ut[e];ut[e++]=null;var s=ut[e];if(ut[e++]=null,i!==null&&o!==null){var r=i.pending;r===null?o.next=o:(o.next=r.next,r.next=o),i.pending=o}s!==0&&Jp(n,o,s)}}function Ua(t,e,n,i){ut[Oi++]=t,ut[Oi++]=e,ut[Oi++]=n,ut[Oi++]=i,Nc|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Dc(t,e,n,i){return Ua(t,e,n,i),Hr(t)}function To(t,e){return Ua(t,null,null,e),Hr(t)}function Jp(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var o=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(o=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,o&&e!==null&&(o=31-st(n),t=s.hiddenUpdates,i=t[o],i===null?t[o]=[e]:i.push(e),e.lane=n|536870912),s):null}function Hr(t){if(50<rs)throw rs=0,Mu=null,Error(A(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Vi={};function V_(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,i){return new V_(t,e,n,i)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xt(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Yp(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ar(t,e,n,i,o,s){var r=0;if(i=t,typeof t=="function")kc(t)&&(r=1);else if(typeof t=="string")r=BT(t,n,Ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Kl:return t=it(31,n,e,o),t.elementType=Kl,t.lanes=s,t;case Ni:return Xn(n.children,o,s,e);case dp:r=8,o|=24;break;case Jl:return t=it(12,n,e,o|2),t.elementType=Jl,t.lanes=s,t;case Yl:return t=it(13,n,e,o),t.elementType=Yl,t.lanes=s,t;case Zl:return t=it(19,n,e,o),t.elementType=Zl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M0:case Jt:r=10;break e;case hp:r=9;break e;case vc:r=11;break e;case _c:r=14;break e;case dn:r=16,i=null;break e}r=29,n=Error(A(130,t===null?"null":typeof t,"")),i=null}return e=it(r,n,e,o),e.elementType=t,e.type=i,e.lanes=s,e}function Xn(t,e,n,i){return t=it(7,t,i,e),t.lanes=n,t}function pl(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function gl(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var qi=[],Bi=0,Fr=null,Jr=0,ft=[],dt=0,Wn=null,Yt=1,Zt="";function Jn(t,e){qi[Bi++]=Jr,qi[Bi++]=Fr,Fr=t,Jr=e}function Zp(t,e,n){ft[dt++]=Yt,ft[dt++]=Zt,ft[dt++]=Wn,Wn=t;var i=Yt;t=Zt;var o=32-st(i)-1;i&=~(1<<o),n+=1;var s=32-st(e)+o;if(30<s){var r=o-o%5;s=(i&(1<<r)-1).toString(32),i>>=r,o-=r,Yt=1<<32-st(e)+o|n<<o|i,Zt=s+t}else Yt=1<<s|n<<o|i,Zt=t}function Uc(t){t.return!==null&&(Jn(t,1),Zp(t,1,0))}function Ic(t){for(;t===Fr;)Fr=qi[--Bi],qi[Bi]=null,Jr=qi[--Bi],qi[Bi]=null;for(;t===Wn;)Wn=ft[--dt],ft[dt]=null,Zt=ft[--dt],ft[dt]=null,Yt=ft[--dt],ft[dt]=null}var ze=null,ye=null,te=!1,jn=null,Rt=!1,lu=Error(A(519));function ii(t){var e=Error(A(418,""));throw ys(mt(e,t)),lu}function jf(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[qe]=t,e[Xe]=i,n){case"dialog":Q("cancel",e),Q("close",e);break;case"iframe":case"object":case"embed":Q("load",e);break;case"video":case"audio":for(n=0;n<Ts.length;n++)Q(Ts[n],e);break;case"source":Q("error",e);break;case"img":case"image":case"link":Q("error",e),Q("load",e);break;case"details":Q("toggle",e);break;case"input":Q("invalid",e),Ap(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),zr(e);break;case"select":Q("invalid",e);break;case"textarea":Q("invalid",e),Mp(e,i.value,i.defaultValue,i.children),zr(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Ry(e.textContent,n)?(i.popover!=null&&(Q("beforetoggle",e),Q("toggle",e)),i.onScroll!=null&&Q("scroll",e),i.onScrollEnd!=null&&Q("scrollend",e),i.onClick!=null&&(e.onclick=Ga),e=!0):e=!1,e||ii(t)}function ed(t){for(ze=t.return;ze;)switch(ze.tag){case 5:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:ze=ze.return}}function Uo(t){if(t!==ze)return!1;if(!te)return ed(t),te=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Iu(t.type,t.memoizedProps)),n=!n),n&&ye&&ii(t),ed(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ye=wt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ye=null}}else e===27?(e=ye,qn(t.type)?(t=Ou,Ou=null,ye=t):ye=e):ye=ze?wt(t.stateNode.nextSibling):null;return!0}function Ps(){ye=ze=null,te=!1}function td(){var t=jn;return t!==null&&(Ke===null?Ke=t:Ke.push.apply(Ke,t),jn=null),t}function ys(t){jn===null?jn=[t]:jn.push(t)}var uu=Vt(null),mi=null,Kt=null;function gn(t,e,n){pe(uu,e._currentValue),e._currentValue=n}function Wt(t){t._currentValue=uu.current,Ue(uu)}function cu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function fu(t,e,n,i){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){var r=o.child;s=s.firstContext;e:for(;s!==null;){var u=s;s=o;for(var c=0;c<e.length;c++)if(u.context===e[c]){s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),cu(s.return,n,t),i||(r=null);break e}s=u.next}}else if(o.tag===18){if(r=o.return,r===null)throw Error(A(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),cu(r,n,t),r=null}else r=o.child;if(r!==null)r.return=o;else for(r=o;r!==null;){if(r===t){r=null;break}if(o=r.sibling,o!==null){o.return=r.return,r=o;break}r=r.return}o=r}}function Os(t,e,n,i){t=null;for(var o=e,s=!1;o!==null;){if(!s){if(o.flags&524288)s=!0;else if(o.flags&262144)break}if(o.tag===10){var r=o.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var u=o.type;lt(o.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(o===Vr.current){if(r=o.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(Es):t=[Es])}o=o.return}t!==null&&fu(e,t,n,i),e.flags|=262144}function Yr(t){for(t=t.firstContext;t!==null;){if(!lt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oi(t){mi=t,Kt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return Kp(mi,t)}function rr(t,e){return mi===null&&oi(t),Kp(t,e)}function Kp(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Kt===null){if(t===null)throw Error(A(308));Kt=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Kt=Kt.next=e;return n}var q_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},B_=be.unstable_scheduleCallback,G_=be.unstable_NormalPriority,we={$$typeof:Jt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new q_,data:new Map,refCount:0}}function Vs(t){t.refCount--,t.refCount===0&&B_(G_,function(){t.controller.abort()})}var Xo=null,du=0,no=0,Ji=null;function z_(t,e){if(Xo===null){var n=Xo=[];du=0,no=sf(),Ji={status:"pending",value:void 0,then:function(i){n.push(i)}}}return du++,e.then(nd,nd),e}function nd(){if(--du===0&&Xo!==null){Ji!==null&&(Ji.status="fulfilled");var t=Xo;Xo=null,no=0,Ji=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function $_(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var o=0;o<n.length;o++)(0,n[o])(e)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var id=q.S;q.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&z_(t,e),id!==null&&id(t,e)};var ei=Vt(null);function Pc(){var t=ei.current;return t!==null?t:ce.pooledCache}function br(t,e){e===null?pe(ei,ei.current):pe(ei,e.pool)}function Qp(){var t=Pc();return t===null?null:{parent:we._currentValue,pool:t}}var qs=Error(A(460)),Xp=Error(A(474)),Ia=Error(A(542)),hu={then:function(){}};function od(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ar(){}function Wp(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ar,ar),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rd(t),t;default:if(typeof e.status=="string")e.then(ar,ar);else{if(t=ce,t!==null&&100<t.shellSuspendCounter)throw Error(A(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var o=e;o.status="fulfilled",o.value=i}},function(i){if(e.status==="pending"){var o=e;o.status="rejected",o.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rd(t),t}throw Wo=e,qs}}var Wo=null;function sd(){if(Wo===null)throw Error(A(459));var t=Wo;return Wo=null,t}function rd(t){if(t===qs||t===Ia)throw Error(A(483))}var hn=!1;function Oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function An(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,e=Hr(t),Jp(t,null,n),e}return Ua(t,i,e,n),Hr(t)}function jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tp(t,n)}}function yl(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?o=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var pu=!1;function es(){if(pu){var t=Ji;if(t!==null)throw t}}function ts(t,e,n,i){pu=!1;var o=t.updateQueue;hn=!1;var s=o.firstBaseUpdate,r=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,f=c.next;c.next=null,r===null?s=f:r.next=f,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(s!==null){var h=o.baseState;r=0,d=f=c=null,u=s;do{var m=u.lane&-536870913,p=m!==u.lane;if(p?(j&m)===m:(i&m)===m){m!==0&&m===no&&(pu=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var T=t,S=u;m=e;var E=n;switch(S.tag){case 1:if(T=S.payload,typeof T=="function"){h=T.call(E,h,m);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,m=typeof T=="function"?T.call(E,h,m):T,m==null)break e;h=de({},h,m);break e;case 2:hn=!0}}m=u.callback,m!==null&&(t.flags|=64,p&&(t.flags|=8192),p=o.callbacks,p===null?o.callbacks=[m]:p.push(m))}else p={lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=p,c=h):d=d.next=p,r|=m;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;p=u,u=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);d===null&&(c=h),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,s===null&&(o.shared.lanes=0),Pn|=r,t.lanes=r,t.memoizedState=h}}function jp(t,e){if(typeof t!="function")throw Error(A(191,t));t.call(e)}function eg(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)jp(n[t],e)}var io=Vt(null),Zr=Vt(0);function ad(t,e){t=nn,pe(Zr,t),pe(io,e),nn=t|e.baseLanes}function gu(){pe(Zr,nn),pe(io,io.current)}function Vc(){nn=Zr.current,Ue(io),Ue(Zr)}var In=0,J=null,ae=null,Ee=null,Kr=!1,Yi=!1,si=!1,Qr=0,vs=0,Zi=null,H_=0;function Te(){throw Error(A(321))}function qc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function Bc(t,e,n,i,o,s){return In=s,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,q.H=t===null||t.memoizedState===null?Dg:kg,si=!1,s=n(i,o),si=!1,Yi&&(s=ng(e,n,i,o)),tg(t),s}function tg(t){q.H=Xr;var e=ae!==null&&ae.next!==null;if(In=0,Ee=ae=J=null,Kr=!1,vs=0,Zi=null,e)throw Error(A(300));t===null||ke||(t=t.dependencies,t!==null&&Yr(t)&&(ke=!0))}function ng(t,e,n,i){J=t;var o=0;do{if(Yi&&(Zi=null),vs=0,Yi=!1,25<=o)throw Error(A(301));if(o+=1,Ee=ae=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}q.H=X_,s=e(n,i)}while(Yi);return s}function F_(){var t=q.H,e=t.useState()[0];return e=typeof e.then=="function"?Bs(e):e,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(J.flags|=1024),e}function Gc(){var t=Qr!==0;return Qr=0,t}function zc(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function $c(t){if(Kr){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Kr=!1}In=0,Ee=ae=J=null,Yi=!1,vs=Qr=0,Zi=null}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?J.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function xe(){if(ae===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=Ee===null?J.memoizedState:Ee.next;if(e!==null)Ee=e,ae=t;else{if(t===null)throw J.alternate===null?Error(A(467)):Error(A(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ee===null?J.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bs(t){var e=vs;return vs+=1,Zi===null&&(Zi=[]),t=Wp(Zi,t,e),e=J,(Ee===null?e.memoizedState:Ee.next)===null&&(e=e.alternate,q.H=e===null||e.memoizedState===null?Dg:kg),t}function La(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bs(t);if(t.$$typeof===Jt)return Be(t)}throw Error(A(438,String(t)))}function Fc(t){var e=null,n=J.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(o){return o.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Hc(),J.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=R0;return e.index++,n}function en(t,e){return typeof e=="function"?e(t):e}function Mr(t){var e=xe();return Jc(e,ae,t)}function Jc(t,e,n){var i=t.queue;if(i===null)throw Error(A(311));i.lastRenderedReducer=n;var o=t.baseQueue,s=i.pending;if(s!==null){if(o!==null){var r=o.next;o.next=s.next,s.next=r}e.baseQueue=o=s,i.pending=null}if(s=t.baseState,o===null)t.memoizedState=s;else{e=o.next;var u=r=null,c=null,f=e,d=!1;do{var h=f.lane&-536870913;if(h!==f.lane?(j&h)===h:(In&h)===h){var m=f.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),h===no&&(d=!0);else if((In&m)===m){f=f.next,m===no&&(d=!0);continue}else h={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,r=s):c=c.next=h,J.lanes|=m,Pn|=m;h=f.action,si&&n(s,h),s=f.hasEagerState?f.eagerState:n(s,h)}else m={lane:h,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,r=s):c=c.next=m,J.lanes|=h,Pn|=h;f=f.next}while(f!==null&&f!==e);if(c===null?r=s:c.next=u,!lt(s,t.memoizedState)&&(ke=!0,d&&(n=Ji,n!==null)))throw n;t.memoizedState=s,t.baseState=r,t.baseQueue=c,i.lastRenderedState=s}return o===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function vl(t){var e=xe(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var r=o=o.next;do s=t(s,r.action),r=r.next;while(r!==o);lt(s,e.memoizedState)||(ke=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function ig(t,e,n){var i=J,o=xe(),s=te;if(s){if(n===void 0)throw Error(A(407));n=n()}else n=e();var r=!lt((ae||o).memoizedState,n);r&&(o.memoizedState=n,ke=!0),o=o.queue;var u=rg.bind(null,i,o,t);if(Gs(2048,8,u,[t]),o.getSnapshot!==e||r||Ee!==null&&Ee.memoizedState.tag&1){if(i.flags|=2048,oo(9,Pa(),sg.bind(null,i,o,n,e),null),ce===null)throw Error(A(349));s||In&124||og(i,e,n)}return n}function og(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e=Hc(),J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sg(t,e,n,i){e.value=n,e.getSnapshot=i,ag(e)&&lg(t)}function rg(t,e,n){return n(function(){ag(e)&&lg(t)})}function ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function lg(t){var e=To(t,2);e!==null&&at(e,t,2)}function yu(t){var e=Ye();if(typeof t=="function"){var n=t;if(t=n(),si){Sn(!0);try{n()}finally{Sn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:t},e}function ug(t,e,n,i){return t.baseState=n,Jc(t,ae,typeof i=="function"?i:en)}function J_(t,e,n,i,o){if(Oa(t))throw Error(A(485));if(t=e.action,t!==null){var s={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};q.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,cg(e,s)):(s.next=n.next,e.pending=n.next=s)}}function cg(t,e){var n=e.action,i=e.payload,o=t.state;if(e.isTransition){var s=q.T,r={};q.T=r;try{var u=n(o,i),c=q.S;c!==null&&c(r,u),ld(t,e,u)}catch(f){vu(t,e,f)}finally{q.T=s}}else try{s=n(o,i),ld(t,e,s)}catch(f){vu(t,e,f)}}function ld(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ud(t,e,i)},function(i){return vu(t,e,i)}):ud(t,e,n)}function ud(t,e,n){e.status="fulfilled",e.value=n,fg(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cg(t,n)))}function vu(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,fg(e),e=e.next;while(e!==i)}t.action=null}function fg(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function dg(t,e){return e}function cd(t,e){if(te){var n=ce.formState;if(n!==null){e:{var i=J;if(te){if(ye){t:{for(var o=ye,s=Rt;o.nodeType!==8;){if(!s){o=null;break t}if(o=wt(o.nextSibling),o===null){o=null;break t}}s=o.data,o=s==="F!"||s==="F"?o:null}if(o){ye=wt(o.nextSibling),i=o.data==="F!";break e}}ii(i)}i=!1}i&&(e=n[0])}}return n=Ye(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:e},n.queue=i,n=Mg.bind(null,J,i),i.dispatch=n,i=yu(!1),s=Qc.bind(null,J,!1,i.queue),i=Ye(),o={state:e,dispatch:null,action:t,pending:null},i.queue=o,n=J_.bind(null,J,o,s,n),o.dispatch=n,i.memoizedState=t,[e,n,!1]}function fd(t){var e=xe();return hg(e,ae,t)}function hg(t,e,n){if(e=Jc(t,e,dg)[0],t=Mr(en)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Bs(e)}catch(r){throw r===qs?Ia:r}else i=e;e=xe();var o=e.queue,s=o.dispatch;return n!==e.memoizedState&&(J.flags|=2048,oo(9,Pa(),Y_.bind(null,o,n),null)),[i,s,t]}function Y_(t,e){t.action=e}function dd(t){var e=xe(),n=ae;if(n!==null)return hg(e,n,t);xe(),e=e.memoizedState,n=xe();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function oo(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=J.updateQueue,e===null&&(e=Hc(),J.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Pa(){return{destroy:void 0,resource:void 0}}function mg(){return xe().memoizedState}function Rr(t,e,n,i){var o=Ye();i=i===void 0?null:i,J.flags|=t,o.memoizedState=oo(1|e,Pa(),n,i)}function Gs(t,e,n,i){var o=xe();i=i===void 0?null:i;var s=o.memoizedState.inst;ae!==null&&i!==null&&qc(i,ae.memoizedState.deps)?o.memoizedState=oo(e,s,n,i):(J.flags|=t,o.memoizedState=oo(1|e,s,n,i))}function hd(t,e){Rr(8390656,8,t,e)}function pg(t,e){Gs(2048,8,t,e)}function gg(t,e){return Gs(4,2,t,e)}function yg(t,e){return Gs(4,4,t,e)}function vg(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _g(t,e,n){n=n!=null?n.concat([t]):null,Gs(4,4,vg.bind(null,e,t),n)}function Yc(){}function Tg(t,e){var n=xe();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&qc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Sg(t,e){var n=xe();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&qc(e,i[1]))return i[0];if(i=t(),si){Sn(!0);try{t()}finally{Sn(!1)}}return n.memoizedState=[i,e],i}function Zc(t,e,n){return n===void 0||In&1073741824?t.memoizedState=e:(t.memoizedState=n,t=fy(),J.lanes|=t,Pn|=t,n)}function Cg(t,e,n,i){return lt(n,e)?n:io.current!==null?(t=Zc(t,n,i),lt(t,e)||(ke=!0),t):In&42?(t=fy(),J.lanes|=t,Pn|=t,e):(ke=!0,t.memoizedState=n)}function Eg(t,e,n,i,o){var s=ne.p;ne.p=s!==0&&8>s?s:8;var r=q.T,u={};q.T=u,Qc(t,!1,e,n);try{var c=o(),f=q.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=$_(c,i);ns(t,e,d,rt(t))}else ns(t,e,i,rt(t))}catch(h){ns(t,e,{then:function(){},status:"rejected",reason:h},rt())}finally{ne.p=s,q.T=r}}function Z_(){}function _u(t,e,n,i){if(t.tag!==5)throw Error(A(476));var o=xg(t).queue;Eg(t,o,e,Qn,n===null?Z_:function(){return wg(t),n(i)})}function xg(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Qn,baseState:Qn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:Qn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function wg(t){var e=xg(t).next.queue;ns(t,e,{},rt())}function Kc(){return Be(Es)}function Ag(){return xe().memoizedState}function bg(){return xe().memoizedState}function K_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=rt();t=An(n);var i=bn(e,t,n);i!==null&&(at(i,e,n),jo(i,e,n)),e={cache:Lc()},t.payload=e;return}e=e.return}}function Q_(t,e,n){var i=rt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Oa(t)?Rg(e,n):(n=Dc(t,e,n,i),n!==null&&(at(n,t,i),Ng(n,e,i)))}function Mg(t,e,n){var i=rt();ns(t,e,n,i)}function ns(t,e,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oa(t))Rg(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var r=e.lastRenderedState,u=s(r,n);if(o.hasEagerState=!0,o.eagerState=u,lt(u,r))return Ua(t,e,o,0),ce===null&&ka(),!1}catch{}finally{}if(n=Dc(t,e,o,i),n!==null)return at(n,t,i),Ng(n,e,i),!0}return!1}function Qc(t,e,n,i){if(i={lane:2,revertLane:sf(),action:i,hasEagerState:!1,eagerState:null,next:null},Oa(t)){if(e)throw Error(A(479))}else e=Dc(t,n,i,2),e!==null&&at(e,t,2)}function Oa(t){var e=t.alternate;return t===J||e!==null&&e===J}function Rg(t,e){Yi=Kr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ng(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tp(t,n)}}var Xr={readContext:Be,use:La,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},Dg={readContext:Be,use:La,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:hd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Rr(4194308,4,vg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rr(4194308,4,t,e)},useInsertionEffect:function(t,e){Rr(4,2,t,e)},useMemo:function(t,e){var n=Ye();e=e===void 0?null:e;var i=t();if(si){Sn(!0);try{t()}finally{Sn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ye();if(n!==void 0){var o=n(e);if(si){Sn(!0);try{n(e)}finally{Sn(!1)}}}else o=e;return i.memoizedState=i.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},i.queue=t,t=t.dispatch=Q_.bind(null,J,t),[i.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:function(t){t=yu(t);var e=t.queue,n=Mg.bind(null,J,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Yc,useDeferredValue:function(t,e){var n=Ye();return Zc(n,t,e)},useTransition:function(){var t=yu(!1);return t=Eg.bind(null,J,t.queue,!0,!1),Ye().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=J,o=Ye();if(te){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),ce===null)throw Error(A(349));j&124||og(i,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,hd(rg.bind(null,i,s,t),[t]),i.flags|=2048,oo(9,Pa(),sg.bind(null,i,s,n,e),null),n},useId:function(){var t=Ye(),e=ce.identifierPrefix;if(te){var n=Zt,i=Yt;n=(i&~(1<<32-st(i)-1)).toString(32)+n,e=""+e+"R"+n,n=Qr++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=H_++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Kc,useFormState:cd,useActionState:cd,useOptimistic:function(t){var e=Ye();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Qc.bind(null,J,!0,n),n.dispatch=e,[t,e]},useMemoCache:Fc,useCacheRefresh:function(){return Ye().memoizedState=K_.bind(null,J)}},kg={readContext:Be,use:La,useCallback:Tg,useContext:Be,useEffect:pg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Sg,useReducer:Mr,useRef:mg,useState:function(){return Mr(en)},useDebugValue:Yc,useDeferredValue:function(t,e){var n=xe();return Cg(n,ae.memoizedState,t,e)},useTransition:function(){var t=Mr(en)[0],e=xe().memoizedState;return[typeof t=="boolean"?t:Bs(t),e]},useSyncExternalStore:ig,useId:Ag,useHostTransitionStatus:Kc,useFormState:fd,useActionState:fd,useOptimistic:function(t,e){var n=xe();return ug(n,ae,t,e)},useMemoCache:Fc,useCacheRefresh:bg},X_={readContext:Be,use:La,useCallback:Tg,useContext:Be,useEffect:pg,useImperativeHandle:_g,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Sg,useReducer:vl,useRef:mg,useState:function(){return vl(en)},useDebugValue:Yc,useDeferredValue:function(t,e){var n=xe();return ae===null?Zc(n,t,e):Cg(n,ae.memoizedState,t,e)},useTransition:function(){var t=vl(en)[0],e=xe().memoizedState;return[typeof t=="boolean"?t:Bs(t),e]},useSyncExternalStore:ig,useId:Ag,useHostTransitionStatus:Kc,useFormState:dd,useActionState:dd,useOptimistic:function(t,e){var n=xe();return ae!==null?ug(n,ae,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:bg},Ki=null,_s=0;function lr(t){var e=_s;return _s+=1,Ki===null&&(Ki=[]),Wp(Ki,t,e)}function Io(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ur(t,e){throw e.$$typeof===b0?Error(A(525)):(t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function md(t){var e=t._init;return e(t._payload)}function Ug(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function i(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function o(y,g){return y=Xt(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function r(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function u(y,g,v,C){return g===null||g.tag!==6?(g=pl(v,y.mode,C),g.return=y,g):(g=o(g,v),g.return=y,g)}function c(y,g,v,C){var x=v.type;return x===Ni?d(y,g,v.props.children,C,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===dn&&md(x)===g.type)?(g=o(g,v.props),Io(g,v),g.return=y,g):(g=Ar(v.type,v.key,v.props,null,y.mode,C),Io(g,v),g.return=y,g)}function f(y,g,v,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=gl(v,y.mode,C),g.return=y,g):(g=o(g,v.children||[]),g.return=y,g)}function d(y,g,v,C,x){return g===null||g.tag!==7?(g=Xn(v,y.mode,C,x),g.return=y,g):(g=o(g,v),g.return=y,g)}function h(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=pl(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case tr:return v=Ar(g.type,g.key,g.props,null,y.mode,v),Io(v,g),v.return=y,v;case Bo:return g=gl(g,y.mode,v),g.return=y,g;case dn:var C=g._init;return g=C(g._payload),h(y,g,v)}if(Go(g)||No(g))return g=Xn(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return h(y,lr(g),v);if(g.$$typeof===Jt)return h(y,rr(y,g),v);ur(y,g)}return null}function m(y,g,v,C){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:u(y,g,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tr:return v.key===x?c(y,g,v,C):null;case Bo:return v.key===x?f(y,g,v,C):null;case dn:return x=v._init,v=x(v._payload),m(y,g,v,C)}if(Go(v)||No(v))return x!==null?null:d(y,g,v,C,null);if(typeof v.then=="function")return m(y,g,lr(v),C);if(v.$$typeof===Jt)return m(y,g,rr(y,v),C);ur(y,v)}return null}function p(y,g,v,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(v)||null,u(g,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case tr:return y=y.get(C.key===null?v:C.key)||null,c(g,y,C,x);case Bo:return y=y.get(C.key===null?v:C.key)||null,f(g,y,C,x);case dn:var b=C._init;return C=b(C._payload),p(y,g,v,C,x)}if(Go(C)||No(C))return y=y.get(v)||null,d(g,y,C,x,null);if(typeof C.then=="function")return p(y,g,v,lr(C),x);if(C.$$typeof===Jt)return p(y,g,v,rr(g,C),x);ur(g,C)}return null}function T(y,g,v,C){for(var x=null,b=null,w=g,D=g=0,I=null;w!==null&&D<v.length;D++){w.index>D?(I=w,w=null):I=w.sibling;var N=m(y,w,v[D],C);if(N===null){w===null&&(w=I);break}t&&w&&N.alternate===null&&e(y,w),g=s(N,g,D),b===null?x=N:b.sibling=N,b=N,w=I}if(D===v.length)return n(y,w),te&&Jn(y,D),x;if(w===null){for(;D<v.length;D++)w=h(y,v[D],C),w!==null&&(g=s(w,g,D),b===null?x=w:b.sibling=w,b=w);return te&&Jn(y,D),x}for(w=i(w);D<v.length;D++)I=p(w,y,D,v[D],C),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?D:I.key),g=s(I,g,D),b===null?x=I:b.sibling=I,b=I);return t&&w.forEach(function(M){return e(y,M)}),te&&Jn(y,D),x}function S(y,g,v,C){if(v==null)throw Error(A(151));for(var x=null,b=null,w=g,D=g=0,I=null,N=v.next();w!==null&&!N.done;D++,N=v.next()){w.index>D?(I=w,w=null):I=w.sibling;var M=m(y,w,N.value,C);if(M===null){w===null&&(w=I);break}t&&w&&M.alternate===null&&e(y,w),g=s(M,g,D),b===null?x=M:b.sibling=M,b=M,w=I}if(N.done)return n(y,w),te&&Jn(y,D),x;if(w===null){for(;!N.done;D++,N=v.next())N=h(y,N.value,C),N!==null&&(g=s(N,g,D),b===null?x=N:b.sibling=N,b=N);return te&&Jn(y,D),x}for(w=i(w);!N.done;D++,N=v.next())N=p(w,y,D,N.value,C),N!==null&&(t&&N.alternate!==null&&w.delete(N.key===null?D:N.key),g=s(N,g,D),b===null?x=N:b.sibling=N,b=N);return t&&w.forEach(function(z){return e(y,z)}),te&&Jn(y,D),x}function E(y,g,v,C){if(typeof v=="object"&&v!==null&&v.type===Ni&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case tr:e:{for(var x=v.key;g!==null;){if(g.key===x){if(x=v.type,x===Ni){if(g.tag===7){n(y,g.sibling),C=o(g,v.props.children),C.return=y,y=C;break e}}else if(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===dn&&md(x)===g.type){n(y,g.sibling),C=o(g,v.props),Io(C,v),C.return=y,y=C;break e}n(y,g);break}else e(y,g);g=g.sibling}v.type===Ni?(C=Xn(v.props.children,y.mode,C,v.key),C.return=y,y=C):(C=Ar(v.type,v.key,v.props,null,y.mode,C),Io(C,v),C.return=y,y=C)}return r(y);case Bo:e:{for(x=v.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),C=o(g,v.children||[]),C.return=y,y=C;break e}else{n(y,g);break}else e(y,g);g=g.sibling}C=gl(v,y.mode,C),C.return=y,y=C}return r(y);case dn:return x=v._init,v=x(v._payload),E(y,g,v,C)}if(Go(v))return T(y,g,v,C);if(No(v)){if(x=No(v),typeof x!="function")throw Error(A(150));return v=x.call(v),S(y,g,v,C)}if(typeof v.then=="function")return E(y,g,lr(v),C);if(v.$$typeof===Jt)return E(y,g,rr(y,v),C);ur(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),C=o(g,v),C.return=y,y=C):(n(y,g),C=pl(v,y.mode,C),C.return=y,y=C),r(y)):n(y,g)}return function(y,g,v,C){try{_s=0;var x=E(y,g,v,C);return Ki=null,x}catch(w){if(w===qs||w===Ia)throw w;var b=it(29,w,null,y.mode);return b.lanes=C,b.return=y,b}finally{}}}var so=Ug(!0),Ig=Ug(!1),_t=Vt(null),Lt=null;function yn(t){var e=t.alternate;pe(Ae,Ae.current&1),pe(_t,t),Lt===null&&(e===null||io.current!==null||e.memoizedState!==null)&&(Lt=t)}function Lg(t){if(t.tag===22){if(pe(Ae,Ae.current),pe(_t,t),Lt===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Lt=t)}}else vn()}function vn(){pe(Ae,Ae.current),pe(_t,_t.current)}function Qt(t){Ue(_t),Lt===t&&(Lt=null),Ue(Ae)}var Ae=Vt(0);function Wr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Pu(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function _l(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tu={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=rt(),o=An(i);o.payload=e,n!=null&&(o.callback=n),e=bn(t,o,i),e!==null&&(at(e,t,i),jo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=rt(),o=An(i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bn(t,o,i),e!==null&&(at(e,t,i),jo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),i=An(n);i.tag=2,e!=null&&(i.callback=e),e=bn(t,i,n),e!==null&&(at(e,t,n),jo(e,t,n))}};function pd(t,e,n,i,o,s,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,r):e.prototype&&e.prototype.isPureReactComponent?!gs(n,i)||!gs(o,s):!0}function gd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Tu.enqueueReplaceState(e,e.state,null)}function ri(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=de({},n));for(var o in t)n[o]===void 0&&(n[o]=t[o])}return n}var jr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pg(t){jr(t)}function Og(t){console.error(t)}function Vg(t){jr(t)}function ea(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function yd(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Su(t,e,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){ea(t,e)},n}function qg(t){return t=An(t),t.tag=3,t}function Bg(t,e,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var s=i.value;t.payload=function(){return o(s)},t.callback=function(){yd(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){yd(e,n,i),typeof o!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function W_(t,e,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Os(e,n,o,!0),n=_t.current,n!==null){switch(n.tag){case 13:return Lt===null?Ru():n.alternate===null&&ve===0&&(ve=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===hu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Nl(t,i,o)),!1;case 22:return n.flags|=65536,i===hu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Nl(t,i,o)),!1}throw Error(A(435,n.tag))}return Nl(t,i,o),Ru(),!1}if(te)return e=_t.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=o,i!==lu&&(t=Error(A(422),{cause:i}),ys(mt(t,n)))):(i!==lu&&(e=Error(A(423),{cause:i}),ys(mt(e,n))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,i=mt(i,n),o=Su(t.stateNode,i,o),yl(t,o),ve!==4&&(ve=2)),!1;var s=Error(A(520),{cause:i});if(s=mt(s,n),ss===null?ss=[s]:ss.push(s),ve!==4&&(ve=2),e===null)return!0;i=mt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=o&-o,n.lanes|=t,t=Su(n.stateNode,i,t),yl(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Mn===null||!Mn.has(s))))return n.flags|=65536,o&=-o,n.lanes|=o,o=qg(o),Bg(o,t,n,i),yl(n,o),!1}n=n.return}while(n!==null);return!1}var Gg=Error(A(461)),ke=!1;function Ie(t,e,n,i){e.child=t===null?Ig(e,null,n,i):so(e,t.child,n,i)}function vd(t,e,n,i,o){n=n.render;var s=e.ref;if("ref"in i){var r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}else r=i;return oi(e),i=Bc(t,e,n,r,s,o),u=Gc(),t!==null&&!ke?(zc(t,e,o),tn(t,e,o)):(te&&u&&Uc(e),e.flags|=1,Ie(t,e,i,o),e.child)}function _d(t,e,n,i,o){if(t===null){var s=n.type;return typeof s=="function"&&!kc(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,zg(t,e,s,i,o)):(t=Ar(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Xc(t,o)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:gs,n(r,i)&&t.ref===e.ref)return tn(t,e,o)}return e.flags|=1,t=Xt(s,i),t.ref=e.ref,t.return=e,e.child=t}function zg(t,e,n,i,o){if(t!==null){var s=t.memoizedProps;if(gs(s,i)&&t.ref===e.ref)if(ke=!1,e.pendingProps=i=s,Xc(t,o))t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,tn(t,e,o)}return Cu(t,e,n,i,o)}function $g(t,e,n){var i=e.pendingProps,o=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=s!==null?s.baseLanes|n:n,t!==null){for(o=e.child=t.child,s=0;o!==null;)s=s|o.lanes|o.childLanes,o=o.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return Td(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&br(e,s!==null?s.cachePool:null),s!==null?ad(e,s):gu(),Lg(e);else return e.lanes=e.childLanes=536870912,Td(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(br(e,s.cachePool),ad(e,s),vn(),e.memoizedState=null):(t!==null&&br(e,null),gu(),vn());return Ie(t,e,o,n),e.child}function Td(t,e,n,i){var o=Pc();return o=o===null?null:{parent:we._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},t!==null&&br(e,null),gu(),Lg(e),t!==null&&Os(t,e,i,!0),null}function Nr(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Cu(t,e,n,i,o){return oi(e),n=Bc(t,e,n,i,void 0,o),i=Gc(),t!==null&&!ke?(zc(t,e,o),tn(t,e,o)):(te&&i&&Uc(e),e.flags|=1,Ie(t,e,n,o),e.child)}function Sd(t,e,n,i,o,s){return oi(e),e.updateQueue=null,n=ng(e,i,n,o),tg(t),i=Gc(),t!==null&&!ke?(zc(t,e,s),tn(t,e,s)):(te&&i&&Uc(e),e.flags|=1,Ie(t,e,n,s),e.child)}function Cd(t,e,n,i,o){if(oi(e),e.stateNode===null){var s=Vi,r=n.contextType;typeof r=="object"&&r!==null&&(s=Be(r)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Tu,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Oc(e),r=n.contextType,s.context=typeof r=="object"&&r!==null?Be(r):Vi,s.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(_l(e,n,r,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&Tu.enqueueReplaceState(s,s.state,null),ts(e,i,s,o),es(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var u=e.memoizedProps,c=ri(n,u);s.props=c;var f=s.context,d=n.contextType;r=Vi,typeof d=="object"&&d!==null&&(r=Be(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u||f!==r)&&gd(e,s,i,r),hn=!1;var m=e.memoizedState;s.state=m,ts(e,i,s,o),es(),f=e.memoizedState,u||m!==f||hn?(typeof h=="function"&&(_l(e,n,h,i),f=e.memoizedState),(c=hn||pd(e,n,c,i,m,f,r))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),s.props=i,s.state=f,s.context=r,i=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,mu(t,e),r=e.memoizedProps,d=ri(n,r),s.props=d,h=e.pendingProps,m=s.context,f=n.contextType,c=Vi,typeof f=="object"&&f!==null&&(c=Be(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==h||m!==c)&&gd(e,s,i,c),hn=!1,m=e.memoizedState,s.state=m,ts(e,i,s,o),es();var p=e.memoizedState;r!==h||m!==p||hn||t!==null&&t.dependencies!==null&&Yr(t.dependencies)?(typeof u=="function"&&(_l(e,n,u,i),p=e.memoizedState),(d=hn||pd(e,n,d,i,m,p,c)||t!==null&&t.dependencies!==null&&Yr(t.dependencies))?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=c,i=d):(typeof s.componentDidUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,Nr(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=so(e,t.child,null,o),e.child=so(e,null,n,o)):Ie(t,e,n,o),e.memoizedState=s.state,t=e.child):t=tn(t,e,o),t}function Ed(t,e,n,i){return Ps(),e.flags|=256,Ie(t,e,n,i),e.child}var Tl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sl(t){return{baseLanes:t,cachePool:Qp()}}function Cl(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=gt),t}function Hg(t,e,n){var i=e.pendingProps,o=!1,s=(e.flags&128)!==0,r;if((r=s)||(r=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),r&&(o=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(te){if(o?yn(e):vn(),te){var u=ye,c;if(c=u){e:{for(c=u,u=Rt;c.nodeType!==8;){if(!u){u=null;break e}if(c=wt(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:Wn!==null?{id:Yt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},c=it(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,ze=e,ye=null,c=!0):c=!1}c||ii(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Pu(u)?e.lanes=32:e.lanes=536870912,null;Qt(e)}return u=i.children,i=i.fallback,o?(vn(),o=e.mode,u=ta({mode:"hidden",children:u},o),i=Xn(i,o,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,o=e.child,o.memoizedState=Sl(n),o.childLanes=Cl(t,r,n),e.memoizedState=Tl,i):(yn(e),Eu(e,u))}if(c=t.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(s)e.flags&256?(yn(e),e.flags&=-257,e=El(t,e,n)):e.memoizedState!==null?(vn(),e.child=t.child,e.flags|=128,e=null):(vn(),o=i.fallback,u=e.mode,i=ta({mode:"visible",children:i.children},u),o=Xn(o,u,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,so(e,t.child,null,n),i=e.child,i.memoizedState=Sl(n),i.childLanes=Cl(t,r,n),e.memoizedState=Tl,e=o);else if(yn(e),Pu(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var f=r.dgst;r=f,i=Error(A(419)),i.stack="",i.digest=r,ys({value:i,source:null,stack:null}),e=El(t,e,n)}else if(ke||Os(t,e,n,!1),r=(n&t.childLanes)!==0,ke||r){if(r=ce,r!==null&&(i=n&-n,i=i&42?1:Sc(i),i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,To(t,i),at(r,t,i),Gg;u.data==="$?"||Ru(),e=El(t,e,n)}else u.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ye=wt(u.nextSibling),ze=e,te=!0,jn=null,Rt=!1,t!==null&&(ft[dt++]=Yt,ft[dt++]=Zt,ft[dt++]=Wn,Yt=t.id,Zt=t.overflow,Wn=e),e=Eu(e,i.children),e.flags|=4096);return e}return o?(vn(),o=i.fallback,u=e.mode,c=t.child,f=c.sibling,i=Xt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?o=Xt(f,o):(o=Xn(o,u,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,u=t.child.memoizedState,u===null?u=Sl(n):(c=u.cachePool,c!==null?(f=we._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Qp(),u={baseLanes:u.baseLanes|n,cachePool:c}),o.memoizedState=u,o.childLanes=Cl(t,r,n),e.memoizedState=Tl,i):(yn(e),n=t.child,t=n.sibling,n=Xt(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Eu(t,e){return e=ta({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ta(t,e){return t=it(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function El(t,e,n){return so(e,t.child,null,n),t=Eu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xd(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),cu(t.return,e,n)}function xl(t,e,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function Fg(t,e,n){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(Ie(t,e,i.children,n),i=Ae.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xd(t,n,e);else if(t.tag===19)xd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(pe(Ae,i),o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Wr(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),xl(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Wr(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}xl(e,!0,n,null,s);break;case"together":xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,!(n&e.childLanes))if(t!==null){if(Os(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Xt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xc(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Yr(t)))}function j_(t,e,n){switch(e.tag){case 3:qr(e,e.stateNode.containerInfo),gn(e,we,t.memoizedState.cache),Ps();break;case 27:case 5:Wl(e);break;case 4:qr(e,e.stateNode.containerInfo);break;case 10:gn(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(yn(e),e.flags|=128,null):n&e.child.childLanes?Hg(t,e,n):(yn(e),t=tn(t,e,n),t!==null?t.sibling:null);yn(e);break;case 19:var o=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Os(t,e,n,!1),i=(n&e.childLanes)!==0),o){if(i)return Fg(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),pe(Ae,Ae.current),i)break;return null;case 22:case 23:return e.lanes=0,$g(t,e,n);case 24:gn(e,we,t.memoizedState.cache)}return tn(t,e,n)}function Jg(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ke=!0;else{if(!Xc(t,n)&&!(e.flags&128))return ke=!1,j_(t,e,n);ke=!!(t.flags&131072)}else ke=!1,te&&e.flags&1048576&&Zp(e,Jr,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,o=i._init;if(i=o(i._payload),e.type=i,typeof i=="function")kc(i)?(t=ri(i,t),e.tag=1,e=Cd(null,e,i,t,n)):(e.tag=0,e=Cu(null,e,i,t,n));else{if(i!=null){if(o=i.$$typeof,o===vc){e.tag=11,e=vd(null,e,i,t,n);break e}else if(o===_c){e.tag=14,e=_d(null,e,i,t,n);break e}}throw e=Ql(i)||i,Error(A(306,e,""))}}return e;case 0:return Cu(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,o=ri(i,e.pendingProps),Cd(t,e,i,o,n);case 3:e:{if(qr(e,e.stateNode.containerInfo),t===null)throw Error(A(387));i=e.pendingProps;var s=e.memoizedState;o=s.element,mu(t,e),ts(e,i,null,n);var r=e.memoizedState;if(i=r.cache,gn(e,we,i),i!==s.cache&&fu(e,[we],n,!0),es(),i=r.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Ed(t,e,i,n);break e}else if(i!==o){o=mt(Error(A(424)),e),ys(o),e=Ed(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ye=wt(t.firstChild),ze=e,te=!0,jn=null,Rt=!0,n=Ig(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ps(),i===o){e=tn(t,e,n);break e}Ie(t,e,i,n)}e=e.child}return e;case 26:return Nr(t,e),t===null?(n=Gd(e.type,null,e.pendingProps,null))?e.memoizedState=n:te||(n=e.type,t=e.pendingProps,i=la(wn.current).createElement(n),i[qe]=e,i[Xe]=t,Pe(i,n,t),De(i),e.stateNode=i):e.memoizedState=Gd(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Wl(e),t===null&&te&&(i=e.stateNode=ky(e.type,e.pendingProps,wn.current),ze=e,Rt=!0,o=ye,qn(e.type)?(Ou=o,ye=wt(i.firstChild)):ye=o),Ie(t,e,e.pendingProps.children,n),Nr(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&te&&((o=i=ye)&&(i=bT(i,e.type,e.pendingProps,Rt),i!==null?(e.stateNode=i,ze=e,ye=wt(i.firstChild),Rt=!1,o=!0):o=!1),o||ii(e)),Wl(e),o=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,i=s.children,Iu(o,s)?i=null:r!==null&&Iu(o,r)&&(e.flags|=32),e.memoizedState!==null&&(o=Bc(t,e,F_,null,null,n),Es._currentValue=o),Nr(t,e),Ie(t,e,i,n),e.child;case 6:return t===null&&te&&((t=n=ye)&&(n=MT(n,e.pendingProps,Rt),n!==null?(e.stateNode=n,ze=e,ye=null,t=!0):t=!1),t||ii(e)),null;case 13:return Hg(t,e,n);case 4:return qr(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=so(e,null,i,n):Ie(t,e,i,n),e.child;case 11:return vd(t,e,e.type,e.pendingProps,n);case 7:return Ie(t,e,e.pendingProps,n),e.child;case 8:return Ie(t,e,e.pendingProps.children,n),e.child;case 12:return Ie(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,gn(e,e.type,i.value),Ie(t,e,i.children,n),e.child;case 9:return o=e.type._context,i=e.pendingProps.children,oi(e),o=Be(o),i=i(o),e.flags|=1,Ie(t,e,i,n),e.child;case 14:return _d(t,e,e.type,e.pendingProps,n);case 15:return zg(t,e,e.type,e.pendingProps,n);case 19:return Fg(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=ta(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Xt(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return $g(t,e,n);case 24:return oi(e),i=Be(we),t===null?(o=Pc(),o===null&&(o=ce,s=Lc(),o.pooledCache=s,s.refCount++,s!==null&&(o.pooledCacheLanes|=n),o=s),e.memoizedState={parent:i,cache:o},Oc(e),gn(e,we,o)):(t.lanes&n&&(mu(t,e),ts(e,null,null,n),es()),o=t.memoizedState,s=e.memoizedState,o.parent!==i?(o={parent:i,cache:i},e.memoizedState=o,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=o),gn(e,we,i)):(i=s.cache,gn(e,we,i),i!==o.cache&&fu(e,[we],n,!0))),Ie(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(A(156,e.tag))}function Gt(t){t.flags|=4}function wd(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Ly(e)){if(e=_t.current,e!==null&&((j&4194048)===j?Lt!==null:(j&62914560)!==j&&!(j&536870912)||e!==Lt))throw Wo=hu,Xp;t.flags|=8192}}function cr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?vp():536870912,t.lanes|=e,ro|=e)}function Lo(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function eT(t,e,n){var i=e.pendingProps;switch(Ic(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return ge(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Wt(we),ji(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uo(e)?Gt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,td())),ge(e),null;case 26:return n=e.memoizedState,t===null?(Gt(e),n!==null?(ge(e),wd(e,n)):(ge(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Gt(e),ge(e),wd(e,n)):(ge(e),e.flags&=-16777217):(t.memoizedProps!==i&&Gt(e),ge(e),e.flags&=-16777217),null;case 27:Br(e),n=wn.current;var o=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Gt(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return ge(e),null}t=Ut.current,Uo(e)?jf(e):(t=ky(o,i,n),e.stateNode=t,Gt(e))}return ge(e),null;case 5:if(Br(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Gt(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return ge(e),null}if(t=Ut.current,Uo(e))jf(e);else{switch(o=la(wn.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?o.createElement(n,{is:i.is}):o.createElement(n)}}t[qe]=e,t[Xe]=i;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=t;e:switch(Pe(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gt(e)}}return ge(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Gt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(t=wn.current,Uo(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,o=ze,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}t[qe]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Ry(t.nodeValue,n)),t||ii(e)}else t=la(t).createTextNode(i),t[qe]=e,e.stateNode=t}return ge(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Uo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(A(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[qe]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),o=!1}else o=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return e.flags&256?(Qt(e),e):(Qt(e),null)}if(Qt(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),cr(e,e.updateQueue),ge(e),null;case 4:return ji(),t===null&&rf(e.stateNode.containerInfo),ge(e),null;case 10:return Wt(e.type),ge(e),null;case 19:if(Ue(Ae),o=e.memoizedState,o===null)return ge(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Lo(o,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wr(t),s!==null){for(e.flags|=128,Lo(o,!1),t=s.updateQueue,e.updateQueue=t,cr(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Yp(n,t),n=n.sibling;return pe(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&It()>ia&&(e.flags|=128,i=!0,Lo(o,!1),e.lanes=4194304)}else{if(!i)if(t=Wr(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,cr(e,t),Lo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!te)return ge(e),null}else 2*It()-o.renderingStartTime>ia&&n!==536870912&&(e.flags|=128,i=!0,Lo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=It(),e.sibling=null,t=Ae.current,pe(Ae,i?t&1|2:t&1),e):(ge(e),null);case 22:case 23:return Qt(e),Vc(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),n=e.updateQueue,n!==null&&cr(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ue(ei),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Wt(we),ge(e),null;case 25:return null;case 30:return null}throw Error(A(156,e.tag))}function tT(t,e){switch(Ic(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wt(we),ji(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Br(e),null;case 13:if(Qt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ae),null;case 4:return ji(),null;case 10:return Wt(e.type),null;case 22:case 23:return Qt(e),Vc(),t!==null&&Ue(ei),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Wt(we),null;case 25:return null;default:return null}}function Yg(t,e){switch(Ic(e),e.tag){case 3:Wt(we),ji();break;case 26:case 27:case 5:Br(e);break;case 4:ji();break;case 13:Qt(e);break;case 19:Ue(Ae);break;case 10:Wt(e.type);break;case 22:case 23:Qt(e),Vc(),t!==null&&Ue(ei);break;case 24:Wt(we)}}function zs(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){i=void 0;var s=n.create,r=n.inst;i=s(),r.destroy=i}n=n.next}while(n!==o)}}catch(u){le(e,e.return,u)}}function Ln(t,e,n){try{var i=e.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var s=o.next;i=s;do{if((i.tag&t)===t){var r=i.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,o=e;var c=n,f=u;try{f()}catch(d){le(o,c,d)}}}i=i.next}while(i!==s)}}catch(d){le(e,e.return,d)}}function Zg(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{eg(e,n)}catch(i){le(t,t.return,i)}}}function Kg(t,e,n){n.props=ri(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){le(t,e,i)}}function is(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(o){le(t,e,o)}}function Nt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){le(t,e,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){le(t,e,o)}else n.current=null}function Qg(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){le(t,t.return,o)}}function wl(t,e,n){try{var i=t.stateNode;CT(i,t.type,n,e),i[Xe]=e}catch(o){le(t,t.return,o)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qn(t.type)||t.tag===4}function Al(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ga));else if(i!==4&&(i===27&&qn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(xu(t,e,n),t=t.sibling;t!==null;)xu(t,e,n),t=t.sibling}function na(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&qn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(na(t,e,n),t=t.sibling;t!==null;)na(t,e,n),t=t.sibling}function Wg(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,o=e.attributes;o.length;)e.removeAttributeNode(o[0]);Pe(e,i,n),e[qe]=t,e[Xe]=n}catch(s){le(t,t.return,s)}}var Ft=!1,Se=!1,bl=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function nT(t,e){if(t=t.containerInfo,ku=da,t=qp(t),Rc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,f=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||o!==0&&h.nodeType!==3||(u=r+o),h!==s||i!==0&&h.nodeType!==3||(c=r+i),h.nodeType===3&&(r+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++f===o&&(u=r),m===s&&++d===i&&(c=r),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uu={focusedElem:t,selectionRange:n},da=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){switch(e=Ne,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,o=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var T=ri(n.type,o,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(T,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(S){le(n,n.return,S)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Lu(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(A(163))}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}}function jg(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:un(t,n),i&4&&zs(5,n);break;case 1:if(un(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){le(n,n.return,r)}else{var o=ri(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(o,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){le(n,n.return,r)}}i&64&&Zg(n),i&512&&is(n,n.return);break;case 3:if(un(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{eg(t,e)}catch(r){le(n,n.return,r)}}break;case 27:e===null&&i&4&&Wg(n);case 26:case 5:un(t,n),e===null&&i&4&&Qg(n),i&512&&is(n,n.return);break;case 12:un(t,n);break;case 13:un(t,n),i&4&&ny(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=fT.bind(null,n),RT(t,n))));break;case 22:if(i=n.memoizedState!==null||Ft,!i){e=e!==null&&e.memoizedState!==null||Se,o=Ft;var s=Se;Ft=i,(Se=e)&&!s?cn(t,n,(n.subtreeFlags&8772)!==0):un(t,n),Ft=o,Se=s}break;case 30:break;default:un(t,n)}}function ey(t){var e=t.alternate;e!==null&&(t.alternate=null,ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ec(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,Ze=!1;function zt(t,e,n){for(n=n.child;n!==null;)ty(t,e,n),n=n.sibling}function ty(t,e,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 26:Se||Nt(n,e),zt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Se||Nt(n,e);var i=he,o=Ze;qn(n.type)&&(he=n.stateNode,Ze=!1),zt(t,e,n),as(n.stateNode),he=i,Ze=o;break;case 5:Se||Nt(n,e);case 6:if(i=he,o=Ze,he=null,zt(t,e,n),he=i,Ze=o,he!==null)if(Ze)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(s){le(n,e,s)}else try{he.removeChild(n.stateNode)}catch(s){le(n,e,s)}break;case 18:he!==null&&(Ze?(t=he,Vd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),As(t)):Vd(he,n.stateNode));break;case 4:i=he,o=Ze,he=n.stateNode.containerInfo,Ze=!0,zt(t,e,n),he=i,Ze=o;break;case 0:case 11:case 14:case 15:Se||Ln(2,n,e),Se||Ln(4,n,e),zt(t,e,n);break;case 1:Se||(Nt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Kg(n,e,i)),zt(t,e,n);break;case 21:zt(t,e,n);break;case 22:Se=(i=Se)||n.memoizedState!==null,zt(t,e,n),Se=i;break;default:zt(t,e,n)}}function ny(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{As(t)}catch(n){le(e,e.return,n)}}function iT(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ad),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ad),e;default:throw Error(A(435,t.tag))}}function Ml(t,e){var n=iT(t);e.forEach(function(i){var o=dT.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}function et(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],s=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(qn(u.type)){he=u.stateNode,Ze=!1;break e}break;case 5:he=u.stateNode,Ze=!1;break e;case 3:case 4:he=u.stateNode.containerInfo,Ze=!0;break e}u=u.return}if(he===null)throw Error(A(160));ty(s,r,o),he=null,Ze=!1,s=o.alternate,s!==null&&(s.return=null),o.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)iy(e,t),e=e.sibling}var Et=null;function iy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:et(e,t),tt(t),i&4&&(Ln(3,t,t.return),zs(3,t),Ln(5,t,t.return));break;case 1:et(e,t),tt(t),i&512&&(Se||n===null||Nt(n,n.return)),i&64&&Ft&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Et;if(et(e,t),tt(t),i&512&&(Se||n===null||Nt(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":s=o.getElementsByTagName("title")[0],(!s||s[Is]||s[qe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=o.createElement(i),o.head.insertBefore(s,o.querySelector("head > title"))),Pe(s,i,n),s[qe]=t,De(s),i=s;break e;case"link":var r=$d("link","href",o).get(i+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(s=r[u],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}s=o.createElement(i),Pe(s,i,n),o.head.appendChild(s);break;case"meta":if(r=$d("meta","content",o).get(i+(n.content||""))){for(u=0;u<r.length;u++)if(s=r[u],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}s=o.createElement(i),Pe(s,i,n),o.head.appendChild(s);break;default:throw Error(A(468,i))}s[qe]=t,De(s),i=s}t.stateNode=i}else Hd(o,t.type,t.stateNode);else t.stateNode=zd(o,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Hd(o,t.type,t.stateNode):zd(o,i,t.memoizedProps)):i===null&&t.stateNode!==null&&wl(t,t.memoizedProps,n.memoizedProps)}break;case 27:et(e,t),tt(t),i&512&&(Se||n===null||Nt(n,n.return)),n!==null&&i&4&&wl(t,t.memoizedProps,n.memoizedProps);break;case 5:if(et(e,t),tt(t),i&512&&(Se||n===null||Nt(n,n.return)),t.flags&32){o=t.stateNode;try{to(o,"")}catch(p){le(t,t.return,p)}}i&4&&t.stateNode!=null&&(o=t.memoizedProps,wl(t,o,n!==null?n.memoizedProps:o)),i&1024&&(bl=!0);break;case 6:if(et(e,t),tt(t),i&4){if(t.stateNode===null)throw Error(A(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){le(t,t.return,p)}}break;case 3:if(Ur=null,o=Et,Et=ua(e.containerInfo),et(e,t),Et=o,tt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{As(e.containerInfo)}catch(p){le(t,t.return,p)}bl&&(bl=!1,oy(t));break;case 4:i=Et,Et=ua(t.stateNode.containerInfo),et(e,t),tt(t),Et=i;break;case 12:et(e,t),tt(t);break;case 13:et(e,t),tt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(nf=It()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 22:o=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Ft,d=Se;if(Ft=f||o,Se=d||c,et(e,t),Se=d,Ft=f,tt(t),i&8192)e:for(e=t.stateNode,e._visibility=o?e._visibility&-2:e._visibility|1,o&&(n===null||c||Ft||Se||Yn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,o)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;u.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(p){le(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(p){le(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ml(t,n))));break;case 19:et(e,t),tt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Ml(t,i)));break;case 30:break;case 21:break;default:et(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Xg(i)){n=i;break}i=i.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var o=n.stateNode,s=Al(t);na(t,s,o);break;case 5:var r=n.stateNode;n.flags&32&&(to(r,""),n.flags&=-33);var u=Al(t);na(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Al(t);xu(t,f,c);break;default:throw Error(A(161))}}catch(d){le(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;oy(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function un(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jg(t,e.alternate,e),e=e.sibling}function Yn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ln(4,e,e.return),Yn(e);break;case 1:Nt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Kg(e,e.return,n),Yn(e);break;case 27:as(e.stateNode);case 26:case 5:Nt(e,e.return),Yn(e);break;case 22:e.memoizedState===null&&Yn(e);break;case 30:Yn(e);break;default:Yn(e)}t=t.sibling}}function cn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,o=t,s=e,r=s.flags;switch(s.tag){case 0:case 11:case 15:cn(o,s,n),zs(4,s);break;case 1:if(cn(o,s,n),i=s,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){le(i,i.return,f)}if(i=s,o=i.updateQueue,o!==null){var u=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)jp(c[o],u)}catch(f){le(i,i.return,f)}}n&&r&64&&Zg(s),is(s,s.return);break;case 27:Wg(s);case 26:case 5:cn(o,s,n),n&&i===null&&r&4&&Qg(s),is(s,s.return);break;case 12:cn(o,s,n);break;case 13:cn(o,s,n),n&&r&4&&ny(o,s);break;case 22:s.memoizedState===null&&cn(o,s,n),is(s,s.return);break;case 30:break;default:cn(o,s,n)}e=e.sibling}}function Wc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Vs(n))}function jc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vs(t))}function Mt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(t,e,n,i),e=e.sibling}function sy(t,e,n,i){var o=e.flags;switch(e.tag){case 0:case 11:case 15:Mt(t,e,n,i),o&2048&&zs(9,e);break;case 1:Mt(t,e,n,i);break;case 3:Mt(t,e,n,i),o&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vs(t)));break;case 12:if(o&2048){Mt(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,r=s.id,u=s.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){le(e,e.return,c)}}else Mt(t,e,n,i);break;case 13:Mt(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,r=e.alternate,e.memoizedState!==null?s._visibility&2?Mt(t,e,n,i):os(t,e):s._visibility&2?Mt(t,e,n,i):(s._visibility|=2,Ai(t,e,n,i,(e.subtreeFlags&10256)!==0)),o&2048&&Wc(r,e);break;case 24:Mt(t,e,n,i),o&2048&&jc(e.alternate,e);break;default:Mt(t,e,n,i)}}function Ai(t,e,n,i,o){for(o=o&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,r=e,u=n,c=i,f=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(s,r,u,c,o),zs(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Ai(s,r,u,c,o):os(s,r):(d._visibility|=2,Ai(s,r,u,c,o)),o&&f&2048&&Wc(r.alternate,r);break;case 24:Ai(s,r,u,c,o),o&&f&2048&&jc(r.alternate,r);break;default:Ai(s,r,u,c,o)}e=e.sibling}}function os(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,o=i.flags;switch(i.tag){case 22:os(n,i),o&2048&&Wc(i.alternate,i);break;case 24:os(n,i),o&2048&&jc(i.alternate,i);break;default:os(n,i)}e=e.sibling}}var $o=8192;function yi(t){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)ry(t),t=t.sibling}function ry(t){switch(t.tag){case 26:yi(t),t.flags&$o&&t.memoizedState!==null&&zT(Et,t.memoizedState,t.memoizedProps);break;case 5:yi(t);break;case 3:case 4:var e=Et;Et=ua(t.stateNode.containerInfo),yi(t),Et=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=$o,$o=16777216,yi(t),$o=e):yi(t));break;default:yi(t)}}function ay(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Po(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ne=i,uy(i,t)}ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ly(t),t=t.sibling}function ly(t){switch(t.tag){case 0:case 11:case 15:Po(t),t.flags&2048&&Ln(9,t,t.return);break;case 3:Po(t);break;case 12:Po(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Dr(t)):Po(t);break;default:Po(t)}}function Dr(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ne=i,uy(i,t)}ay(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ln(8,e,e.return),Dr(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Dr(e));break;default:Dr(e)}t=t.sibling}}function uy(t,e){for(;Ne!==null;){var n=Ne;switch(n.tag){case 0:case 11:case 15:Ln(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Vs(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ne=i;else e:for(n=t;Ne!==null;){i=Ne;var o=i.sibling,s=i.return;if(ey(i),i===n){Ne=null;break e}if(o!==null){o.return=s,Ne=o;break e}Ne=s}}}var oT={getCacheForType:function(t){var e=Be(we),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},sT=typeof WeakMap=="function"?WeakMap:Map,oe=0,ce=null,X=null,j=0,ie=0,nt=null,En=!1,So=!1,ef=!1,nn=0,ve=0,Pn=0,ti=0,tf=0,gt=0,ro=0,ss=null,Ke=null,wu=!1,nf=0,ia=1/0,oa=null,Mn=null,Le=0,Rn=null,ao=null,Qi=0,Au=0,bu=null,cy=null,rs=0,Mu=null;function rt(){if(oe&2&&j!==0)return j&-j;if(q.T!==null){var t=no;return t!==0?t:sf()}return Sp()}function fy(){gt===0&&(gt=!(j&536870912)||te?yp():536870912);var t=_t.current;return t!==null&&(t.flags|=32),gt}function at(t,e,n){(t===ce&&(ie===2||ie===9)||t.cancelPendingCommit!==null)&&(lo(t,0),xn(t,j,gt,!1)),Us(t,n),(!(oe&2)||t!==ce)&&(t===ce&&(!(oe&2)&&(ti|=n),ve===4&&xn(t,j,gt,!1)),qt(t))}function dy(t,e,n){if(oe&6)throw Error(A(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ks(t,e),o=i?lT(t,e):Rl(t,e,!0),s=i;do{if(o===0){So&&!i&&xn(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!rT(n)){o=Rl(t,e,!1),s=!1;continue}if(o===2){if(s=e,t.errorRecoveryDisabledLanes&s)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;o=ss;var c=u.current.memoizedState.isDehydrated;if(c&&(lo(u,r).flags|=256),r=Rl(u,r,!1),r!==2){if(ef&&!c){u.errorRecoveryDisabledLanes|=s,ti|=s,o=4;break e}s=Ke,Ke=o,s!==null&&(Ke===null?Ke=s:Ke.push.apply(Ke,s))}o=r}if(s=!1,o!==2)continue}}if(o===1){lo(t,0),xn(t,e,0,!0);break}e:{switch(i=t,s=o,s){case 0:case 1:throw Error(A(345));case 4:if((e&4194048)!==e)break;case 6:xn(i,e,gt,!En);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(A(329))}if((e&62914560)===e&&(o=nf+300-It(),10<o)){if(xn(i,e,gt,!En),Ma(i,0,!0)!==0)break e;i.timeoutHandle=Dy(bd.bind(null,i,n,Ke,oa,wu,e,gt,ti,ro,En,s,2,-0,0),o);break e}bd(i,n,Ke,oa,wu,e,gt,ti,ro,En,s,0,-0,0)}}break}while(!0);qt(t)}function bd(t,e,n,i,o,s,r,u,c,f,d,h,m,p){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Cs={stylesheets:null,count:0,unsuspend:GT},ry(e),h=$T(),h!==null)){t.cancelPendingCommit=h(Rd.bind(null,t,e,s,n,i,o,r,u,c,d,1,m,p)),xn(t,s,r,!f);return}Rd(t,e,s,n,i,o,r,u,c)}function rT(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!lt(s(),o))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xn(t,e,n,i){e&=~tf,e&=~ti,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var o=e;0<o;){var s=31-st(o),r=1<<s;i[s]=-1,o&=~r}n!==0&&_p(t,n,e)}function Va(){return oe&6?!0:($s(0),!1)}function of(){if(X!==null){if(ie===0)var t=X.return;else t=X,Kt=mi=null,$c(t),Ki=null,_s=0,t=X;for(;t!==null;)Yg(t.alternate,t),t=t.return;X=null}}function lo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,xT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),of(),ce=t,X=n=Xt(t.current,null),j=e,ie=0,nt=null,En=!1,So=ks(t,e),ef=!1,ro=gt=tf=ti=Pn=ve=0,Ke=ss=null,wu=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var o=31-st(i),s=1<<o;e|=t[o],i&=~s}return nn=e,ka(),n}function hy(t,e){J=null,q.H=Xr,e===qs||e===Ia?(e=sd(),ie=3):e===Xp?(e=sd(),ie=4):ie=e===Gg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nt=e,X===null&&(ve=1,ea(t,mt(e,t.current)))}function my(){var t=q.H;return q.H=Xr,t===null?Xr:t}function py(){var t=q.A;return q.A=oT,t}function Ru(){ve=4,En||(j&4194048)!==j&&_t.current!==null||(So=!0),!(Pn&134217727)&&!(ti&134217727)||ce===null||xn(ce,j,gt,!1)}function Rl(t,e,n){var i=oe;oe|=2;var o=my(),s=py();(ce!==t||j!==e)&&(oa=null,lo(t,e)),e=!1;var r=ve;e:do try{if(ie!==0&&X!==null){var u=X,c=nt;switch(ie){case 8:of(),r=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(e=!0);var f=ie;if(ie=0,nt=null,Gi(t,u,c,f),n&&So){r=0;break e}break;default:f=ie,ie=0,nt=null,Gi(t,u,c,f)}}aT(),r=ve;break}catch(d){hy(t,d)}while(!0);return e&&t.shellSuspendCounter++,Kt=mi=null,oe=i,q.H=o,q.A=s,X===null&&(ce=null,j=0,ka()),r}function aT(){for(;X!==null;)gy(X)}function lT(t,e){var n=oe;oe|=2;var i=my(),o=py();ce!==t||j!==e?(oa=null,ia=It()+500,lo(t,e)):So=ks(t,e);e:do try{if(ie!==0&&X!==null){e=X;var s=nt;t:switch(ie){case 1:ie=0,nt=null,Gi(t,e,s,1);break;case 2:case 9:if(od(s)){ie=0,nt=null,Md(e);break}e=function(){ie!==2&&ie!==9||ce!==t||(ie=7),qt(t)},s.then(e,e);break e;case 3:ie=7;break e;case 4:ie=5;break e;case 7:od(s)?(ie=0,nt=null,Md(e)):(ie=0,nt=null,Gi(t,e,s,7));break;case 5:var r=null;switch(X.tag){case 26:r=X.memoizedState;case 5:case 27:var u=X;if(!r||Ly(r)){ie=0,nt=null;var c=u.sibling;if(c!==null)X=c;else{var f=u.return;f!==null?(X=f,qa(f)):X=null}break t}}ie=0,nt=null,Gi(t,e,s,5);break;case 6:ie=0,nt=null,Gi(t,e,s,6);break;case 8:of(),ve=6;break e;default:throw Error(A(462))}}uT();break}catch(d){hy(t,d)}while(!0);return Kt=mi=null,q.H=i,q.A=o,oe=n,X!==null?0:(ce=null,j=0,ka(),ve)}function uT(){for(;X!==null&&!D0();)gy(X)}function gy(t){var e=Jg(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?qa(t):X=e}function Md(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Sd(n,e,e.pendingProps,e.type,void 0,j);break;case 11:e=Sd(n,e,e.pendingProps,e.type.render,e.ref,j);break;case 5:$c(e);default:Yg(n,e),e=X=Yp(e,nn),e=Jg(n,e,nn)}t.memoizedProps=t.pendingProps,e===null?qa(t):X=e}function Gi(t,e,n,i){Kt=mi=null,$c(e),Ki=null,_s=0;var o=e.return;try{if(W_(t,o,e,n,j)){ve=1,ea(t,mt(n,t.current)),X=null;return}}catch(s){if(o!==null)throw X=o,s;ve=1,ea(t,mt(n,t.current)),X=null;return}e.flags&32768?(te||i===1?t=!0:So||j&536870912?t=!1:(En=t=!0,(i===2||i===9||i===3||i===6)&&(i=_t.current,i!==null&&i.tag===13&&(i.flags|=16384))),yy(e,t)):qa(e)}function qa(t){var e=t;do{if(e.flags&32768){yy(e,En);return}t=e.return;var n=eT(e.alternate,e,nn);if(n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);ve===0&&(ve=5)}function yy(t,e){do{var n=tT(t.alternate,t);if(n!==null){n.flags&=32767,X=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){X=t;return}X=t=n}while(t!==null);ve=6,X=null}function Rd(t,e,n,i,o,s,r,u,c){t.cancelPendingCommit=null;do Ba();while(Le!==0);if(oe&6)throw Error(A(327));if(e!==null){if(e===t.current)throw Error(A(177));if(s=e.lanes|e.childLanes,s|=Nc,G0(t,n,s,r,u,c),t===ce&&(X=ce=null,j=0),ao=e,Rn=t,Qi=n,Au=s,bu=o,cy=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,hT(Gr,function(){return Cy(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=q.T,q.T=null,o=ne.p,ne.p=2,r=oe,oe|=4;try{nT(t,e,n)}finally{oe=r,ne.p=o,q.T=i}}Le=1,vy(),_y(),Ty()}}function vy(){if(Le===1){Le=0;var t=Rn,e=ao,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=q.T,q.T=null;var i=ne.p;ne.p=2;var o=oe;oe|=4;try{iy(e,t);var s=Uu,r=qp(t.containerInfo),u=s.focusedElem,c=s.selectionRange;if(r!==u&&u&&u.ownerDocument&&Vp(u.ownerDocument.documentElement,u)){if(c!==null&&Rc(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var h=u.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var p=m.getSelection(),T=u.textContent.length,S=Math.min(c.start,T),E=c.end===void 0?S:Math.min(c.end,T);!p.extend&&S>E&&(r=E,E=S,S=r);var y=Qf(u,S),g=Qf(u,E);if(y&&g&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==g.node||p.focusOffset!==g.offset)){var v=h.createRange();v.setStart(y.node,y.offset),p.removeAllRanges(),S>E?(p.addRange(v),p.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),p.addRange(v))}}}}for(h=[],p=u;p=p.parentNode;)p.nodeType===1&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<h.length;u++){var C=h[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}da=!!ku,Uu=ku=null}finally{oe=o,ne.p=i,q.T=n}}t.current=e,Le=2}}function _y(){if(Le===2){Le=0;var t=Rn,e=ao,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=q.T,q.T=null;var i=ne.p;ne.p=2;var o=oe;oe|=4;try{jg(t,e.alternate,e)}finally{oe=o,ne.p=i,q.T=n}}Le=3}}function Ty(){if(Le===4||Le===3){Le=0,k0();var t=Rn,e=ao,n=Qi,i=cy;e.subtreeFlags&10256||e.flags&10256?Le=5:(Le=0,ao=Rn=null,Sy(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Mn=null),Cc(n),e=e.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=q.T,o=ne.p,ne.p=2,q.T=null;try{for(var s=t.onRecoverableError,r=0;r<i.length;r++){var u=i[r];s(u.value,{componentStack:u.stack})}}finally{q.T=e,ne.p=o}}Qi&3&&Ba(),qt(t),o=t.pendingLanes,n&4194090&&o&42?t===Mu?rs++:(rs=0,Mu=t):rs=0,$s(0)}}function Sy(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Vs(e)))}function Ba(t){return vy(),_y(),Ty(),Cy()}function Cy(){if(Le!==5)return!1;var t=Rn,e=Au;Au=0;var n=Cc(Qi),i=q.T,o=ne.p;try{ne.p=32>n?32:n,q.T=null,n=bu,bu=null;var s=Rn,r=Qi;if(Le=0,ao=Rn=null,Qi=0,oe&6)throw Error(A(331));var u=oe;if(oe|=4,ly(s.current),sy(s,s.current,r,n),oe=u,$s(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Ds,s)}catch{}return!0}finally{ne.p=o,q.T=i,Sy(t,e)}}function Nd(t,e,n){e=mt(n,e),e=Su(t.stateNode,e,2),t=bn(t,e,2),t!==null&&(Us(t,2),qt(t))}function le(t,e,n){if(t.tag===3)Nd(t,t,n);else for(;e!==null;){if(e.tag===3){Nd(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Mn===null||!Mn.has(i))){t=mt(n,t),n=qg(2),i=bn(e,n,2),i!==null&&(Bg(n,i,e,t),Us(i,2),qt(i));break}}e=e.return}}function Nl(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new sT;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(ef=!0,o.add(n),t=cT.bind(null,t,e,n),e.then(t,t))}function cT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ce===t&&(j&n)===n&&(ve===4||ve===3&&(j&62914560)===j&&300>It()-nf?!(oe&2)&&lo(t,0):tf|=n,ro===j&&(ro=0)),qt(t)}function Ey(t,e){e===0&&(e=vp()),t=To(t,e),t!==null&&(Us(t,e),qt(t))}function fT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ey(t,n)}function dT(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(A(314))}i!==null&&i.delete(e),Ey(t,n)}function hT(t,e){return Tc(t,e)}var sa=null,bi=null,Nu=!1,ra=!1,Dl=!1,ni=0;function qt(t){t!==bi&&t.next===null&&(bi===null?sa=bi=t:bi=bi.next=t),ra=!0,Nu||(Nu=!0,pT())}function $s(t,e){if(!Dl&&ra){Dl=!0;do for(var n=!1,i=sa;i!==null;){if(t!==0){var o=i.pendingLanes;if(o===0)var s=0;else{var r=i.suspendedLanes,u=i.pingedLanes;s=(1<<31-st(42|t)+1)-1,s&=o&~(r&~u),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Dd(i,s))}else s=j,s=Ma(i,i===ce?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||ks(i,s)||(n=!0,Dd(i,s));i=i.next}while(n);Dl=!1}}function mT(){xy()}function xy(){ra=Nu=!1;var t=0;ni!==0&&(ET()&&(t=ni),ni=0);for(var e=It(),n=null,i=sa;i!==null;){var o=i.next,s=wy(i,e);s===0?(i.next=null,n===null?sa=o:n.next=o,o===null&&(bi=n)):(n=i,(t!==0||s&3)&&(ra=!0)),i=o}$s(t)}function wy(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var r=31-st(s),u=1<<r,c=o[r];c===-1?(!(u&n)||u&i)&&(o[r]=B0(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}if(e=ce,n=j,n=Ma(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ie===2||ie===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&il(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ks(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&il(i),Cc(n)){case 2:case 8:n=pp;break;case 32:n=Gr;break;case 268435456:n=gp;break;default:n=Gr}return i=Ay.bind(null,t),n=Tc(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&il(i),t.callbackPriority=2,t.callbackNode=null,2}function Ay(t,e){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ba()&&t.callbackNode!==n)return null;var i=j;return i=Ma(t,t===ce?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(dy(t,i,e),wy(t,It()),t.callbackNode!=null&&t.callbackNode===n?Ay.bind(null,t):null)}function Dd(t,e){if(Ba())return null;dy(t,e,!0)}function pT(){wT(function(){oe&6?Tc(mp,mT):xy()})}function sf(){return ni===0&&(ni=yp()),ni}function kd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Er(""+t)}function Ud(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function gT(t,e,n,i,o){if(e==="submit"&&n&&n.stateNode===o){var s=kd((o[Xe]||null).action),r=i.submitter;r&&(e=(e=r[Xe]||null)?kd(e.formAction):r.getAttribute("formAction"),e!==null&&(s=e,r=null));var u=new Ra("action","action",null,i,o);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ni!==0){var c=r?Ud(o,r):new FormData(o);_u(n,{pending:!0,data:c,method:o.method,action:s},null,c)}}else typeof s=="function"&&(u.preventDefault(),c=r?Ud(o,r):new FormData(o),_u(n,{pending:!0,data:c,method:o.method,action:s},s,c))},currentTarget:o}]})}}for(var kl=0;kl<au.length;kl++){var Ul=au[kl],yT=Ul.toLowerCase(),vT=Ul[0].toUpperCase()+Ul.slice(1);At(yT,"on"+vT)}At(Gp,"onAnimationEnd");At(zp,"onAnimationIteration");At($p,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(L_,"onTransitionRun");At(P_,"onTransitionStart");At(O_,"onTransitionCancel");At(Hp,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ts));function by(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var r=i.length-1;0<=r;r--){var u=i[r],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&o.isPropagationStopped())break e;s=u,o.currentTarget=f;try{s(o)}catch(d){jr(d)}o.currentTarget=null,s=c}else for(r=0;r<i.length;r++){if(u=i[r],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&o.isPropagationStopped())break e;s=u,o.currentTarget=f;try{s(o)}catch(d){jr(d)}o.currentTarget=null,s=c}}}}function Q(t,e){var n=e[eu];n===void 0&&(n=e[eu]=new Set);var i=t+"__bubble";n.has(i)||(My(e,t,2,!1),n.add(i))}function Il(t,e,n){var i=0;e&&(i|=4),My(n,t,i,e)}var fr="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[fr]){t[fr]=!0,Cp.forEach(function(n){n!=="selectionchange"&&(_T.has(n)||Il(n,!1,t),Il(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fr]||(e[fr]=!0,Il("selectionchange",!1,e))}}function My(t,e,n,i){switch(By(e)){case 2:var o=JT;break;case 8:o=YT;break;default:o=cf}n=o.bind(null,e,n,t),o=void 0,!ou||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Ll(t,e,n,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var u=i.stateNode.containerInfo;if(u===o)break;if(r===4)for(r=i.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===o)return;r=r.return}for(;u!==null;){if(r=ki(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){i=s=r;continue e}u=u.parentNode}}i=i.return}Np(function(){var f=s,d=wc(n),h=[];e:{var m=Fp.get(t);if(m!==void 0){var p=Ra,T=t;switch(t){case"keypress":if(wr(n)===0)break e;case"keydown":case"keyup":p=h_;break;case"focusin":T="focus",p=fl;break;case"focusout":T="blur",p=fl;break;case"beforeblur":case"afterblur":p=fl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=t_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=g_;break;case Gp:case zp:case $p:p=o_;break;case Hp:p=v_;break;case"scroll":case"scrollend":p=j0;break;case"wheel":p=T_;break;case"copy":case"cut":case"paste":p=r_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zf;break;case"toggle":case"beforetoggle":p=C_}var S=(e&4)!==0,E=!S&&(t==="scroll"||t==="scrollend"),y=S?m!==null?m+"Capture":null:m;S=[];for(var g=f,v;g!==null;){var C=g;if(v=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||v===null||y===null||(C=ms(g,y),C!=null&&S.push(Ss(g,C,v))),E)break;g=g.return}0<S.length&&(m=new p(m,T,null,n,d),h.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==iu&&(T=n.relatedTarget||n.fromElement)&&(ki(T)||T[vo]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(T=n.relatedTarget||n.toElement,p=f,T=T?ki(T):null,T!==null&&(E=Ns(T),S=T.tag,T!==E||S!==5&&S!==27&&S!==6)&&(T=null)):(p=null,T=f),p!==T)){if(S=Bf,C="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=zf,C="onPointerLeave",y="onPointerEnter",g="pointer"),E=p==null?m:zo(p),v=T==null?m:zo(T),m=new S(C,g+"leave",p,n,d),m.target=E,m.relatedTarget=v,C=null,ki(d)===f&&(S=new S(y,g+"enter",T,n,d),S.target=v,S.relatedTarget=E,C=S),E=C,p&&T)t:{for(S=p,y=T,g=0,v=S;v;v=vi(v))g++;for(v=0,C=y;C;C=vi(C))v++;for(;0<g-v;)S=vi(S),g--;for(;0<v-g;)y=vi(y),v--;for(;g--;){if(S===y||y!==null&&S===y.alternate)break t;S=vi(S),y=vi(y)}S=null}else S=null;p!==null&&Id(h,m,p,S,!1),T!==null&&E!==null&&Id(h,E,T,S,!0)}}e:{if(m=f?zo(f):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var x=Jf;else if(Ff(m))if(Pp)x=k_;else{x=N_;var b=R_}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?f&&xc(f.elementType)&&(x=Jf):x=D_;if(x&&(x=x(t,f))){Lp(h,x,n,d);break e}b&&b(t,m,f),t==="focusout"&&f&&m.type==="number"&&f.memoizedProps.value!=null&&nu(m,"number",m.value)}switch(b=f?zo(f):window,t){case"focusin":(Ff(b)||b.contentEditable==="true")&&(Li=b,su=f,Qo=null);break;case"focusout":Qo=su=Li=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,Xf(h,n,d);break;case"selectionchange":if(I_)break;case"keydown":case"keyup":Xf(h,n,d)}var w;if(Mc)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ii?Up(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(kp&&n.locale!=="ko"&&(Ii||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ii&&(w=Dp()):(Cn=d,Ac="value"in Cn?Cn.value:Cn.textContent,Ii=!0)),b=aa(f,D),0<b.length&&(D=new Gf(D,t,null,n,d),h.push({event:D,listeners:b}),w?D.data=w:(w=Ip(n),w!==null&&(D.data=w)))),(w=x_?w_(t,n):A_(t,n))&&(D=aa(f,"onBeforeInput"),0<D.length&&(b=new Gf("onBeforeInput","beforeinput",null,n,d),h.push({event:b,listeners:D}),b.data=w)),gT(h,t,f,n,d)}by(h,e)})}function Ss(t,e,n){return{instance:t,listener:e,currentTarget:n}}function aa(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,s=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||s===null||(o=ms(t,n),o!=null&&i.unshift(Ss(t,o,s)),o=ms(t,e),o!=null&&i.push(Ss(t,o,s))),t.tag===3)return i;t=t.return}return[]}function vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Id(t,e,n,i,o){for(var s=e._reactName,r=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,o?(f=ms(n,s),f!=null&&r.unshift(Ss(n,f,c))):o||(f=ms(n,s),f!=null&&r.push(Ss(n,f,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var TT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function Ld(t){return(typeof t=="string"?t:""+t).replace(TT,`
`).replace(ST,"")}function Ry(t,e){return e=Ld(e),Ld(t)===e}function Ga(){}function re(t,e,n,i,o,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||to(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&to(t,""+i);break;case"className":or(t,"class",i);break;case"tabIndex":or(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":or(t,n,i);break;case"style":Rp(t,i,s);break;case"data":if(e!=="object"){or(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Er(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&re(t,e,"name",o.name,o,null),re(t,e,"formEncType",o.formEncType,o,null),re(t,e,"formMethod",o.formMethod,o,null),re(t,e,"formTarget",o.formTarget,o,null)):(re(t,e,"encType",o.encType,o,null),re(t,e,"method",o.method,o,null),re(t,e,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Er(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Ga);break;case"onScroll":i!=null&&Q("scroll",t);break;case"onScrollEnd":i!=null&&Q("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Er(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Q("beforetoggle",t),Q("toggle",t),Cr(t,"popover",i);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cr(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=X0.get(n)||n,Cr(t,n,i))}}function Du(t,e,n,i,o,s){switch(n){case"style":Rp(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"children":typeof i=="string"?to(t,i):(typeof i=="number"||typeof i=="bigint")&&to(t,""+i);break;case"onScroll":i!=null&&Q("scroll",t);break;case"onScrollEnd":i!=null&&Q("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ep.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),e=n.slice(2,o?n.length-7:void 0),s=t[Xe]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,o),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,o);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Cr(t,n,i)}}}function Pe(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Q("error",t),Q("load",t);var i=!1,o=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:re(t,e,s,r,n,null)}}o&&re(t,e,"srcSet",n.srcSet,n,null),i&&re(t,e,"src",n.src,n,null);return;case"input":Q("invalid",t);var u=s=r=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":s=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,e));break;default:re(t,e,i,d,n,null)}}Ap(t,s,u,c,f,r,o,!1),zr(t);return;case"select":Q("invalid",t),i=r=s=null;for(o in n)if(n.hasOwnProperty(o)&&(u=n[o],u!=null))switch(o){case"value":s=u;break;case"defaultValue":r=u;break;case"multiple":i=u;default:re(t,e,o,u,n,null)}e=s,n=r,t.multiple=!!i,e!=null?Hi(t,!!i,e,!1):n!=null&&Hi(t,!!i,n,!0);return;case"textarea":Q("invalid",t),s=o=i=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":i=u;break;case"defaultValue":o=u;break;case"children":s=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(A(91));break;default:re(t,e,r,u,n,null)}Mp(t,i,o,s),zr(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:re(t,e,c,i,n,null)}return;case"dialog":Q("beforetoggle",t),Q("toggle",t),Q("cancel",t),Q("close",t);break;case"iframe":case"object":Q("load",t);break;case"video":case"audio":for(i=0;i<Ts.length;i++)Q(Ts[i],t);break;case"image":Q("error",t),Q("load",t);break;case"details":Q("toggle",t);break;case"embed":case"source":case"link":Q("error",t),Q("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:re(t,e,f,i,n,null)}return;default:if(xc(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Du(t,e,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&re(t,e,u,i,n,null))}function CT(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,s=null,r=null,u=null,c=null,f=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&h!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||re(t,e,p,null,i,h)}}for(var m in i){var p=i[m];if(h=n[m],i.hasOwnProperty(m)&&(p!=null||h!=null))switch(m){case"type":s=p;break;case"name":o=p;break;case"checked":f=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(A(137,e));break;default:p!==h&&re(t,e,m,p,i,h)}}tu(t,r,u,c,f,d,s,o);return;case"select":p=r=u=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(s)||re(t,e,s,null,i,c)}for(o in i)if(s=i[o],c=n[o],i.hasOwnProperty(o)&&(s!=null||c!=null))switch(o){case"value":m=s;break;case"defaultValue":u=s;break;case"multiple":r=s;default:s!==c&&re(t,e,o,s,i,c)}e=u,n=r,i=p,m!=null?Hi(t,!!n,m,!1):!!i!=!!n&&(e!=null?Hi(t,!!n,e,!0):Hi(t,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(u in n)if(o=n[u],n.hasOwnProperty(u)&&o!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:re(t,e,u,null,i,o)}for(r in i)if(o=i[r],s=n[r],i.hasOwnProperty(r)&&(o!=null||s!=null))switch(r){case"value":m=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(A(91));break;default:o!==s&&re(t,e,r,o,i,s)}bp(t,m,p);return;case"option":for(var T in n)if(m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T))switch(T){case"selected":t.selected=!1;break;default:re(t,e,T,null,i,m)}for(c in i)if(m=i[c],p=n[c],i.hasOwnProperty(c)&&m!==p&&(m!=null||p!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:re(t,e,c,m,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&re(t,e,S,null,i,m);for(f in i)if(m=i[f],p=n[f],i.hasOwnProperty(f)&&m!==p&&(m!=null||p!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,e));break;default:re(t,e,f,m,i,p)}return;default:if(xc(e)){for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!==void 0&&!i.hasOwnProperty(E)&&Du(t,e,E,void 0,i,m);for(d in i)m=i[d],p=n[d],!i.hasOwnProperty(d)||m===p||m===void 0&&p===void 0||Du(t,e,d,m,i,p);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!i.hasOwnProperty(y)&&re(t,e,y,null,i,m);for(h in i)m=i[h],p=n[h],!i.hasOwnProperty(h)||m===p||m==null&&p==null||re(t,e,h,m,i,p)}var ku=null,Uu=null;function la(t){return t.nodeType===9?t:t.ownerDocument}function Pd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Iu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pl=null;function ET(){var t=window.event;return t&&t.type==="popstate"?t===Pl?!1:(Pl=t,!0):(Pl=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(t){return Od.resolve(null).then(t).catch(AT)}:Dy;function AT(t){setTimeout(function(){throw t})}function qn(t){return t==="head"}function Vd(t,e){var n=e,i=0,o=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(n&1&&as(r.documentElement),n&2&&as(r.body),n&4)for(n=r.head,as(n),r=n.firstChild;r;){var u=r.nextSibling,c=r.nodeName;r[Is]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=u}}if(o===0){t.removeChild(s),As(e);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);As(e)}function Lu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lu(n),Ec(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function bT(t,e,n,i){for(;t.nodeType===1;){var o=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Is])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=wt(t.nextSibling),t===null)break}return null}function MT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=wt(t.nextSibling),t===null))return null;return t}function Pu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function RT(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Ou=null;function qd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function ky(t,e,n){switch(e=la(n),t){case"html":if(t=e.documentElement,!t)throw Error(A(452));return t;case"head":if(t=e.head,!t)throw Error(A(453));return t;case"body":if(t=e.body,!t)throw Error(A(454));return t;default:throw Error(A(451))}}function as(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ec(t)}var Tt=new Map,Bd=new Set;function ua(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sn=ne.d;ne.d={f:NT,r:DT,D:kT,C:UT,L:IT,m:LT,X:OT,S:PT,M:VT};function NT(){var t=sn.f(),e=Va();return t||e}function DT(t){var e=_o(t);e!==null&&e.tag===5&&e.type==="form"?wg(e):sn.r(t)}var Co=typeof document>"u"?null:document;function Uy(t,e,n){var i=Co;if(i&&typeof e=="string"&&e){var o=ht(e);o='link[rel="'+t+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Bd.has(o)||(Bd.add(o),t={rel:t,crossOrigin:n,href:e},i.querySelector(o)===null&&(e=i.createElement("link"),Pe(e,"link",t),De(e),i.head.appendChild(e)))}}function kT(t){sn.D(t),Uy("dns-prefetch",t,null)}function UT(t,e){sn.C(t,e),Uy("preconnect",t,e)}function IT(t,e,n){sn.L(t,e,n);var i=Co;if(i&&t&&e){var o='link[rel="preload"][as="'+ht(e)+'"]';e==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+ht(n.imageSizes)+'"]')):o+='[href="'+ht(t)+'"]';var s=o;switch(e){case"style":s=uo(t);break;case"script":s=Eo(t)}Tt.has(s)||(t=de({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Tt.set(s,t),i.querySelector(o)!==null||e==="style"&&i.querySelector(Hs(s))||e==="script"&&i.querySelector(Fs(s))||(e=i.createElement("link"),Pe(e,"link",t),De(e),i.head.appendChild(e)))}}function LT(t,e){sn.m(t,e);var n=Co;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",o='link[rel="modulepreload"][as="'+ht(i)+'"][href="'+ht(t)+'"]',s=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Eo(t)}if(!Tt.has(s)&&(t=de({rel:"modulepreload",href:t},e),Tt.set(s,t),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fs(s)))return}i=n.createElement("link"),Pe(i,"link",t),De(i),n.head.appendChild(i)}}}function PT(t,e,n){sn.S(t,e,n);var i=Co;if(i&&t){var o=$i(i).hoistableStyles,s=uo(t);e=e||"default";var r=o.get(s);if(!r){var u={loading:0,preload:null};if(r=i.querySelector(Hs(s)))u.loading=5;else{t=de({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Tt.get(s))&&af(t,n);var c=r=i.createElement("link");De(c),Pe(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,kr(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:u},o.set(s,r)}}}function OT(t,e){sn.X(t,e);var n=Co;if(n&&t){var i=$i(n).hoistableScripts,o=Eo(t),s=i.get(o);s||(s=n.querySelector(Fs(o)),s||(t=de({src:t,async:!0},e),(e=Tt.get(o))&&lf(t,e),s=n.createElement("script"),De(s),Pe(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function VT(t,e){sn.M(t,e);var n=Co;if(n&&t){var i=$i(n).hoistableScripts,o=Eo(t),s=i.get(o);s||(s=n.querySelector(Fs(o)),s||(t=de({src:t,async:!0,type:"module"},e),(e=Tt.get(o))&&lf(t,e),s=n.createElement("script"),De(s),Pe(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function Gd(t,e,n,i){var o=(o=wn.current)?ua(o):null;if(!o)throw Error(A(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=uo(n.href),n=$i(o).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=uo(n.href);var s=$i(o).hoistableStyles,r=s.get(t);if(r||(o=o.ownerDocument||o,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,r),(s=o.querySelector(Hs(t)))&&!s._p&&(r.instance=s,r.state.loading=5),Tt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tt.set(t,n),s||qT(o,t,n,r.state))),e&&i===null)throw Error(A(528,""));return r}if(e&&i!==null)throw Error(A(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Eo(n),n=$i(o).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,t))}}function uo(t){return'href="'+ht(t)+'"'}function Hs(t){return'link[rel="stylesheet"]['+t+"]"}function Iy(t){return de({},t,{"data-precedence":t.precedence,precedence:null})}function qT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Pe(e,"link",n),De(e),t.head.appendChild(e))}function Eo(t){return'[src="'+ht(t)+'"]'}function Fs(t){return"script[async]"+t}function zd(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ht(n.href)+'"]');if(i)return e.instance=i,De(i),i;var o=de({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),De(i),Pe(i,"style",o),kr(i,n.precedence,t),e.instance=i;case"stylesheet":o=uo(n.href);var s=t.querySelector(Hs(o));if(s)return e.state.loading|=4,e.instance=s,De(s),s;i=Iy(n),(o=Tt.get(o))&&af(i,o),s=(t.ownerDocument||t).createElement("link"),De(s);var r=s;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Pe(s,"link",i),e.state.loading|=4,kr(s,n.precedence,t),e.instance=s;case"script":return s=Eo(n.src),(o=t.querySelector(Fs(s)))?(e.instance=o,De(o),o):(i=n,(o=Tt.get(s))&&(i=de({},n),lf(i,o)),t=t.ownerDocument||t,o=t.createElement("script"),De(o),Pe(o,"link",i),t.head.appendChild(o),e.instance=o);case"void":return null;default:throw Error(A(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,kr(i,n.precedence,t));return e.instance}function kr(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,s=o,r=0;r<i.length;r++){var u=i[r];if(u.dataset.precedence===e)s=u;else if(s!==o)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function af(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function lf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ur=null;function $d(t,e,n){if(Ur===null){var i=new Map,o=Ur=new Map;o.set(n,i)}else o=Ur,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),o=0;o<n.length;o++){var s=n[o];if(!(s[Is]||s[qe]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(e)||"";r=t+r;var u=i.get(r);u?u.push(s):i.set(r,[s])}}return i}function Hd(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function BT(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ly(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Cs=null;function GT(){}function zT(t,e,n){if(Cs===null)throw Error(A(475));var i=Cs;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var o=uo(n.href),s=t.querySelector(Hs(o));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=ca.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,De(s);return}s=t.ownerDocument||t,n=Iy(n),(o=Tt.get(o))&&af(n,o),s=s.createElement("link"),De(s);var r=s;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Pe(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=ca.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function $T(){if(Cs===null)throw Error(A(475));var t=Cs;return t.stylesheets&&t.count===0&&Vu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function ca(){if(this.count--,this.count===0){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fa=null;function Vu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fa=new Map,e.forEach(HT,t),fa=null,ca.call(t))}function HT(t,e){if(!(e.state.loading&4)){var n=fa.get(t);if(n)var i=n.get(null);else{n=new Map,fa.set(t,n);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<o.length;s++){var r=o[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}o=e.instance,r=o.getAttribute("data-precedence"),s=n.get(r)||i,s===i&&n.set(null,o),n.set(r,o),this.count++,i=ca.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),s?s.parentNode.insertBefore(o,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),e.state.loading|=4}}var Es={$$typeof:Jt,Provider:null,Consumer:null,_currentValue:Qn,_currentValue2:Qn,_threadCount:0};function FT(t,e,n,i,o,s,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.hiddenUpdates=ol(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Py(t,e,n,i,o,s,r,u,c,f,d,h){return t=new FT(t,e,n,r,u,c,f,h),e=1,s===!0&&(e|=24),s=it(3,null,null,e),t.current=s,s.stateNode=t,e=Lc(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Oc(s),t}function Oy(t){return t?(t=Vi,t):Vi}function Vy(t,e,n,i,o,s){o=Oy(o),i.context===null?i.context=o:i.pendingContext=o,i=An(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=bn(t,i,e),n!==null&&(at(n,t,e),jo(n,t,e))}function Fd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uf(t,e){Fd(t,e),(t=t.alternate)&&Fd(t,e)}function qy(t){if(t.tag===13){var e=To(t,67108864);e!==null&&at(e,t,67108864),uf(t,67108864)}}var da=!0;function JT(t,e,n,i){var o=q.T;q.T=null;var s=ne.p;try{ne.p=2,cf(t,e,n,i)}finally{ne.p=s,q.T=o}}function YT(t,e,n,i){var o=q.T;q.T=null;var s=ne.p;try{ne.p=8,cf(t,e,n,i)}finally{ne.p=s,q.T=o}}function cf(t,e,n,i){if(da){var o=qu(i);if(o===null)Ll(t,e,i,ha,n),Jd(t,i);else if(KT(o,t,e,n,i))i.stopPropagation();else if(Jd(t,i),e&4&&-1<ZT.indexOf(t)){for(;o!==null;){var s=_o(o);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Fn(s.pendingLanes);if(r!==0){var u=s;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-st(r);u.entanglements[1]|=c,r&=~c}qt(s),!(oe&6)&&(ia=It()+500,$s(0))}}break;case 13:u=To(s,2),u!==null&&at(u,s,2),Va(),uf(s,2)}if(s=qu(i),s===null&&Ll(t,e,i,ha,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else Ll(t,e,i,null,n)}}function qu(t){return t=wc(t),ff(t)}var ha=null;function ff(t){if(ha=null,t=ki(t),t!==null){var e=Ns(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ha=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U0()){case mp:return 2;case pp:return 8;case Gr:case I0:return 32;case gp:return 268435456;default:return 32}default:return 32}}var Bu=!1,Nn=null,Dn=null,kn=null,xs=new Map,ws=new Map,_n=[],ZT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jd(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(e.pointerId)}}function Oo(t,e,n,i,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=_o(e),e!==null&&qy(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function KT(t,e,n,i,o){switch(e){case"focusin":return Nn=Oo(Nn,t,e,n,i,o),!0;case"dragenter":return Dn=Oo(Dn,t,e,n,i,o),!0;case"mouseover":return kn=Oo(kn,t,e,n,i,o),!0;case"pointerover":var s=o.pointerId;return xs.set(s,Oo(xs.get(s)||null,t,e,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,ws.set(s,Oo(ws.get(s)||null,t,e,n,i,o)),!0}return!1}function Gy(t){var e=ki(t.target);if(e!==null){var n=Ns(e);if(n!==null){if(e=n.tag,e===13){if(e=cp(n),e!==null){t.blockedOn=e,z0(t.priority,function(){if(n.tag===13){var i=rt();i=Sc(i);var o=To(n,i);o!==null&&at(o,n,i),uf(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ir(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qu(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);iu=i,n.target.dispatchEvent(i),iu=null}else return e=_o(n),e!==null&&qy(e),t.blockedOn=n,!1;e.shift()}return!0}function Yd(t,e,n){Ir(t)&&n.delete(e)}function QT(){Bu=!1,Nn!==null&&Ir(Nn)&&(Nn=null),Dn!==null&&Ir(Dn)&&(Dn=null),kn!==null&&Ir(kn)&&(kn=null),xs.forEach(Yd),ws.forEach(Yd)}function dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Bu||(Bu=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,QT)))}var hr=null;function Zd(t){hr!==t&&(hr=t,be.unstable_scheduleCallback(be.unstable_NormalPriority,function(){hr===t&&(hr=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],o=t[e+2];if(typeof i!="function"){if(ff(i||n)===null)continue;break}var s=_o(n);s!==null&&(t.splice(e,3),e-=3,_u(s,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function As(t){function e(c){return dr(c,t)}Nn!==null&&dr(Nn,t),Dn!==null&&dr(Dn,t),kn!==null&&dr(kn,t),xs.forEach(e),ws.forEach(e);for(var n=0;n<_n.length;n++){var i=_n[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)Gy(n),n.blockedOn===null&&_n.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],s=n[i+1],r=o[Xe]||null;if(typeof s=="function")r||Zd(n);else if(r){var u=null;if(s&&s.hasAttribute("formAction")){if(o=s,r=s[Xe]||null)u=r.formAction;else if(ff(o)!==null)continue}else u=r.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),Zd(n)}}}function df(t){this._internalRoot=t}za.prototype.render=df.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));var n=e.current,i=rt();Vy(n,i,t,e,null,null)};za.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vy(t.current,2,null,t,null,null),Va(),e[vo]=null}};function za(t){this._internalRoot=t}za.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&Gy(t)}};var Kd=lp.version;if(Kd!=="19.1.0")throw Error(A(527,Kd,"19.1.0"));ne.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=A0(e),t=t!==null?fp(t):null,t=t===null?null:t.stateNode,t};var XT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mr.isDisabled&&mr.supportsFiber)try{Ds=mr.inject(XT),ot=mr}catch{}}Aa.createRoot=function(t,e){if(!up(t))throw Error(A(299));var n=!1,i="",o=Pg,s=Og,r=Vg,u=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(o=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Py(t,1,!1,null,null,n,i,o,s,r,u,null),t[vo]=e.current,rf(t),new df(e)};Aa.hydrateRoot=function(t,e,n){if(!up(t))throw Error(A(299));var i=!1,o="",s=Pg,r=Og,u=Vg,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=Py(t,1,!0,e,n??null,i,o,s,r,u,c,f),e.context=Oy(null),n=e.current,i=rt(),i=Sc(i),o=An(i),o.callback=null,bn(n,o,i),n=i,e.current.lanes=n,Us(e,n),qt(e),t[vo]=e.current,rf(t),new za(e)};Aa.version="19.1.0";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(t){console.error(t)}}zy(),np.exports=Aa;var WT=np.exports;const jT=Jm(WT);var Oe=(t=>(t[t.IDLE=0]="IDLE",t[t.GENERATING=1]="GENERATING",t[t.QUIZ=2]="QUIZ",t[t.RESULTS=3]="RESULTS",t[t.ERROR=4]="ERROR",t[t.SAVED_QUIZZES=5]="SAVED_QUIZZES",t))(Oe||{}),ee;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const s={};for(const r of o)s[r]=r;return s},t.getValidEnumValues=o=>{const s=t.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),r={};for(const u of s)r[u]=o[u];return t.objectValues(r)},t.objectValues=o=>t.objectKeys(o).map(function(s){return o[s]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const r in o)Object.prototype.hasOwnProperty.call(o,r)&&s.push(r);return s},t.find=(o,s)=>{for(const r of o)if(s(r))return r},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,s=" | "){return o.map(r=>typeof r=="string"?`'${r}'`:r).join(s)}t.joinValues=i,t.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(ee||(ee={}));var Qd;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Qd||(Qd={}));const L=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mn=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return Number.isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},R=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class on extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},i={_errors:[]},o=s=>{for(const r of s.issues)if(r.code==="invalid_union")r.unionErrors.map(o);else if(r.code==="invalid_return_type")o(r.returnTypeError);else if(r.code==="invalid_arguments")o(r.argumentsError);else if(r.path.length===0)i._errors.push(n(r));else{let u=i,c=0;for(;c<r.path.length;){const f=r.path[c];c===r.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(r))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return o(this),i}static assert(e){if(!(e instanceof on))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const s=o.path[0];n[s]=n[s]||[],n[s].push(e(o))}else i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}on.create=t=>new on(t);const Gu=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===L.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ee.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${ee.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ee.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${ee.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ee.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,ee.assertNever(t)}return{message:n}};let eS=Gu;function tS(){return eS}const nS=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,s=[...n,...o.path||[]],r={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(r,{data:e,defaultError:u}).message;return{...o,path:s,message:u}};function k(t,e){const n=tS(),i=nS({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Gu?void 0:Gu].filter(o=>!!o)});t.common.issues.push(i)}class He{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return G;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const s=await o.key,r=await o.value;i.push({key:s,value:r})}return He.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:s,value:r}=o;if(s.status==="aborted"||r.status==="aborted")return G;s.status==="dirty"&&e.dirty(),r.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof r.value<"u"||o.alwaysSet)&&(i[s.value]=r.value)}return{status:e.value,value:i}}}const G=Object.freeze({status:"aborted"}),Ho=t=>({status:"dirty",value:t}),St=t=>({status:"valid",value:t}),Xd=t=>t.status==="aborted",Wd=t=>t.status==="dirty",co=t=>t.status==="valid",ma=t=>typeof Promise<"u"&&t instanceof Promise;var P;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(P||(P={}));class Ot{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jd=(t,e)=>{if(co(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new on(t.common.issues);return this._error=n,this._error}}};function H(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(r,u)=>{const{message:c}=t;return r.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:r.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:o}}class W{get description(){return this._def.description}_getType(e){return mn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new He,ctx:{common:e.parent.common,data:e.data,parsedType:mn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ma(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mn(e)},o=this._parseSync({data:e,path:i.path,parent:i});return jd(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mn(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return co(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(o=(i=s==null?void 0:s.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>co(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mn(e)},o=this._parse({data:e,path:i.path,parent:i}),s=await(ma(o)?o:Promise.resolve(o));return jd(i,s)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{const r=e(o),u=()=>s.addIssue({code:R.custom,...i(o)});return typeof Promise<"u"&&r instanceof Promise?r.then(c=>c?!0:(u(),!1)):r?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new mo({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Un.create(this,this._def)}nullable(){return po.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pt.create(this)}promise(){return _a.create(this,this._def)}or(e){return ga.create([this,e],this._def)}and(e){return ya.create(this,e,this._def)}transform(e){return new mo({...H(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Fu({...H(this._def),innerType:this,defaultValue:n,typeName:B.ZodDefault})}brand(){return new wS({typeName:B.ZodBranded,type:this,...H(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ju({...H(this._def),innerType:this,catchValue:n,typeName:B.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return hf.create(this,e)}readonly(){return Yu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const iS=/^c[^\s-]{8,}$/i,oS=/^[0-9a-z]+$/,sS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aS=/^[a-z0-9_-]{21}$/i,lS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ol;const dS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$y="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vS=new RegExp(`^${$y}$`);function Hy(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function _S(t){return new RegExp(`^${Hy(t)}$`)}function TS(t){let e=`${$y}T${Hy(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function SS(t,e){return!!((e==="v4"||!e)&&dS.test(t)||(e==="v6"||!e)&&mS.test(t))}function CS(t,e){if(!lS.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function ES(t,e){return!!((e==="v4"||!e)&&hS.test(t)||(e==="v6"||!e)&&pS.test(t))}class Dt extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==L.string){const s=this._getOrReturnCtx(e);return k(s,{code:R.invalid_type,expected:L.string,received:s.parsedType}),G}const i=new He;let o;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),k(o,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),k(o,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const r=e.data.length>s.value,u=e.data.length<s.value;(r||u)&&(o=this._getOrReturnCtx(e,o),r?k(o,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&k(o,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")cS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"email",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")Ol||(Ol=new RegExp(fS,"u")),Ol.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"emoji",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")rS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"uuid",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")aS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"nanoid",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")iS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"cuid",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")oS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"cuid2",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")sS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"ulid",code:R.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),k(o,{validation:"url",code:R.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"regex",code:R.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),k(o,{code:R.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),k(o,{code:R.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),k(o,{code:R.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?TS(s).test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{code:R.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?vS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{code:R.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?_S(s).test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{code:R.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?uS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"duration",code:R.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?SS(e.data,s.version)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"ip",code:R.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?CS(e.data,s.alg)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"jwt",code:R.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?ES(e.data,s.version)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"cidr",code:R.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?gS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"base64",code:R.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?yS.test(e.data)||(o=this._getOrReturnCtx(e,o),k(o,{validation:"base64url",code:R.invalid_string,message:s.message}),i.dirty()):ee.assertNever(s);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:R.invalid_string,...P.errToObj(i)})}_addCheck(e){return new Dt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...P.errToObj(e)})}url(e){return this._addCheck({kind:"url",...P.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...P.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...P.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...P.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...P.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...P.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...P.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...P.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...P.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...P.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...P.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...P.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...P.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...P.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...P.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...P.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...P.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...P.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...P.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...P.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...P.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...P.errToObj(n)})}nonempty(e){return this.min(1,P.errToObj(e))}trim(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Dt.create=t=>new Dt({checks:[],typeName:B.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...H(t)});function xS(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,s=Number.parseInt(t.toFixed(o).replace(".","")),r=Number.parseInt(e.toFixed(o).replace(".",""));return s%r/10**o}class ai extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==L.number){const s=this._getOrReturnCtx(e);return k(s,{code:R.invalid_type,expected:L.number,received:s.parsedType}),G}let i;const o=new He;for(const s of this._def.checks)s.kind==="int"?ee.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:R.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?xS(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:R.not_finite,message:s.message}),o.dirty()):ee.assertNever(s);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,P.toString(n))}gt(e,n){return this.setLimit("min",e,!1,P.toString(n))}lte(e,n){return this.setLimit("max",e,!0,P.toString(n))}lt(e,n){return this.setLimit("max",e,!1,P.toString(n))}setLimit(e,n,i,o){return new ai({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:P.toString(o)}]})}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:P.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:P.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:P.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:P.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:P.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:P.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:P.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:P.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:P.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ee.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ai.create=t=>new ai({checks:[],typeName:B.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...H(t)});class li extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==L.bigint)return this._getInvalidInput(e);let i;const o=new He;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):ee.assertNever(s);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return k(n,{code:R.invalid_type,expected:L.bigint,received:n.parsedType}),G}gte(e,n){return this.setLimit("min",e,!0,P.toString(n))}gt(e,n){return this.setLimit("min",e,!1,P.toString(n))}lte(e,n){return this.setLimit("max",e,!0,P.toString(n))}lt(e,n){return this.setLimit("max",e,!1,P.toString(n))}setLimit(e,n,i,o){return new li({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:P.toString(o)}]})}_addCheck(e){return new li({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:P.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:P.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:P.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:P.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:P.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}li.create=t=>new li({checks:[],typeName:B.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...H(t)});class pa extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==L.boolean){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.boolean,received:i.parsedType}),G}return St(e.data)}}pa.create=t=>new pa({typeName:B.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...H(t)});class fo extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==L.date){const s=this._getOrReturnCtx(e);return k(s,{code:R.invalid_type,expected:L.date,received:s.parsedType}),G}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return k(s,{code:R.invalid_date}),G}const i=new He;let o;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),k(o,{code:R.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),k(o,{code:R.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):ee.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:P.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:P.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fo.create=t=>new fo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:B.ZodDate,...H(t)});class eh extends W{_parse(e){if(this._getType(e)!==L.symbol){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.symbol,received:i.parsedType}),G}return St(e.data)}}eh.create=t=>new eh({typeName:B.ZodSymbol,...H(t)});class th extends W{_parse(e){if(this._getType(e)!==L.undefined){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.undefined,received:i.parsedType}),G}return St(e.data)}}th.create=t=>new th({typeName:B.ZodUndefined,...H(t)});class nh extends W{_parse(e){if(this._getType(e)!==L.null){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.null,received:i.parsedType}),G}return St(e.data)}}nh.create=t=>new nh({typeName:B.ZodNull,...H(t)});class ih extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return St(e.data)}}ih.create=t=>new ih({typeName:B.ZodAny,...H(t)});class zu extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return St(e.data)}}zu.create=t=>new zu({typeName:B.ZodUnknown,...H(t)});class On extends W{_parse(e){const n=this._getOrReturnCtx(e);return k(n,{code:R.invalid_type,expected:L.never,received:n.parsedType}),G}}On.create=t=>new On({typeName:B.ZodNever,...H(t)});class oh extends W{_parse(e){if(this._getType(e)!==L.undefined){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.void,received:i.parsedType}),G}return St(e.data)}}oh.create=t=>new oh({typeName:B.ZodVoid,...H(t)});class Pt extends W{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==L.array)return k(n,{code:R.invalid_type,expected:L.array,received:n.parsedType}),G;if(o.exactLength!==null){const r=n.data.length>o.exactLength.value,u=n.data.length<o.exactLength.value;(r||u)&&(k(n,{code:r?R.too_big:R.too_small,minimum:u?o.exactLength.value:void 0,maximum:r?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(k(n,{code:R.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(k(n,{code:R.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((r,u)=>o.type._parseAsync(new Ot(n,r,n.path,u)))).then(r=>He.mergeArray(i,r));const s=[...n.data].map((r,u)=>o.type._parseSync(new Ot(n,r,n.path,u)));return He.mergeArray(i,s)}get element(){return this._def.type}min(e,n){return new Pt({...this._def,minLength:{value:e,message:P.toString(n)}})}max(e,n){return new Pt({...this._def,maxLength:{value:e,message:P.toString(n)}})}length(e,n){return new Pt({...this._def,exactLength:{value:e,message:P.toString(n)}})}nonempty(e){return this.min(1,e)}}Pt.create=(t,e)=>new Pt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...H(e)});function Mi(t){if(t instanceof Ce){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=Un.create(Mi(i))}return new Ce({...t._def,shape:()=>e})}else return t instanceof Pt?new Pt({...t._def,type:Mi(t.element)}):t instanceof Un?Un.create(Mi(t.unwrap())):t instanceof po?po.create(Mi(t.unwrap())):t instanceof ui?ui.create(t.items.map(e=>Mi(e))):t}class Ce extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ee.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==L.object){const f=this._getOrReturnCtx(e);return k(f,{code:R.invalid_type,expected:L.object,received:f.parsedType}),G}const{status:i,ctx:o}=this._processInputParams(e),{shape:s,keys:r}=this._getCached(),u=[];if(!(this._def.catchall instanceof On&&this._def.unknownKeys==="strip"))for(const f in o.data)r.includes(f)||u.push(f);const c=[];for(const f of r){const d=s[f],h=o.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Ot(o,h,o.path,f)),alwaysSet:f in o.data})}if(this._def.catchall instanceof On){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(f==="strict")u.length>0&&(k(o,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const h=o.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Ot(o,h,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const h=await d.key,m=await d.value;f.push({key:h,value:m,alwaysSet:d.alwaysSet})}return f}).then(f=>He.mergeObjectSync(i,f)):He.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return P.errToObj,new Ce({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var s,r;const o=((r=(s=this._def).errorMap)==null?void 0:r.call(s,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:P.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Ce({...this._def,unknownKeys:"strip"})}passthrough(){return new Ce({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ce({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ce({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ce({...this._def,catchall:e})}pick(e){const n={};for(const i of ee.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Ce({...this._def,shape:()=>n})}omit(e){const n={};for(const i of ee.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Ce({...this._def,shape:()=>n})}deepPartial(){return Mi(this)}partial(e){const n={};for(const i of ee.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new Ce({...this._def,shape:()=>n})}required(e){const n={};for(const i of ee.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Un;)s=s._def.innerType;n[i]=s}return new Ce({...this._def,shape:()=>n})}keyof(){return Fy(ee.objectKeys(this.shape))}}Ce.create=(t,e)=>new Ce({shape:()=>t,unknownKeys:"strip",catchall:On.create(),typeName:B.ZodObject,...H(e)});Ce.strictCreate=(t,e)=>new Ce({shape:()=>t,unknownKeys:"strict",catchall:On.create(),typeName:B.ZodObject,...H(e)});Ce.lazycreate=(t,e)=>new Ce({shape:t,unknownKeys:"strip",catchall:On.create(),typeName:B.ZodObject,...H(e)});class ga extends W{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const r=s.map(u=>new on(u.ctx.common.issues));return k(n,{code:R.invalid_union,unionErrors:r}),G}if(n.common.async)return Promise.all(i.map(async s=>{const r={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(o);{let s;const r=[];for(const c of i){const f={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:f}),f.common.issues.length&&r.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const u=r.map(c=>new on(c));return k(n,{code:R.invalid_union,unionErrors:u}),G}}get options(){return this._def.options}}ga.create=(t,e)=>new ga({options:t,typeName:B.ZodUnion,...H(e)});function $u(t,e){const n=mn(t),i=mn(e);if(t===e)return{valid:!0,data:t};if(n===L.object&&i===L.object){const o=ee.objectKeys(e),s=ee.objectKeys(t).filter(u=>o.indexOf(u)!==-1),r={...t,...e};for(const u of s){const c=$u(t[u],e[u]);if(!c.valid)return{valid:!1};r[u]=c.data}return{valid:!0,data:r}}else if(n===L.array&&i===L.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let s=0;s<t.length;s++){const r=t[s],u=e[s],c=$u(r,u);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return n===L.date&&i===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ya extends W{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(s,r)=>{if(Xd(s)||Xd(r))return G;const u=$u(s.value,r.value);return u.valid?((Wd(s)||Wd(r))&&n.dirty(),{status:n.value,value:u.data}):(k(i,{code:R.invalid_intersection_types}),G)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,r])=>o(s,r)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ya.create=(t,e,n)=>new ya({left:t,right:e,typeName:B.ZodIntersection,...H(n)});class ui extends W{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.array)return k(i,{code:R.invalid_type,expected:L.array,received:i.parsedType}),G;if(i.data.length<this._def.items.length)return k(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),G;!this._def.rest&&i.data.length>this._def.items.length&&(k(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...i.data].map((r,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Ot(i,r,i.path,u)):null}).filter(r=>!!r);return i.common.async?Promise.all(s).then(r=>He.mergeArray(n,r)):He.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ui({...this._def,rest:e})}}ui.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ui({items:t,typeName:B.ZodTuple,rest:null,...H(e)})};class va extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.object)return k(i,{code:R.invalid_type,expected:L.object,received:i.parsedType}),G;const o=[],s=this._def.keyType,r=this._def.valueType;for(const u in i.data)o.push({key:s._parse(new Ot(i,u,i.path,u)),value:r._parse(new Ot(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?He.mergeObjectAsync(n,o):He.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof W?new va({keyType:e,valueType:n,typeName:B.ZodRecord,...H(i)}):new va({keyType:Dt.create(),valueType:e,typeName:B.ZodRecord,...H(n)})}}class sh extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.map)return k(i,{code:R.invalid_type,expected:L.map,received:i.parsedType}),G;const o=this._def.keyType,s=this._def.valueType,r=[...i.data.entries()].map(([u,c],f)=>({key:o._parse(new Ot(i,u,i.path,[f,"key"])),value:s._parse(new Ot(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of r){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return G;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of r){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return G;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}}}}sh.create=(t,e,n)=>new sh({valueType:e,keyType:t,typeName:B.ZodMap,...H(n)});class bs extends W{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.set)return k(i,{code:R.invalid_type,expected:L.set,received:i.parsedType}),G;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(k(i,{code:R.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(k(i,{code:R.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const s=this._def.valueType;function r(c){const f=new Set;for(const d of c){if(d.status==="aborted")return G;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const u=[...i.data.values()].map((c,f)=>s._parse(new Ot(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>r(c)):r(u)}min(e,n){return new bs({...this._def,minSize:{value:e,message:P.toString(n)}})}max(e,n){return new bs({...this._def,maxSize:{value:e,message:P.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bs.create=(t,e)=>new bs({valueType:t,minSize:null,maxSize:null,typeName:B.ZodSet,...H(e)});class Hu extends W{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Hu.create=(t,e)=>new Hu({getter:t,typeName:B.ZodLazy,...H(e)});class rh extends W{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return k(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),G}return{status:"valid",value:e.data}}get value(){return this._def.value}}rh.create=(t,e)=>new rh({value:t,typeName:B.ZodLiteral,...H(e)});function Fy(t,e){return new ho({values:t,typeName:B.ZodEnum,...H(e)})}class ho extends W{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return k(n,{expected:ee.joinValues(i),received:n.parsedType,code:R.invalid_type}),G}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return k(n,{received:n.data,code:R.invalid_enum_value,options:i}),G}return St(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ho.create(e,{...this._def,...n})}exclude(e,n=this._def){return ho.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}ho.create=Fy;class ah extends W{_parse(e){const n=ee.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==L.string&&i.parsedType!==L.number){const o=ee.objectValues(n);return k(i,{expected:ee.joinValues(o),received:i.parsedType,code:R.invalid_type}),G}if(this._cache||(this._cache=new Set(ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=ee.objectValues(n);return k(i,{received:i.data,code:R.invalid_enum_value,options:o}),G}return St(e.data)}get enum(){return this._def.values}}ah.create=(t,e)=>new ah({values:t,typeName:B.ZodNativeEnum,...H(e)});class _a extends W{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.promise&&n.common.async===!1)return k(n,{code:R.invalid_type,expected:L.promise,received:n.parsedType}),G;const i=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return St(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_a.create=(t,e)=>new _a({type:t,typeName:B.ZodPromise,...H(e)});class mo extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:r=>{k(i,r),r.fatal?n.abort():n.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const r=o.transform(i.data,s);if(i.common.async)return Promise.resolve(r).then(async u=>{if(n.value==="aborted")return G;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?G:c.status==="dirty"||n.value==="dirty"?Ho(c.value):c});{if(n.value==="aborted")return G;const u=this._def.schema._parseSync({data:r,path:i.path,parent:i});return u.status==="aborted"?G:u.status==="dirty"||n.value==="dirty"?Ho(u.value):u}}if(o.type==="refinement"){const r=u=>{const c=o.refinement(u,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?G:(u.status==="dirty"&&n.dirty(),r(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?G:(u.status==="dirty"&&n.dirty(),r(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!co(r))return G;const u=o.transform(r.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>co(r)?Promise.resolve(o.transform(r.value,s)).then(u=>({status:n.value,value:u})):G);ee.assertNever(o)}}mo.create=(t,e,n)=>new mo({schema:t,typeName:B.ZodEffects,effect:e,...H(n)});mo.createWithPreprocess=(t,e,n)=>new mo({schema:e,effect:{type:"preprocess",transform:t},typeName:B.ZodEffects,...H(n)});class Un extends W{_parse(e){return this._getType(e)===L.undefined?St(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Un.create=(t,e)=>new Un({innerType:t,typeName:B.ZodOptional,...H(e)});class po extends W{_parse(e){return this._getType(e)===L.null?St(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}po.create=(t,e)=>new po({innerType:t,typeName:B.ZodNullable,...H(e)});class Fu extends W{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===L.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Fu.create=(t,e)=>new Fu({innerType:t,typeName:B.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});class Ju extends W{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ma(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new on(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new on(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Ju.create=(t,e)=>new Ju({innerType:t,typeName:B.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});class lh extends W{_parse(e){if(this._getType(e)!==L.nan){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.nan,received:i.parsedType}),G}return{status:"valid",value:e.data}}}lh.create=t=>new lh({typeName:B.ZodNaN,...H(t)});class wS extends W{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class hf extends W{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?G:s.status==="dirty"?(n.dirty(),Ho(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?G:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new hf({in:e,out:n,typeName:B.ZodPipeline})}}class Yu extends W{_parse(e){const n=this._def.innerType._parse(e),i=o=>(co(o)&&(o.value=Object.freeze(o.value)),o);return ma(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Yu.create=(t,e)=>new Yu({innerType:t,typeName:B.ZodReadonly,...H(e)});var B;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(B||(B={}));const $n=Dt.create,uh=ai.create;li.create;const AS=pa.create;fo.create;const ch=zu.create;On.create;const Fo=Pt.create,bS=Ce.create,MS=ga.create;ya.create;ui.create;const RS=va.create,NS=Hu.create,DS=ho.create;_a.create;Un.create;po.create;const _i={string:t=>Dt.create({...t,coerce:!0}),number:t=>ai.create({...t,coerce:!0}),boolean:t=>pa.create({...t,coerce:!0}),bigint:t=>li.create({...t,coerce:!0}),date:t=>fo.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kS,US;function IS(){return{geminiUrl:kS,vertexUrl:US}}function LS(t,e,n){var i,o,s;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const r=IS();return t.vertexai?(o=r.vertexUrl)!==null&&o!==void 0?o:e:(s=r.geminiUrl)!==null&&s!==void 0?s:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pi{}function O(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function l(t,e,n){for(let s=0;s<e.length-1;s++){const r=e[s];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];l(d,e.slice(s+1),n[f])}else for(const f of c)l(f,e.slice(s+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];l(c[0],e.slice(s+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(r=>a(r,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fh||(fh={}));var dh;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(dh||(dh={}));var kt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(kt||(kt={}));var hh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(hh||(hh={}));var mh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(mh||(mh={}));var ph;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ph||(ph={}));var gh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gh||(gh={}));var yh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yh||(yh={}));var vh;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vh||(vh={}));var _h;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_h||(_h={}));var Th;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Th||(Th={}));var Sh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Sh||(Sh={}));var Ch;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ch||(Ch={}));var Eh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Eh||(Eh={}));var xh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(xh||(xh={}));var wh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(wh||(wh={}));var Ta;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ta||(Ta={}));var Ah;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ah||(Ah={}));var Zu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zu||(Zu={}));var bh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bh||(bh={}));var Mh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Mh||(Mh={}));var Rh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Rh||(Rh={}));var Nh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nh||(Nh={}));var Dh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Dh||(Dh={}));var kh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kh||(kh={}));var Uh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Uh||(Uh={}));var Ih;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Ih||(Ih={}));var Lh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lh||(Lh={}));var Ph;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ph||(Ph={}));var Oh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Oh||(Oh={}));var Vh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vh||(Vh={}));var qh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(qh||(qh={}));var Bh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Bh||(Bh={}));var Gh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Gh||(Gh={}));var zh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zh||(zh={}));var $h;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($h||($h={}));var Hh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hh||(Hh={}));var Fh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Fh||(Fh={}));var Jh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Jh||(Jh={}));var Yh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Yh||(Yh={}));var Zh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Zh||(Zh={}));var zi;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(zi||(zi={}));class Ku{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Vo{get text(){var e,n,i,o,s,r,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const h=[];for(const m of(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,T]of Object.entries(m))p!=="text"&&p!=="thought"&&(T!==null||T!==void 0)&&h.push(p);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,f+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,o,s,r,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const h of(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,p]of Object.entries(h))m!=="inlineData"&&(p!==null||p!==void 0)&&d.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(f+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,o,s,r,u,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,o,s,r,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,o,s,r,u,c,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Kh{}class Qh{}class PS{}class OS{}class Xh{}class Wh{}class jh{}class VS{}class em{}class tm{}class nm{}class qS{}class BS{}class GS{}class im{}class zS{get text(){var e,n,i;let o="",s=!1;const r=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,o+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,i;let o="";const s=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&s.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(o+=atob(r.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class $S{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function se(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Jy(t,e){const n=se(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Yy(t){return Array.isArray(t)?t.map(e=>Sa(e)):[Sa(t)]}function Sa(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Zy(t){const e=Sa(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ky(t){const e=Sa(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function om(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Qy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>om(e)):[om(t)]}function Qu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function sm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ge(t){if(t==null)throw new Error("ContentUnion is required");return Qu(t)?t:{role:"user",parts:Qy(t)}}function Xy(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ge(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ge(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ge(n)):[Ge(e)]}function yt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(sm(t)||rm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ge(t)]}const e=[],n=[],i=Qu(t[0]);for(const o of t){const s=Qu(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(sm(o)||rm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Qy(n)}),e}const HS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),am=DS(["string","number","integer","object","array","boolean","null"]),FS=MS([am,Fo(am)]);function JS(t=!0){const e=NS(()=>{const n=bS({type:FS.optional(),format:$n().optional(),title:$n().optional(),description:$n().optional(),default:ch().optional(),items:e.optional(),minItems:_i.string().optional(),maxItems:_i.string().optional(),enum:Fo(ch()).optional(),properties:RS($n(),e).optional(),required:Fo($n()).optional(),minProperties:_i.string().optional(),maxProperties:_i.string().optional(),propertyOrdering:Fo($n()).optional(),minimum:uh().optional(),maximum:uh().optional(),minLength:_i.string().optional(),maxLength:_i.string().optional(),pattern:$n().optional(),anyOf:Fo(e).optional(),additionalProperties:AS().optional()});return t?n.strict():n});return e}function YS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(kt).includes(n[0].toUpperCase())?n[0].toUpperCase():kt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(kt).includes(i.toUpperCase())?i.toUpperCase():kt.TYPE_UNSPECIFIED})}}function Xi(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&YS(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(kt).includes(u.toUpperCase())?u.toUpperCase():kt.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Xi(u);else if(i.includes(r)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Xi(f))}e[r]=c}else if(o.includes(r)){const c={};for(const[f,d]of Object.entries(u))c[f]=Xi(d);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function Ms(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=JS().parse(t);return Xi(e)}else return Xi(t)}function mf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function pf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=Ms(e.parameters)),e.response&&(e.response=Ms(e.response));return t}function wo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ZS(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function rn(t,e){if(typeof e!="string")throw new Error("name must be a string");return ZS(t,e,"cachedContents")}function Wy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function an(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function KS(t){return t!=null&&typeof t=="object"&&"name"in t}function QS(t){return t!=null&&typeof t=="object"&&"video"in t}function XS(t){return t!=null&&typeof t=="object"&&"uri"in t}function jy(t){var e;let n;if(KS(t)&&(n=t.name),!(XS(t)&&(n=t.uri,n===void 0))&&!(QS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ev(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tv(t){for(const e of["models","tunedModels","publisherModels"])if(WS(t,e))return t[e];return[]}function WS(t,e){return t!==null&&typeof t=="object"&&e in t}function jS(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Xi($a(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function eC(t,e={}){const n=[],i=new Set;for(const o of t){const s=o.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const r=jS(o,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function tC(t){const e=[];for(const n of t)e.push($a(n));return e}function nC(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=$a(o)}return e}function $a(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[s,r]of Object.entries(t))if(e.has(s))o[s]=$a(r);else if(n.has(s))o[s]=tC(r);else if(i.has(s))o[s]=nC(r);else if(s==="type"){const u=r.toUpperCase();o[s]=Object.values(kt).includes(u)?u:kt.TYPE_UNSPECIFIED}else HS.has(s)&&(o[s]=r);return o}function nv(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function iC(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ao(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oC(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function sC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function rC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function aC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],oC(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],sC(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],rC(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function ov(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>aC(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function lC(t){const e={},n=a(t,["anyOf"]);n!=null&&l(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&l(e,["default"],i);const o=a(t,["description"]);o!=null&&l(e,["description"],o);const s=a(t,["enum"]);s!=null&&l(e,["enum"],s);const r=a(t,["example"]);r!=null&&l(e,["example"],r);const u=a(t,["format"]);u!=null&&l(e,["format"],u);const c=a(t,["items"]);c!=null&&l(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&l(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&l(e,["maxLength"],d);const h=a(t,["maxProperties"]);h!=null&&l(e,["maxProperties"],h);const m=a(t,["maximum"]);m!=null&&l(e,["maximum"],m);const p=a(t,["minItems"]);p!=null&&l(e,["minItems"],p);const T=a(t,["minLength"]);T!=null&&l(e,["minLength"],T);const S=a(t,["minProperties"]);S!=null&&l(e,["minProperties"],S);const E=a(t,["minimum"]);E!=null&&l(e,["minimum"],E);const y=a(t,["nullable"]);y!=null&&l(e,["nullable"],y);const g=a(t,["pattern"]);g!=null&&l(e,["pattern"],g);const v=a(t,["properties"]);v!=null&&l(e,["properties"],v);const C=a(t,["propertyOrdering"]);C!=null&&l(e,["propertyOrdering"],C);const x=a(t,["required"]);x!=null&&l(e,["required"],x);const b=a(t,["title"]);b!=null&&l(e,["title"],b);const w=a(t,["type"]);return w!=null&&l(e,["type"],w),e}function uC(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&l(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function cC(t){const e={},n=a(t,["behavior"]);n!=null&&l(e,["behavior"],n);const i=a(t,["description"]);i!=null&&l(e,["description"],i);const o=a(t,["name"]);o!=null&&l(e,["name"],o);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const r=a(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&l(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function fC(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function dC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],fC(n)),e}function hC(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function mC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],hC(n)),e}function pC(){return{}}function gC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>cC(f))),l(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],dC(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&l(e,["googleSearchRetrieval"],mC(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],pC());const r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&l(e,["computerUse"],u),e}function yC(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function vC(t){const e={},n=a(t,["latitude"]);n!=null&&l(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function _C(t){const e={},n=a(t,["latLng"]);n!=null&&l(e,["latLng"],vC(n));const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function TC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],yC(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],_C(i)),e}function SC(t){const e={},n=a(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function sv(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],SC(n)),e}function CC(t){const e={},n=a(t,["speaker"]);n!=null&&l(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],sv(i)),e}function EC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>CC(o))),l(e,["speakerVoiceConfigs"],i)}return e}function xC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],sv(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],EC(i));const o=a(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function wC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&l(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function AC(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&l(n,["systemInstruction"],ov(Ge(o)));const s=a(e,["temperature"]);s!=null&&l(i,["temperature"],s);const r=a(e,["topP"]);r!=null&&l(i,["topP"],r);const u=a(e,["topK"]);u!=null&&l(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&l(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&l(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&l(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&l(i,["responseLogprobs"],h);const m=a(e,["logprobs"]);m!=null&&l(i,["logprobs"],m);const p=a(e,["presencePenalty"]);p!=null&&l(i,["presencePenalty"],p);const T=a(e,["frequencyPenalty"]);T!=null&&l(i,["frequencyPenalty"],T);const S=a(e,["seed"]);S!=null&&l(i,["seed"],S);const E=a(e,["responseMimeType"]);E!=null&&l(i,["responseMimeType"],E);const y=a(e,["responseSchema"]);y!=null&&l(i,["responseSchema"],lC(Ms(y)));const g=a(e,["responseJsonSchema"]);if(g!=null&&l(i,["responseJsonSchema"],g),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let M=v;Array.isArray(M)&&(M=M.map(z=>uC(z))),l(n,["safetySettings"],M)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let M=wo(C);Array.isArray(M)&&(M=M.map(z=>gC(xo(z)))),l(n,["tools"],M)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&l(n,["toolConfig"],TC(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&l(n,["cachedContent"],rn(t,b));const w=a(e,["responseModalities"]);w!=null&&l(i,["responseModalities"],w);const D=a(e,["mediaResolution"]);D!=null&&l(i,["mediaResolution"],D);const I=a(e,["speechConfig"]);if(I!=null&&l(i,["speechConfig"],xC(mf(I))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=a(e,["thinkingConfig"]);return N!=null&&l(i,["thinkingConfig"],wC(N)),i}function bC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["request","model"],se(t,i));const o=a(e,["contents"]);if(o!=null){let r=yt(o);Array.isArray(r)&&(r=r.map(u=>ov(u))),l(n,["request","contents"],r)}const s=a(e,["config"]);return s!=null&&l(n,["request","generationConfig"],AC(t,s,n)),n}function MC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&l(n,["fileName"],i);const o=a(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>bC(t,r))),l(n,["requests","requests"],s)}return n}function RC(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&l(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function NC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["src"]);o!=null&&l(n,["batch","inputConfig"],MC(t,nv(t,o)));const s=a(e,["config"]);return s!=null&&l(n,["config"],RC(s,n)),n}function DC(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],Ao(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function kC(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],Ao(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function UC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);if(e!==void 0&&o!=null&&l(e,["_query","pageToken"],o),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function IC(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],UC(n,e)),e}function LC(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],Ao(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function PC(t){const e={},n=a(t,["format"]);n!=null&&l(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&l(e,["gcsSource","uris"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&l(e,["bigquerySource","inputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function OC(t){const e={},n=a(t,["format"]);n!=null&&l(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&l(e,["gcsDestination","outputUriPrefix"],i);const o=a(t,["bigqueryUri"]);if(o!=null&&l(e,["bigqueryDestination","outputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function VC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const o=a(t,["dest"]);return e!==void 0&&o!=null&&l(e,["outputConfig"],OC(iC(o))),n}function qC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["model"],se(t,i));const o=a(e,["src"]);o!=null&&l(n,["inputConfig"],PC(nv(t,o)));const s=a(e,["config"]);return s!=null&&l(n,["config"],VC(s,n)),n}function BC(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],Ao(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function GC(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],Ao(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function zC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&l(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),n}function $C(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],zC(n,e)),e}function HC(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],Ao(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function rv(){return{}}function FC(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function JC(t){const e={},n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function YC(t){const e={},n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function ZC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],FC(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],JC(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],YC(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function KC(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ZC(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function QC(t){const e={},n=a(t,["citationSources"]);return n!=null&&l(e,["citations"],n),e}function XC(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function WC(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>XC(o))),l(e,["urlMetadata"],i)}return e}function jC(t){const e={},n=a(t,["content"]);n!=null&&l(e,["content"],KC(n));const i=a(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],QC(i));const o=a(t,["tokenCount"]);o!=null&&l(e,["tokenCount"],o);const s=a(t,["finishReason"]);s!=null&&l(e,["finishReason"],s);const r=a(t,["urlContextMetadata"]);r!=null&&l(e,["urlContextMetadata"],WC(r));const u=a(t,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&l(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const h=a(t,["safetyRatings"]);return h!=null&&l(e,["safetyRatings"],h),e}function eE(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>jC(u))),l(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);const o=a(t,["promptFeedback"]);o!=null&&l(e,["promptFeedback"],o);const s=a(t,["usageMetadata"]);return s!=null&&l(e,["usageMetadata"],s),e}function tE(t){const e={},n=a(t,["response"]);return n!=null&&l(e,["response"],eE(n)),a(t,["error"])!=null&&l(e,["error"],rv()),e}function nE(t){const e={},n=a(t,["responsesFile"]);n!=null&&l(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>tE(s))),l(e,["inlinedResponses"],o)}return e}function Xu(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["metadata","state"]);o!=null&&l(e,["state"],iv(o));const s=a(t,["metadata","createTime"]);s!=null&&l(e,["createTime"],s);const r=a(t,["metadata","endTime"]);r!=null&&l(e,["endTime"],r);const u=a(t,["metadata","updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&l(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&l(e,["dest"],nE(f)),e}function iE(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Xu(s))),l(e,["batchJobs"],o)}return e}function oE(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["done"]);return i!=null&&l(e,["done"],i),a(t,["error"])!=null&&l(e,["error"],rv()),e}function av(t){const e={},n=a(t,["details"]);n!=null&&l(e,["details"],n);const i=a(t,["code"]);i!=null&&l(e,["code"],i);const o=a(t,["message"]);return o!=null&&l(e,["message"],o),e}function sE(t){const e={},n=a(t,["instancesFormat"]);n!=null&&l(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&l(e,["gcsUri"],i);const o=a(t,["bigquerySource","inputUri"]);return o!=null&&l(e,["bigqueryUri"],o),e}function rE(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&l(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&l(e,["gcsUri"],i);const o=a(t,["bigqueryDestination","outputUri"]);return o!=null&&l(e,["bigqueryUri"],o),e}function Wu(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["state"]);o!=null&&l(e,["state"],iv(o));const s=a(t,["error"]);s!=null&&l(e,["error"],av(s));const r=a(t,["createTime"]);r!=null&&l(e,["createTime"],r);const u=a(t,["startTime"]);u!=null&&l(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&l(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&l(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&l(e,["model"],d);const h=a(t,["inputConfig"]);h!=null&&l(e,["src"],sE(h));const m=a(t,["outputConfig"]);return m!=null&&l(e,["dest"],rE(m)),e}function aE(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Wu(s))),l(e,["batchJobs"],o)}return e}function lE(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["done"]);i!=null&&l(e,["done"],i);const o=a(t,["error"]);return o!=null&&l(e,["error"],av(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ci;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ci||(ci={}));class Js{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};i?typeof i=="object"?r=Object.assign({},i):r=i:r={config:{}},r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(s=(o=r.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uE extends pi{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Js(ci.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=qC(this.apiClient,e);return u=O("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Wu(d))}else{const f=NC(this.apiClient,e);return u=O("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Xu(d))}}async get(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=BC(this.apiClient,e);return u=O("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Wu(d))}else{const f=DC(this.apiClient,e);return u=O("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Xu(d))}}async cancel(e){var n,i,o,s;let r="",u={};if(this.apiClient.isVertexAI()){const c=GC(this.apiClient,e);r=O("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=kC(this.apiClient,e);r=O("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=$C(e);return u=O("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=aE(d),m=new im;return Object.assign(m,h),m})}else{const f=IC(e);return u=O("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=iE(d),m=new im;return Object.assign(m,h),m})}}async delete(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=HC(this.apiClient,e);return u=O("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>lE(d))}else{const f=LC(this.apiClient,e);return u=O("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>oE(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function fE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function dE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function hE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],cE(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],fE(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],dE(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function lm(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>hE(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function mE(t){const e={},n=a(t,["behavior"]);n!=null&&l(e,["behavior"],n);const i=a(t,["description"]);i!=null&&l(e,["description"],i);const o=a(t,["name"]);o!=null&&l(e,["name"],o);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const r=a(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&l(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function pE(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function gE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],pE(n)),e}function yE(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function vE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],yE(n)),e}function _E(){return{}}function TE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>mE(f))),l(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],gE(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&l(e,["googleSearchRetrieval"],vE(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],_E());const r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&l(e,["computerUse"],u),e}function SE(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function CE(t){const e={},n=a(t,["latitude"]);n!=null&&l(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function EE(t){const e={},n=a(t,["latLng"]);n!=null&&l(e,["latLng"],CE(n));const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function xE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],SE(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],EE(i)),e}function wE(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&l(e,["expireTime"],o);const s=a(t,["displayName"]);e!==void 0&&s!=null&&l(e,["displayName"],s);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let d=yt(r);Array.isArray(d)&&(d=d.map(h=>lm(h))),l(e,["contents"],d)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],lm(Ge(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>TE(h))),l(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&l(e,["toolConfig"],xE(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function AE(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["model"],Jy(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],wE(o,n)),n}function bE(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],rn(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function ME(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],rn(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function RE(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&l(e,["expireTime"],o),n}function NE(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],rn(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],RE(o,n)),n}function DE(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&l(e,["_query","pageToken"],o),n}function kE(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],DE(n,e)),e}function UE(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function IE(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["data"]);i!=null&&l(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function LE(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function PE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],UE(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],IE(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],LE(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function um(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>PE(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function OE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&l(e,["description"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const o=a(t,["parameters"]);o!=null&&l(e,["parameters"],o);const s=a(t,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const r=a(t,["response"]);r!=null&&l(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function VE(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function qE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],VE(n)),e}function BE(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function GE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],BE(n)),e}function zE(){return{}}function $E(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&l(e,["apiKeyString"],n),e}function HE(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&l(e,["apiKeyConfig"],$E(n));const i=a(t,["authType"]);i!=null&&l(e,["authType"],i);const o=a(t,["googleServiceAccountConfig"]);o!=null&&l(e,["googleServiceAccountConfig"],o);const s=a(t,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const r=a(t,["oauthConfig"]);r!=null&&l(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function FE(t){const e={},n=a(t,["authConfig"]);return n!=null&&l(e,["authConfig"],HE(n)),e}function JE(){return{}}function YE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>OE(m))),l(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const o=a(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],qE(o));const s=a(t,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],GE(s)),a(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],zE());const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],FE(u)),a(t,["urlContext"])!=null&&l(e,["urlContext"],JE());const f=a(t,["codeExecution"]);f!=null&&l(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&l(e,["computerUse"],d),e}function ZE(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function KE(t){const e={},n=a(t,["latitude"]);n!=null&&l(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function QE(t){const e={},n=a(t,["latLng"]);n!=null&&l(e,["latLng"],KE(n));const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function XE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],ZE(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],QE(i)),e}function WE(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const o=a(t,["expireTime"]);e!==void 0&&o!=null&&l(e,["expireTime"],o);const s=a(t,["displayName"]);e!==void 0&&s!=null&&l(e,["displayName"],s);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let h=yt(r);Array.isArray(h)&&(h=h.map(m=>um(m))),l(e,["contents"],h)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],um(Ge(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>YE(m))),l(e,["tools"],h)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&l(e,["toolConfig"],XE(f));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&l(e,["encryption_spec","kmsKeyName"],d),n}function jE(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["model"],Jy(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],WE(o,n)),n}function ex(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],rn(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function tx(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],rn(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function nx(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const o=a(t,["expireTime"]);return e!==void 0&&o!=null&&l(e,["expireTime"],o),n}function ix(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],rn(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],nx(o,n)),n}function ox(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&l(e,["_query","pageToken"],o),n}function sx(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],ox(n,e)),e}function Lr(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["model"]);o!=null&&l(e,["model"],o);const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const r=a(t,["updateTime"]);r!=null&&l(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&l(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function rx(){return{}}function ax(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Lr(s))),l(e,["cachedContents"],o)}return e}function Pr(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["model"]);o!=null&&l(e,["model"],o);const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const r=a(t,["updateTime"]);r!=null&&l(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&l(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function lx(){return{}}function ux(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Pr(s))),l(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cx extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Js(ci.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=jE(this.apiClient,e);return u=O("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Pr(d))}else{const f=AE(this.apiClient,e);return u=O("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Lr(d))}}async get(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=ex(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Pr(d))}else{const f=bE(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Lr(d))}}async delete(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=tx(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=lx(),h=new tm;return Object.assign(h,d),h})}else{const f=ME(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(()=>{const d=rx(),h=new tm;return Object.assign(h,d),h})}}async update(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=ix(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Pr(d))}else{const f=NE(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Lr(d))}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=sx(e);return u=O("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=ux(d),m=new nm;return Object.assign(m,h),m})}else{const f=kE(e);return u=O("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=ax(d),m=new nm;return Object.assign(m,h),m})}}}function cm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(t){return this instanceof fe?(this.v=t,this):new fe(t)}function Wi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),o[Symbol.asyncIterator]=function(){return this},o;function r(p){return function(T){return Promise.resolve(T).then(p,h)}}function u(p,T){i[p]&&(o[p]=function(S){return new Promise(function(E,y){s.push([p,S,E,y])>1||c(p,S)})},T&&(o[p]=T(o[p])))}function c(p,T){try{f(i[p](T))}catch(S){m(s[0][3],S)}}function f(p){p.value instanceof fe?Promise.resolve(p.value.v).then(d,h):m(s[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function m(p,T){p(T),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ls(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cm=="function"?cm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(r){return new Promise(function(u,c){r=t[s](r),o(u,c,r.done,r.value)})}}function o(s,r,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lv(n)}function lv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function dx(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function fm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let s=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),s&&!lv(t[i])&&(s=!1),i++;s?e.push(...o):e.pop()}return e}class hx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new mx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mx{constructor(e,n,i,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),dx(s)}async sendMessage(e){var n;await this.sendPromise;const i=Ge(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,r,u;const c=await o,f=(r=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];d!=null&&(m=(u=d.slice(h))!==null&&u!==void 0?u:[]);const p=f?[f]:[];this.recordHistory(i,p,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Ge(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?fm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return Wi(this,arguments,function*(){var r,u,c,f;const d=[];try{for(var h=!0,m=ls(e),p;p=yield fe(m.next()),r=p.done,!r;h=!0){f=p.value,h=!1;const T=f;if(fx(T)){const S=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;S!==void 0&&d.push(S)}yield yield fe(T)}}catch(T){u={error:T}}finally{try{!h&&!r&&(c=m.return)&&(yield fe(c.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...fm(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ha extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ha.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function px(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);return e!==void 0&&o!=null&&l(e,["_query","pageToken"],o),n}function gx(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],px(n,e)),e}function yx(t){const e={},n=a(t,["details"]);n!=null&&l(e,["details"],n);const i=a(t,["message"]);i!=null&&l(e,["message"],i);const o=a(t,["code"]);return o!=null&&l(e,["code"],o),e}function vx(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["mimeType"]);o!=null&&l(e,["mimeType"],o);const s=a(t,["sizeBytes"]);s!=null&&l(e,["sizeBytes"],s);const r=a(t,["createTime"]);r!=null&&l(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&l(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&l(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&l(e,["uri"],d);const h=a(t,["downloadUri"]);h!=null&&l(e,["downloadUri"],h);const m=a(t,["state"]);m!=null&&l(e,["state"],m);const p=a(t,["source"]);p!=null&&l(e,["source"],p);const T=a(t,["videoMetadata"]);T!=null&&l(e,["videoMetadata"],T);const S=a(t,["error"]);return S!=null&&l(e,["error"],yx(S)),e}function _x(t){const e={},n=a(t,["file"]);n!=null&&l(e,["file"],vx(n));const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function Tx(t){const e={},n=a(t,["name"]);n!=null&&l(e,["_url","file"],jy(n));const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function Sx(t){const e={},n=a(t,["name"]);n!=null&&l(e,["_url","file"],jy(n));const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function Cx(t){const e={},n=a(t,["details"]);n!=null&&l(e,["details"],n);const i=a(t,["message"]);i!=null&&l(e,["message"],i);const o=a(t,["code"]);return o!=null&&l(e,["code"],o),e}function ju(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["mimeType"]);o!=null&&l(e,["mimeType"],o);const s=a(t,["sizeBytes"]);s!=null&&l(e,["sizeBytes"],s);const r=a(t,["createTime"]);r!=null&&l(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&l(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&l(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&l(e,["uri"],d);const h=a(t,["downloadUri"]);h!=null&&l(e,["downloadUri"],h);const m=a(t,["state"]);m!=null&&l(e,["state"],m);const p=a(t,["source"]);p!=null&&l(e,["source"],p);const T=a(t,["videoMetadata"]);T!=null&&l(e,["videoMetadata"],T);const S=a(t,["error"]);return S!=null&&l(e,["error"],Cx(S)),e}function Ex(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ju(s))),l(e,["files"],o)}return e}function xx(){return{}}function wx(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ax extends pi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Js(ci.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>ju(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gx(e);return s=O("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=Ex(c),d=new qS;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_x(e);return s=O("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(()=>{const c=xx(),f=new BS;return Object.assign(f,c),f})}}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tx(e);return s=O("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>ju(c))}}async delete(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sx(e);return s=O("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(()=>{const c=wx(),f=new GS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bx(t){const e={},n=a(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function Mx(t){const e={},n=a(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function uv(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],bx(n)),e}function Rx(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],Mx(n)),e}function Nx(t){const e={},n=a(t,["speaker"]);n!=null&&l(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],uv(i)),e}function Dx(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Nx(o))),l(e,["speakerVoiceConfigs"],i)}return e}function kx(t){const e={},n=a(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],uv(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],Dx(i));const o=a(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function Ux(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&l(e,["voiceConfig"],Rx(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Ix(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function Lx(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function Px(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Ox(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["data"]);i!=null&&l(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Vx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function qx(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Bx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],Ix(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],Px(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],Vx(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function Gx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],Lx(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],Ox(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],qx(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function zx(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Bx(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function $x(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Gx(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function Hx(t){const e={},n=a(t,["behavior"]);n!=null&&l(e,["behavior"],n);const i=a(t,["description"]);i!=null&&l(e,["description"],i);const o=a(t,["name"]);o!=null&&l(e,["name"],o);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const r=a(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&l(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function Fx(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&l(e,["description"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const o=a(t,["parameters"]);o!=null&&l(e,["parameters"],o);const s=a(t,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const r=a(t,["response"]);r!=null&&l(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function Jx(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function Yx(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function Zx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],Jx(n)),e}function Kx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],Yx(n)),e}function Qx(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Xx(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function Wx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],Qx(n)),e}function jx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],Xx(n)),e}function ew(){return{}}function tw(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&l(e,["apiKeyString"],n),e}function nw(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&l(e,["apiKeyConfig"],tw(n));const i=a(t,["authType"]);i!=null&&l(e,["authType"],i);const o=a(t,["googleServiceAccountConfig"]);o!=null&&l(e,["googleServiceAccountConfig"],o);const s=a(t,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const r=a(t,["oauthConfig"]);r!=null&&l(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function iw(t){const e={},n=a(t,["authConfig"]);return n!=null&&l(e,["authConfig"],nw(n)),e}function ow(){return{}}function sw(){return{}}function rw(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Hx(f))),l(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],Zx(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&l(e,["googleSearchRetrieval"],Wx(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],ow());const r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&l(e,["computerUse"],u),e}function aw(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>Fx(m))),l(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const o=a(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],Kx(o));const s=a(t,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],jx(s)),a(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],ew());const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],iw(u)),a(t,["urlContext"])!=null&&l(e,["urlContext"],sw());const f=a(t,["codeExecution"]);f!=null&&l(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&l(e,["computerUse"],d),e}function lw(t){const e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uw(t){const e={},n=a(t,["handle"]);n!=null&&l(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&l(e,["transparent"],i),e}function dm(){return{}}function hm(){return{}}function cw(t){const e={},n=a(t,["disabled"]);n!=null&&l(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const o=a(t,["endOfSpeechSensitivity"]);o!=null&&l(e,["endOfSpeechSensitivity"],o);const s=a(t,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const r=a(t,["silenceDurationMs"]);return r!=null&&l(e,["silenceDurationMs"],r),e}function fw(t){const e={},n=a(t,["disabled"]);n!=null&&l(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const o=a(t,["endOfSpeechSensitivity"]);o!=null&&l(e,["endOfSpeechSensitivity"],o);const s=a(t,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const r=a(t,["silenceDurationMs"]);return r!=null&&l(e,["silenceDurationMs"],r),e}function dw(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&l(e,["automaticActivityDetection"],cw(n));const i=a(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const o=a(t,["turnCoverage"]);return o!=null&&l(e,["turnCoverage"],o),e}function hw(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&l(e,["automaticActivityDetection"],fw(n));const i=a(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const o=a(t,["turnCoverage"]);return o!=null&&l(e,["turnCoverage"],o),e}function mw(t){const e={},n=a(t,["targetTokens"]);return n!=null&&l(e,["targetTokens"],n),e}function pw(t){const e={},n=a(t,["targetTokens"]);return n!=null&&l(e,["targetTokens"],n),e}function gw(t){const e={},n=a(t,["triggerTokens"]);n!=null&&l(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],mw(i)),e}function yw(t){const e={},n=a(t,["triggerTokens"]);n!=null&&l(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],pw(i)),e}function vw(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&l(e,["proactiveAudio"],n),e}function _w(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&l(e,["proactiveAudio"],n),e}function Tw(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","responseModalities"],o);const s=a(t,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const r=a(t,["topP"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","speechConfig"],kx(pf(h)));const m=a(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],m);const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["setup","systemInstruction"],zx(Ge(p)));const T=a(t,["tools"]);if(e!==void 0&&T!=null){let x=wo(T);Array.isArray(x)&&(x=x.map(b=>rw(xo(b)))),l(e,["setup","tools"],x)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&l(e,["setup","sessionResumption"],lw(S));const E=a(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&l(e,["setup","inputAudioTranscription"],dm());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&l(e,["setup","outputAudioTranscription"],dm());const g=a(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&l(e,["setup","realtimeInputConfig"],dw(g));const v=a(t,["contextWindowCompression"]);e!==void 0&&v!=null&&l(e,["setup","contextWindowCompression"],gw(v));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&l(e,["setup","proactivity"],vw(C)),n}function Sw(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","responseModalities"],o);const s=a(t,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const r=a(t,["topP"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","speechConfig"],Ux(pf(h)));const m=a(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],m);const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["setup","systemInstruction"],$x(Ge(p)));const T=a(t,["tools"]);if(e!==void 0&&T!=null){let x=wo(T);Array.isArray(x)&&(x=x.map(b=>aw(xo(b)))),l(e,["setup","tools"],x)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&l(e,["setup","sessionResumption"],uw(S));const E=a(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&l(e,["setup","inputAudioTranscription"],hm());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&l(e,["setup","outputAudioTranscription"],hm());const g=a(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&l(e,["setup","realtimeInputConfig"],hw(g));const v=a(t,["contextWindowCompression"]);e!==void 0&&v!=null&&l(e,["setup","contextWindowCompression"],yw(v));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&l(e,["setup","proactivity"],_w(C)),n}function Cw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["setup","model"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],Tw(o,n)),n}function Ew(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["setup","model"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],Sw(o,n)),n}function xw(){return{}}function ww(){return{}}function Aw(){return{}}function bw(){return{}}function Mw(t){const e={},n=a(t,["media"]);n!=null&&l(e,["mediaChunks"],Yy(n));const i=a(t,["audio"]);i!=null&&l(e,["audio"],Ky(i));const o=a(t,["audioStreamEnd"]);o!=null&&l(e,["audioStreamEnd"],o);const s=a(t,["video"]);s!=null&&l(e,["video"],Zy(s));const r=a(t,["text"]);return r!=null&&l(e,["text"],r),a(t,["activityStart"])!=null&&l(e,["activityStart"],xw()),a(t,["activityEnd"])!=null&&l(e,["activityEnd"],Aw()),e}function Rw(t){const e={},n=a(t,["media"]);n!=null&&l(e,["mediaChunks"],Yy(n));const i=a(t,["audio"]);i!=null&&l(e,["audio"],Ky(i));const o=a(t,["audioStreamEnd"]);o!=null&&l(e,["audioStreamEnd"],o);const s=a(t,["video"]);s!=null&&l(e,["video"],Zy(s));const r=a(t,["text"]);return r!=null&&l(e,["text"],r),a(t,["activityStart"])!=null&&l(e,["activityStart"],ww()),a(t,["activityEnd"])!=null&&l(e,["activityEnd"],bw()),e}function cv(t){const e={},n=a(t,["text"]);n!=null&&l(e,["text"],n);const i=a(t,["weight"]);return i!=null&&l(e,["weight"],i),e}function Nw(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cv(o))),l(e,["weightedPrompts"],i)}return e}function fv(t){const e={},n=a(t,["temperature"]);n!=null&&l(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&l(e,["topK"],i);const o=a(t,["seed"]);o!=null&&l(e,["seed"],o);const s=a(t,["guidance"]);s!=null&&l(e,["guidance"],s);const r=a(t,["bpm"]);r!=null&&l(e,["bpm"],r);const u=a(t,["density"]);u!=null&&l(e,["density"],u);const c=a(t,["brightness"]);c!=null&&l(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&l(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&l(e,["muteBass"],d);const h=a(t,["muteDrums"]);h!=null&&l(e,["muteDrums"],h);const m=a(t,["onlyBassAndDrums"]);return m!=null&&l(e,["onlyBassAndDrums"],m),e}function Dw(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],fv(n)),e}function dv(t){const e={},n=a(t,["model"]);return n!=null&&l(e,["model"],n),e}function hv(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cv(o))),l(e,["weightedPrompts"],i)}return e}function ec(t){const e={},n=a(t,["setup"]);n!=null&&l(e,["setup"],dv(n));const i=a(t,["clientContent"]);i!=null&&l(e,["clientContent"],hv(i));const o=a(t,["musicGenerationConfig"]);o!=null&&l(e,["musicGenerationConfig"],fv(o));const s=a(t,["playbackControl"]);return s!=null&&l(e,["playbackControl"],s),e}function kw(){return{}}function Uw(t){const e={},n=a(t,["sessionId"]);return n!=null&&l(e,["sessionId"],n),e}function Iw(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function Lw(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function Pw(t){const e={},n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Ow(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["data"]);i!=null&&l(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Vw(t){const e={},n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function qw(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Bw(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],Iw(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],Pw(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],Vw(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function Gw(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],Lw(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],Ow(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],qw(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function zw(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Bw(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function $w(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Gw(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function mm(t){const e={},n=a(t,["text"]);n!=null&&l(e,["text"],n);const i=a(t,["finished"]);return i!=null&&l(e,["finished"],i),e}function pm(t){const e={},n=a(t,["text"]);n!=null&&l(e,["text"],n);const i=a(t,["finished"]);return i!=null&&l(e,["finished"],i),e}function Hw(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function Fw(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hw(o))),l(e,["urlMetadata"],i)}return e}function Jw(t){const e={},n=a(t,["modelTurn"]);n!=null&&l(e,["modelTurn"],zw(n));const i=a(t,["turnComplete"]);i!=null&&l(e,["turnComplete"],i);const o=a(t,["interrupted"]);o!=null&&l(e,["interrupted"],o);const s=a(t,["groundingMetadata"]);s!=null&&l(e,["groundingMetadata"],s);const r=a(t,["generationComplete"]);r!=null&&l(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&l(e,["inputTranscription"],mm(u));const c=a(t,["outputTranscription"]);c!=null&&l(e,["outputTranscription"],mm(c));const f=a(t,["urlContextMetadata"]);return f!=null&&l(e,["urlContextMetadata"],Fw(f)),e}function Yw(t){const e={},n=a(t,["modelTurn"]);n!=null&&l(e,["modelTurn"],$w(n));const i=a(t,["turnComplete"]);i!=null&&l(e,["turnComplete"],i);const o=a(t,["interrupted"]);o!=null&&l(e,["interrupted"],o);const s=a(t,["groundingMetadata"]);s!=null&&l(e,["groundingMetadata"],s);const r=a(t,["generationComplete"]);r!=null&&l(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&l(e,["inputTranscription"],pm(u));const c=a(t,["outputTranscription"]);return c!=null&&l(e,["outputTranscription"],pm(c)),e}function Zw(t){const e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);const i=a(t,["args"]);i!=null&&l(e,["args"],i);const o=a(t,["name"]);return o!=null&&l(e,["name"],o),e}function Kw(t){const e={},n=a(t,["args"]);n!=null&&l(e,["args"],n);const i=a(t,["name"]);return i!=null&&l(e,["name"],i),e}function Qw(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Zw(o))),l(e,["functionCalls"],i)}return e}function Xw(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kw(o))),l(e,["functionCalls"],i)}return e}function Ww(t){const e={},n=a(t,["ids"]);return n!=null&&l(e,["ids"],n),e}function jw(t){const e={},n=a(t,["ids"]);return n!=null&&l(e,["ids"],n),e}function pr(t){const e={},n=a(t,["modality"]);n!=null&&l(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&l(e,["tokenCount"],i),e}function gr(t){const e={},n=a(t,["modality"]);n!=null&&l(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&l(e,["tokenCount"],i),e}function eA(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const o=a(t,["responseTokenCount"]);o!=null&&l(e,["responseTokenCount"],o);const s=a(t,["toolUsePromptTokenCount"]);s!=null&&l(e,["toolUsePromptTokenCount"],s);const r=a(t,["thoughtsTokenCount"]);r!=null&&l(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>pr(p))),l(e,["promptTokensDetails"],m)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>pr(p))),l(e,["cacheTokensDetails"],m)}const d=a(t,["responseTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>pr(p))),l(e,["responseTokensDetails"],m)}const h=a(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(p=>pr(p))),l(e,["toolUsePromptTokensDetails"],m)}return e}function tA(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const o=a(t,["candidatesTokenCount"]);o!=null&&l(e,["responseTokenCount"],o);const s=a(t,["toolUsePromptTokenCount"]);s!=null&&l(e,["toolUsePromptTokenCount"],s);const r=a(t,["thoughtsTokenCount"]);r!=null&&l(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(T=>gr(T))),l(e,["promptTokensDetails"],p)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(T=>gr(T))),l(e,["cacheTokensDetails"],p)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(T=>gr(T))),l(e,["responseTokensDetails"],p)}const h=a(t,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(T=>gr(T))),l(e,["toolUsePromptTokensDetails"],p)}const m=a(t,["trafficType"]);return m!=null&&l(e,["trafficType"],m),e}function nA(t){const e={},n=a(t,["timeLeft"]);return n!=null&&l(e,["timeLeft"],n),e}function iA(t){const e={},n=a(t,["timeLeft"]);return n!=null&&l(e,["timeLeft"],n),e}function oA(t){const e={},n=a(t,["newHandle"]);n!=null&&l(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&l(e,["resumable"],i);const o=a(t,["lastConsumedClientMessageIndex"]);return o!=null&&l(e,["lastConsumedClientMessageIndex"],o),e}function sA(t){const e={},n=a(t,["newHandle"]);n!=null&&l(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&l(e,["resumable"],i);const o=a(t,["lastConsumedClientMessageIndex"]);return o!=null&&l(e,["lastConsumedClientMessageIndex"],o),e}function rA(t){const e={};a(t,["setupComplete"])!=null&&l(e,["setupComplete"],kw());const i=a(t,["serverContent"]);i!=null&&l(e,["serverContent"],Jw(i));const o=a(t,["toolCall"]);o!=null&&l(e,["toolCall"],Qw(o));const s=a(t,["toolCallCancellation"]);s!=null&&l(e,["toolCallCancellation"],Ww(s));const r=a(t,["usageMetadata"]);r!=null&&l(e,["usageMetadata"],eA(r));const u=a(t,["goAway"]);u!=null&&l(e,["goAway"],nA(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],oA(c)),e}function aA(t){const e={},n=a(t,["setupComplete"]);n!=null&&l(e,["setupComplete"],Uw(n));const i=a(t,["serverContent"]);i!=null&&l(e,["serverContent"],Yw(i));const o=a(t,["toolCall"]);o!=null&&l(e,["toolCall"],Xw(o));const s=a(t,["toolCallCancellation"]);s!=null&&l(e,["toolCallCancellation"],jw(s));const r=a(t,["usageMetadata"]);r!=null&&l(e,["usageMetadata"],tA(r));const u=a(t,["goAway"]);u!=null&&l(e,["goAway"],iA(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],sA(c)),e}function lA(){return{}}function uA(t){const e={},n=a(t,["text"]);n!=null&&l(e,["text"],n);const i=a(t,["weight"]);return i!=null&&l(e,["weight"],i),e}function cA(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uA(o))),l(e,["weightedPrompts"],i)}return e}function fA(t){const e={},n=a(t,["temperature"]);n!=null&&l(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&l(e,["topK"],i);const o=a(t,["seed"]);o!=null&&l(e,["seed"],o);const s=a(t,["guidance"]);s!=null&&l(e,["guidance"],s);const r=a(t,["bpm"]);r!=null&&l(e,["bpm"],r);const u=a(t,["density"]);u!=null&&l(e,["density"],u);const c=a(t,["brightness"]);c!=null&&l(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&l(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&l(e,["muteBass"],d);const h=a(t,["muteDrums"]);h!=null&&l(e,["muteDrums"],h);const m=a(t,["onlyBassAndDrums"]);return m!=null&&l(e,["onlyBassAndDrums"],m),e}function dA(t){const e={},n=a(t,["clientContent"]);n!=null&&l(e,["clientContent"],cA(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&l(e,["musicGenerationConfig"],fA(i)),e}function hA(t){const e={},n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&l(e,["mimeType"],i);const o=a(t,["sourceMetadata"]);return o!=null&&l(e,["sourceMetadata"],dA(o)),e}function mA(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hA(o))),l(e,["audioChunks"],i)}return e}function pA(t){const e={},n=a(t,["text"]);n!=null&&l(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&l(e,["filteredReason"],i),e}function gA(t){const e={};a(t,["setupComplete"])!=null&&l(e,["setupComplete"],lA());const i=a(t,["serverContent"]);i!=null&&l(e,["serverContent"],mA(i));const o=a(t,["filteredPrompt"]);return o!=null&&l(e,["filteredPrompt"],pA(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function vA(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function _A(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function TA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],yA(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],vA(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],_A(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function Fa(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>TA(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function SA(t){const e={},n=a(t,["anyOf"]);n!=null&&l(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&l(e,["default"],i);const o=a(t,["description"]);o!=null&&l(e,["description"],o);const s=a(t,["enum"]);s!=null&&l(e,["enum"],s);const r=a(t,["example"]);r!=null&&l(e,["example"],r);const u=a(t,["format"]);u!=null&&l(e,["format"],u);const c=a(t,["items"]);c!=null&&l(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&l(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&l(e,["maxLength"],d);const h=a(t,["maxProperties"]);h!=null&&l(e,["maxProperties"],h);const m=a(t,["maximum"]);m!=null&&l(e,["maximum"],m);const p=a(t,["minItems"]);p!=null&&l(e,["minItems"],p);const T=a(t,["minLength"]);T!=null&&l(e,["minLength"],T);const S=a(t,["minProperties"]);S!=null&&l(e,["minProperties"],S);const E=a(t,["minimum"]);E!=null&&l(e,["minimum"],E);const y=a(t,["nullable"]);y!=null&&l(e,["nullable"],y);const g=a(t,["pattern"]);g!=null&&l(e,["pattern"],g);const v=a(t,["properties"]);v!=null&&l(e,["properties"],v);const C=a(t,["propertyOrdering"]);C!=null&&l(e,["propertyOrdering"],C);const x=a(t,["required"]);x!=null&&l(e,["required"],x);const b=a(t,["title"]);b!=null&&l(e,["title"],b);const w=a(t,["type"]);return w!=null&&l(e,["type"],w),e}function CA(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&l(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function EA(t){const e={},n=a(t,["behavior"]);n!=null&&l(e,["behavior"],n);const i=a(t,["description"]);i!=null&&l(e,["description"],i);const o=a(t,["name"]);o!=null&&l(e,["name"],o);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const r=a(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&l(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function xA(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function wA(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],xA(n)),e}function AA(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function bA(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],AA(n)),e}function MA(){return{}}function RA(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>EA(f))),l(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],wA(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&l(e,["googleSearchRetrieval"],bA(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],MA());const r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&l(e,["computerUse"],u),e}function NA(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function DA(t){const e={},n=a(t,["latitude"]);n!=null&&l(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function kA(t){const e={},n=a(t,["latLng"]);n!=null&&l(e,["latLng"],DA(n));const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function UA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],NA(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],kA(i)),e}function IA(t){const e={},n=a(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function mv(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],IA(n)),e}function LA(t){const e={},n=a(t,["speaker"]);n!=null&&l(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],mv(i)),e}function PA(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LA(o))),l(e,["speakerVoiceConfigs"],i)}return e}function OA(t){const e={},n=a(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],mv(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],PA(i));const o=a(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function VA(t){const e={},n=a(t,["includeThoughts"]);n!=null&&l(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function qA(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&l(n,["systemInstruction"],Fa(Ge(o)));const s=a(e,["temperature"]);s!=null&&l(i,["temperature"],s);const r=a(e,["topP"]);r!=null&&l(i,["topP"],r);const u=a(e,["topK"]);u!=null&&l(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&l(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&l(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&l(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&l(i,["responseLogprobs"],h);const m=a(e,["logprobs"]);m!=null&&l(i,["logprobs"],m);const p=a(e,["presencePenalty"]);p!=null&&l(i,["presencePenalty"],p);const T=a(e,["frequencyPenalty"]);T!=null&&l(i,["frequencyPenalty"],T);const S=a(e,["seed"]);S!=null&&l(i,["seed"],S);const E=a(e,["responseMimeType"]);E!=null&&l(i,["responseMimeType"],E);const y=a(e,["responseSchema"]);y!=null&&l(i,["responseSchema"],SA(Ms(y)));const g=a(e,["responseJsonSchema"]);if(g!=null&&l(i,["responseJsonSchema"],g),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let M=v;Array.isArray(M)&&(M=M.map(z=>CA(z))),l(n,["safetySettings"],M)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let M=wo(C);Array.isArray(M)&&(M=M.map(z=>RA(xo(z)))),l(n,["tools"],M)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&l(n,["toolConfig"],UA(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&l(n,["cachedContent"],rn(t,b));const w=a(e,["responseModalities"]);w!=null&&l(i,["responseModalities"],w);const D=a(e,["mediaResolution"]);D!=null&&l(i,["mediaResolution"],D);const I=a(e,["speechConfig"]);if(I!=null&&l(i,["speechConfig"],OA(mf(I))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=a(e,["thinkingConfig"]);return N!=null&&l(i,["thinkingConfig"],VA(N)),i}function gm(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);if(o!=null){let r=yt(o);Array.isArray(r)&&(r=r.map(u=>Fa(u))),l(n,["contents"],r)}const s=a(e,["config"]);return s!=null&&l(n,["generationConfig"],qA(t,s,n)),n}function BA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&l(e,["requests[]","taskType"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&l(e,["requests[]","title"],o);const s=a(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&l(e,["requests[]","outputDimensionality"],s),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GA(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);o!=null&&l(n,["requests[]","content"],Xy(t,o));const s=a(e,["config"]);s!=null&&l(n,["config"],BA(s,n));const r=a(e,["model"]);return r!==void 0&&l(n,["requests[]","model"],se(t,r)),n}function zA(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&l(e,["parameters","aspectRatio"],o);const s=a(t,["guidanceScale"]);if(e!==void 0&&s!=null&&l(e,["parameters","guidanceScale"],s),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&l(e,["parameters","safetySetting"],r);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&l(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&l(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&l(e,["parameters","language"],d);const h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&l(e,["parameters","outputOptions","mimeType"],h);const m=a(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&l(e,["parameters","outputOptions","compressionQuality"],m),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $A(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=a(e,["config"]);return s!=null&&l(n,["config"],zA(s,n)),n}function HA(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","name"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function FA(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&l(n,["_query","pageSize"],o);const s=a(e,["pageToken"]);n!==void 0&&s!=null&&l(n,["_query","pageToken"],s);const r=a(e,["filter"]);n!==void 0&&r!=null&&l(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],ev(t,u)),i}function JA(t,e){const n={},i=a(e,["config"]);return i!=null&&l(n,["config"],FA(t,i,n)),n}function YA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&l(e,["description"],o);const s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),n}function ZA(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","name"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],YA(o,n)),n}function KA(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","name"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function QA(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function XA(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);if(o!=null){let r=yt(o);Array.isArray(r)&&(r=r.map(u=>Fa(u))),l(n,["contents"],r)}const s=a(e,["config"]);return s!=null&&l(n,["config"],QA(s)),n}function WA(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&l(e,["bytesBase64Encoded"],an(n));const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function jA(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(t,["durationSeconds"]);if(e!==void 0&&o!=null&&l(e,["parameters","durationSeconds"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["aspectRatio"]);if(e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&l(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&l(e,["parameters","negativePrompt"],u);const c=a(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&l(e,["parameters","enhancePrompt"],c),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function eb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=a(e,["image"]);if(s!=null&&l(n,["instances[0]","image"],WA(s)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=a(e,["config"]);return r!=null&&l(n,["config"],jA(r,n)),n}function tb(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function nb(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["data"]);i!=null&&l(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ib(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ob(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],tb(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],nb(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],ib(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function bo(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ob(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function sb(t){const e={},n=a(t,["anyOf"]);n!=null&&l(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&l(e,["default"],i);const o=a(t,["description"]);o!=null&&l(e,["description"],o);const s=a(t,["enum"]);s!=null&&l(e,["enum"],s);const r=a(t,["example"]);r!=null&&l(e,["example"],r);const u=a(t,["format"]);u!=null&&l(e,["format"],u);const c=a(t,["items"]);c!=null&&l(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&l(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&l(e,["maxLength"],d);const h=a(t,["maxProperties"]);h!=null&&l(e,["maxProperties"],h);const m=a(t,["maximum"]);m!=null&&l(e,["maximum"],m);const p=a(t,["minItems"]);p!=null&&l(e,["minItems"],p);const T=a(t,["minLength"]);T!=null&&l(e,["minLength"],T);const S=a(t,["minProperties"]);S!=null&&l(e,["minProperties"],S);const E=a(t,["minimum"]);E!=null&&l(e,["minimum"],E);const y=a(t,["nullable"]);y!=null&&l(e,["nullable"],y);const g=a(t,["pattern"]);g!=null&&l(e,["pattern"],g);const v=a(t,["properties"]);v!=null&&l(e,["properties"],v);const C=a(t,["propertyOrdering"]);C!=null&&l(e,["propertyOrdering"],C);const x=a(t,["required"]);x!=null&&l(e,["required"],x);const b=a(t,["title"]);b!=null&&l(e,["title"],b);const w=a(t,["type"]);return w!=null&&l(e,["type"],w),e}function rb(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&l(e,["featureSelectionPreference"],n),e}function ab(t){const e={},n=a(t,["method"]);n!=null&&l(e,["method"],n);const i=a(t,["category"]);i!=null&&l(e,["category"],i);const o=a(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function lb(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&l(e,["description"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const o=a(t,["parameters"]);o!=null&&l(e,["parameters"],o);const s=a(t,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const r=a(t,["response"]);r!=null&&l(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function ub(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function cb(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],ub(n)),e}function fb(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function db(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],fb(n)),e}function hb(){return{}}function mb(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&l(e,["apiKeyString"],n),e}function pb(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&l(e,["apiKeyConfig"],mb(n));const i=a(t,["authType"]);i!=null&&l(e,["authType"],i);const o=a(t,["googleServiceAccountConfig"]);o!=null&&l(e,["googleServiceAccountConfig"],o);const s=a(t,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const r=a(t,["oauthConfig"]);r!=null&&l(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function gb(t){const e={},n=a(t,["authConfig"]);return n!=null&&l(e,["authConfig"],pb(n)),e}function yb(){return{}}function pv(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>lb(m))),l(e,["functionDeclarations"],h)}const i=a(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const o=a(t,["googleSearch"]);o!=null&&l(e,["googleSearch"],cb(o));const s=a(t,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],db(s)),a(t,["enterpriseWebSearch"])!=null&&l(e,["enterpriseWebSearch"],hb());const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],gb(u)),a(t,["urlContext"])!=null&&l(e,["urlContext"],yb());const f=a(t,["codeExecution"]);f!=null&&l(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&l(e,["computerUse"],d),e}function vb(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&l(e,["allowedFunctionNames"],i),e}function _b(t){const e={},n=a(t,["latitude"]);n!=null&&l(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&l(e,["longitude"],i),e}function Tb(t){const e={},n=a(t,["latLng"]);n!=null&&l(e,["latLng"],_b(n));const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Sb(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],vb(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],Tb(i)),e}function Cb(t){const e={},n=a(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function Eb(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],Cb(n)),e}function xb(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&l(e,["voiceConfig"],Eb(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function wb(t){const e={},n=a(t,["includeThoughts"]);n!=null&&l(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&l(e,["thinkingBudget"],i),e}function Ab(t,e,n){const i={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&l(n,["systemInstruction"],bo(Ge(o)));const s=a(e,["temperature"]);s!=null&&l(i,["temperature"],s);const r=a(e,["topP"]);r!=null&&l(i,["topP"],r);const u=a(e,["topK"]);u!=null&&l(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&l(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&l(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&l(i,["stopSequences"],d);const h=a(e,["responseLogprobs"]);h!=null&&l(i,["responseLogprobs"],h);const m=a(e,["logprobs"]);m!=null&&l(i,["logprobs"],m);const p=a(e,["presencePenalty"]);p!=null&&l(i,["presencePenalty"],p);const T=a(e,["frequencyPenalty"]);T!=null&&l(i,["frequencyPenalty"],T);const S=a(e,["seed"]);S!=null&&l(i,["seed"],S);const E=a(e,["responseMimeType"]);E!=null&&l(i,["responseMimeType"],E);const y=a(e,["responseSchema"]);y!=null&&l(i,["responseSchema"],sb(Ms(y)));const g=a(e,["responseJsonSchema"]);g!=null&&l(i,["responseJsonSchema"],g);const v=a(e,["routingConfig"]);v!=null&&l(i,["routingConfig"],v);const C=a(e,["modelSelectionConfig"]);C!=null&&l(i,["modelConfig"],rb(C));const x=a(e,["safetySettings"]);if(n!==void 0&&x!=null){let je=x;Array.isArray(je)&&(je=je.map(U=>ab(U))),l(n,["safetySettings"],je)}const b=a(e,["tools"]);if(n!==void 0&&b!=null){let je=wo(b);Array.isArray(je)&&(je=je.map(U=>pv(xo(U)))),l(n,["tools"],je)}const w=a(e,["toolConfig"]);n!==void 0&&w!=null&&l(n,["toolConfig"],Sb(w));const D=a(e,["labels"]);n!==void 0&&D!=null&&l(n,["labels"],D);const I=a(e,["cachedContent"]);n!==void 0&&I!=null&&l(n,["cachedContent"],rn(t,I));const N=a(e,["responseModalities"]);N!=null&&l(i,["responseModalities"],N);const M=a(e,["mediaResolution"]);M!=null&&l(i,["mediaResolution"],M);const z=a(e,["speechConfig"]);z!=null&&l(i,["speechConfig"],xb(mf(z)));const bt=a(e,["audioTimestamp"]);bt!=null&&l(i,["audioTimestamp"],bt);const Qs=a(e,["thinkingConfig"]);return Qs!=null&&l(i,["thinkingConfig"],wb(Qs)),i}function ym(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);if(o!=null){let r=yt(o);Array.isArray(r)&&(r=r.map(u=>bo(u))),l(n,["contents"],r)}const s=a(e,["config"]);return s!=null&&l(n,["generationConfig"],Ab(t,s,n)),n}function bb(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&l(e,["instances[]","task_type"],i);const o=a(t,["title"]);e!==void 0&&o!=null&&l(e,["instances[]","title"],o);const s=a(t,["outputDimensionality"]);e!==void 0&&s!=null&&l(e,["parameters","outputDimensionality"],s);const r=a(t,["mimeType"]);e!==void 0&&r!=null&&l(e,["instances[]","mimeType"],r);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&l(e,["parameters","autoTruncate"],u),n}function Mb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);o!=null&&l(n,["instances[]","content"],Xy(t,o));const s=a(e,["config"]);return s!=null&&l(n,["config"],bb(s,n)),n}function Rb(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&l(e,["parameters","negativePrompt"],o);const s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&l(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);const h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&l(e,["parameters","includeSafetyAttributes"],h);const m=a(t,["includeRaiReason"]);e!==void 0&&m!=null&&l(e,["parameters","includeRaiReason"],m);const p=a(t,["language"]);e!==void 0&&p!=null&&l(e,["parameters","language"],p);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const S=a(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&l(e,["parameters","outputOptions","compressionQuality"],S);const E=a(t,["addWatermark"]);e!==void 0&&E!=null&&l(e,["parameters","addWatermark"],E);const y=a(t,["enhancePrompt"]);return e!==void 0&&y!=null&&l(e,["parameters","enhancePrompt"],y),n}function Nb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=a(e,["config"]);return s!=null&&l(n,["config"],Rb(s,n)),n}function Ja(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&l(e,["bytesBase64Encoded"],an(i));const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Db(t){const e={},n=a(t,["maskMode"]);n!=null&&l(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&l(e,["maskClasses"],i);const o=a(t,["maskDilation"]);return o!=null&&l(e,["dilation"],o),e}function kb(t){const e={},n=a(t,["controlType"]);n!=null&&l(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&l(e,["computeControl"],i),e}function Ub(t){const e={},n=a(t,["styleDescription"]);return n!=null&&l(e,["styleDescription"],n),e}function Ib(t){const e={},n=a(t,["subjectType"]);n!=null&&l(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&l(e,["subjectDescription"],i),e}function Lb(t){const e={},n=a(t,["referenceImage"]);n!=null&&l(e,["referenceImage"],Ja(n));const i=a(t,["referenceId"]);i!=null&&l(e,["referenceId"],i);const o=a(t,["referenceType"]);o!=null&&l(e,["referenceType"],o);const s=a(t,["maskImageConfig"]);s!=null&&l(e,["maskImageConfig"],Db(s));const r=a(t,["controlImageConfig"]);r!=null&&l(e,["controlImageConfig"],kb(r));const u=a(t,["styleImageConfig"]);u!=null&&l(e,["styleImageConfig"],Ub(u));const c=a(t,["subjectImageConfig"]);return c!=null&&l(e,["subjectImageConfig"],Ib(c)),e}function Pb(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&l(e,["parameters","negativePrompt"],o);const s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&l(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);const h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&l(e,["parameters","includeSafetyAttributes"],h);const m=a(t,["includeRaiReason"]);e!==void 0&&m!=null&&l(e,["parameters","includeRaiReason"],m);const p=a(t,["language"]);e!==void 0&&p!=null&&l(e,["parameters","language"],p);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const S=a(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&l(e,["parameters","outputOptions","compressionQuality"],S);const E=a(t,["editMode"]);e!==void 0&&E!=null&&l(e,["parameters","editMode"],E);const y=a(t,["baseSteps"]);return e!==void 0&&y!=null&&l(e,["parameters","editConfig","baseSteps"],y),n}function Ob(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=a(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Lb(c))),l(n,["instances[0]","referenceImages"],u)}const r=a(e,["config"]);return r!=null&&l(n,["config"],Pb(r,n)),n}function Vb(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&l(e,["parameters","includeRaiReason"],i);const o=a(t,["outputMimeType"]);e!==void 0&&o!=null&&l(e,["parameters","outputOptions","mimeType"],o);const s=a(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&l(e,["parameters","outputOptions","compressionQuality"],s);const r=a(t,["enhanceInputImage"]);e!==void 0&&r!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],r);const u=a(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&l(e,["parameters","sampleCount"],c);const f=a(t,["mode"]);return e!==void 0&&f!=null&&l(e,["parameters","mode"],f),n}function qb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["image"]);o!=null&&l(n,["instances[0]","image"],Ja(o));const s=a(e,["upscaleFactor"]);s!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],s);const r=a(e,["config"]);return r!=null&&l(n,["config"],Vb(r,n)),n}function Bb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","name"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function Gb(t,e,n){const i={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&l(n,["_query","pageSize"],o);const s=a(e,["pageToken"]);n!==void 0&&s!=null&&l(n,["_query","pageToken"],s);const r=a(e,["filter"]);n!==void 0&&r!=null&&l(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],ev(t,u)),i}function zb(t,e){const n={},i=a(e,["config"]);return i!=null&&l(n,["config"],Gb(t,i,n)),n}function $b(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const o=a(t,["description"]);e!==void 0&&o!=null&&l(e,["description"],o);const s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),n}function Hb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],$b(o,n)),n}function Fb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","name"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],o),n}function Jb(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&l(e,["systemInstruction"],bo(Ge(i)));const o=a(t,["tools"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>pv(u))),l(e,["tools"],r)}const s=a(t,["generationConfig"]);return e!==void 0&&s!=null&&l(e,["generationConfig"],s),n}function Yb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);if(o!=null){let r=yt(o);Array.isArray(r)&&(r=r.map(u=>bo(u))),l(n,["contents"],r)}const s=a(e,["config"]);return s!=null&&l(n,["config"],Jb(s,n)),n}function Zb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["contents"]);if(o!=null){let r=yt(o);Array.isArray(r)&&(r=r.map(u=>bo(u))),l(n,["contents"],r)}const s=a(e,["config"]);return s!=null&&l(n,["config"],s),n}function Kb(t){const e={},n=a(t,["uri"]);n!=null&&l(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&l(e,["bytesBase64Encoded"],an(i));const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Qb(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const s=a(t,["fps"]);e!==void 0&&s!=null&&l(e,["parameters","fps"],s);const r=a(t,["durationSeconds"]);e!==void 0&&r!=null&&l(e,["parameters","durationSeconds"],r);const u=a(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&l(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);const h=a(t,["pubsubTopic"]);e!==void 0&&h!=null&&l(e,["parameters","pubsubTopic"],h);const m=a(t,["negativePrompt"]);e!==void 0&&m!=null&&l(e,["parameters","negativePrompt"],m);const p=a(t,["enhancePrompt"]);e!==void 0&&p!=null&&l(e,["parameters","enhancePrompt"],p);const T=a(t,["generateAudio"]);e!==void 0&&T!=null&&l(e,["parameters","generateAudio"],T);const S=a(t,["lastFrame"]);e!==void 0&&S!=null&&l(e,["instances[0]","lastFrame"],Ja(S));const E=a(t,["compressionQuality"]);return e!==void 0&&E!=null&&l(e,["parameters","compressionQuality"],E),n}function Xb(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],se(t,i));const o=a(e,["prompt"]);o!=null&&l(n,["instances[0]","prompt"],o);const s=a(e,["image"]);s!=null&&l(n,["instances[0]","image"],Ja(s));const r=a(e,["video"]);r!=null&&l(n,["instances[0]","video"],Kb(r));const u=a(e,["config"]);return u!=null&&l(n,["config"],Qb(u,n)),n}function Wb(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function jb(t){const e={},n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function eM(t){const e={},n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function tM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],Wb(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],jb(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],eM(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function nM(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>tM(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function iM(t){const e={},n=a(t,["citationSources"]);return n!=null&&l(e,["citations"],n),e}function oM(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function sM(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oM(o))),l(e,["urlMetadata"],i)}return e}function rM(t){const e={},n=a(t,["content"]);n!=null&&l(e,["content"],nM(n));const i=a(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],iM(i));const o=a(t,["tokenCount"]);o!=null&&l(e,["tokenCount"],o);const s=a(t,["finishReason"]);s!=null&&l(e,["finishReason"],s);const r=a(t,["urlContextMetadata"]);r!=null&&l(e,["urlContextMetadata"],sM(r));const u=a(t,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&l(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const h=a(t,["safetyRatings"]);return h!=null&&l(e,["safetyRatings"],h),e}function vm(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>rM(u))),l(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);const o=a(t,["promptFeedback"]);o!=null&&l(e,["promptFeedback"],o);const s=a(t,["usageMetadata"]);return s!=null&&l(e,["usageMetadata"],s),e}function aM(t){const e={},n=a(t,["values"]);return n!=null&&l(e,["values"],n),e}function lM(){return{}}function uM(t){const e={},n=a(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>aM(s))),l(e,["embeddings"],o)}return a(t,["metadata"])!=null&&l(e,["metadata"],lM()),e}function cM(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&l(e,["imageBytes"],an(n));const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function gv(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&l(e,["contentType"],o),e}function fM(t){const e={},n=a(t,["_self"]);n!=null&&l(e,["image"],cM(n));const i=a(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const o=a(t,["_self"]);return o!=null&&l(e,["safetyAttributes"],gv(o)),e}function dM(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>fM(s))),l(e,["generatedImages"],o)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&l(e,["positivePromptSafetyAttributes"],gv(i)),e}function hM(t){const e={},n=a(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&l(e,["updateTime"],o),e}function tc(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["description"]);o!=null&&l(e,["description"],o);const s=a(t,["version"]);s!=null&&l(e,["version"],s);const r=a(t,["_self"]);r!=null&&l(e,["tunedModelInfo"],hM(r));const u=a(t,["inputTokenLimit"]);u!=null&&l(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&l(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);return f!=null&&l(e,["supportedActions"],f),e}function mM(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["_self"]);if(i!=null){let o=tv(i);Array.isArray(o)&&(o=o.map(s=>tc(s))),l(e,["models"],o)}return e}function pM(){return{}}function gM(t){const e={},n=a(t,["totalTokens"]);n!=null&&l(e,["totalTokens"],n);const i=a(t,["cachedContentTokenCount"]);return i!=null&&l(e,["cachedContentTokenCount"],i),e}function yM(t){const e={},n=a(t,["video","uri"]);n!=null&&l(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&l(e,["videoBytes"],an(i));const o=a(t,["encoding"]);return o!=null&&l(e,["mimeType"],o),e}function vM(t){const e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],yM(n)),e}function _M(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>vM(r))),l(e,["generatedVideos"],s)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&l(e,["raiMediaFilteredReasons"],o),e}function TM(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const o=a(t,["done"]);o!=null&&l(e,["done"],o);const s=a(t,["error"]);s!=null&&l(e,["error"],s);const r=a(t,["response","generateVideoResponse"]);return r!=null&&l(e,["response"],_M(r)),e}function SM(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function CM(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["data"]);i!=null&&l(e,["data"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function EM(t){const e={},n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&l(e,["fileUri"],i);const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function xM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],SM(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],CM(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],EM(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function wM(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>xM(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function AM(t){const e={},n=a(t,["citations"]);return n!=null&&l(e,["citations"],n),e}function bM(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&l(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&l(e,["urlRetrievalStatus"],i),e}function MM(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bM(o))),l(e,["urlMetadata"],i)}return e}function RM(t){const e={},n=a(t,["content"]);n!=null&&l(e,["content"],wM(n));const i=a(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],AM(i));const o=a(t,["finishMessage"]);o!=null&&l(e,["finishMessage"],o);const s=a(t,["finishReason"]);s!=null&&l(e,["finishReason"],s);const r=a(t,["urlContextMetadata"]);r!=null&&l(e,["urlContextMetadata"],MM(r));const u=a(t,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&l(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const h=a(t,["safetyRatings"]);return h!=null&&l(e,["safetyRatings"],h),e}function _m(t){const e={},n=a(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>RM(f))),l(e,["candidates"],c)}const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const o=a(t,["responseId"]);o!=null&&l(e,["responseId"],o);const s=a(t,["modelVersion"]);s!=null&&l(e,["modelVersion"],s);const r=a(t,["promptFeedback"]);r!=null&&l(e,["promptFeedback"],r);const u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function NM(t){const e={},n=a(t,["truncated"]);n!=null&&l(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&l(e,["tokenCount"],i),e}function DM(t){const e={},n=a(t,["values"]);n!=null&&l(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&l(e,["statistics"],NM(i)),e}function kM(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&l(e,["billableCharacterCount"],n),e}function UM(t){const e={},n=a(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>DM(s))),l(e,["embeddings"],o)}const i=a(t,["metadata"]);return i!=null&&l(e,["metadata"],kM(i)),e}function IM(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&l(e,["imageBytes"],an(i));const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function yv(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const o=a(t,["contentType"]);return o!=null&&l(e,["contentType"],o),e}function gf(t){const e={},n=a(t,["_self"]);n!=null&&l(e,["image"],IM(n));const i=a(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const o=a(t,["_self"]);o!=null&&l(e,["safetyAttributes"],yv(o));const s=a(t,["prompt"]);return s!=null&&l(e,["enhancedPrompt"],s),e}function LM(t){const e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>gf(s))),l(e,["generatedImages"],o)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&l(e,["positivePromptSafetyAttributes"],yv(i)),e}function PM(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gf(o))),l(e,["generatedImages"],i)}return e}function OM(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gf(o))),l(e,["generatedImages"],i)}return e}function VM(t){const e={},n=a(t,["endpoint"]);n!=null&&l(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&l(e,["deployedModelId"],i),e}function qM(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const o=a(t,["updateTime"]);return o!=null&&l(e,["updateTime"],o),e}function BM(t){const e={},n=a(t,["checkpointId"]);n!=null&&l(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&l(e,["epoch"],i);const o=a(t,["step"]);return o!=null&&l(e,["step"],o),e}function nc(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const o=a(t,["description"]);o!=null&&l(e,["description"],o);const s=a(t,["versionId"]);s!=null&&l(e,["version"],s);const r=a(t,["deployedModels"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>VM(m))),l(e,["endpoints"],h)}const u=a(t,["labels"]);u!=null&&l(e,["labels"],u);const c=a(t,["_self"]);c!=null&&l(e,["tunedModelInfo"],qM(c));const f=a(t,["defaultCheckpointId"]);f!=null&&l(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>BM(m))),l(e,["checkpoints"],h)}return e}function GM(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["_self"]);if(i!=null){let o=tv(i);Array.isArray(o)&&(o=o.map(s=>nc(s))),l(e,["models"],o)}return e}function zM(){return{}}function $M(t){const e={},n=a(t,["totalTokens"]);return n!=null&&l(e,["totalTokens"],n),e}function HM(t){const e={},n=a(t,["tokensInfo"]);return n!=null&&l(e,["tokensInfo"],n),e}function FM(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&l(e,["videoBytes"],an(i));const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function JM(t){const e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],FM(n)),e}function YM(t){const e={},n=a(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>JM(r))),l(e,["generatedVideos"],s)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&l(e,["raiMediaFilteredReasons"],o),e}function ZM(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const o=a(t,["done"]);o!=null&&l(e,["done"],o);const s=a(t,["error"]);s!=null&&l(e,["error"],s);const r=a(t,["response"]);return r!=null&&l(e,["response"],YM(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KM="Content-Type",QM="X-Server-Timeout",XM="User-Agent",ic="x-goog-api-client",WM="1.8.0",jM=`google-genai-sdk/${WM}`,eR="v1beta1",tR="v1beta",Tm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class nR{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:eR,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:tR,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))o.searchParams.append(r,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&iR(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Sm(o),new Ku(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Sm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Wi(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield fe(o.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c);try{const h=JSON.parse(f);if("error"in h){const m=JSON.parse(JSON.stringify(h.error)),p=m.status,T=m.code,S=`got status: ${p}. ${JSON.stringify(h)}`;if(T>=400&&T<600)throw new Ha({message:S,status:T})}}catch(h){if(h.name==="ApiError")throw h}r+=f;let d=r.match(Tm);for(;d;){const h=d[1];try{const m=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new Ku(m)),r=r.slice(d[0].length),d=r.match(Tm)}catch(m){throw new Error(`exception parsing stream chunk ${h}. ${m}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=jM+" "+this.clientOptions.userAgentExtra;return e[XM]=n,e[ic]=n,e[KM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(QM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,r=await s.stat(e);o.sizeBytes=String(r.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const c=await this.fetchUploadUrl(o,n);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},r=await this.request({path:O("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=r==null?void 0:r.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Sm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Ha({message:o,status:n}):new Error(o)}}function iR(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,r){const u=Object.assign({},s);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const f=r[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oR="mcp_used/unknown";function vv(t){for(const e of t)if(yf(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function _v(t){var e;const n=(e=t[ic])!==null&&e!==void 0?e:"";t[ic]=(n+` ${oR}`).trimStart()}function sR(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>yf(o)))!==null&&i!==void 0?i:!1}function rR(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!yf(o)))!==null&&i!==void 0?i:!1}function yf(t){return t!==null&&typeof t=="object"&&t instanceof vf}function aR(t,e=100){return Wi(this,arguments,function*(){let i,o=0;for(;o<e;){const s=yield fe(t.listTools({cursor:i}));for(const r of s.tools)yield yield fe(r),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class vf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new vf(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const s={},r=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,ls(aR(d))),f;f=await c.next(),e=f.done,!e;u=!0){o=f.value,u=!1;const h=o;r.push(h);const m=h.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=d}}catch(h){n={error:h}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),eC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const r=await o.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lR(t,e,n){const i=new $S;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const s=gA(o);Object.assign(i,s),e(i)}class uR{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),r=dR(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(v=>{f=v}),h=e.callbacks,m=function(){f({})},p=this.apiClient,T={onopen:m,onmessage:v=>{lR(p,h.onmessage,v)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(v){}},S=this.webSocketFactory.create(c,fR(r),T);S.connect(),await d;const E=se(this.apiClient,e.model),y=dv({model:E}),g=ec({setup:y});return S.send(JSON.stringify(g)),new cR(S,this.apiClient)}}class cR{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Nw(e),i=hv(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Dw(e),i=ec(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=ec({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(zi.PLAY)}pause(){this.sendPlaybackControl(zi.PAUSE)}stop(){this.sendPlaybackControl(zi.STOP)}resetContext(){this.sendPlaybackControl(zi.RESET_CONTEXT)}close(){this.conn.close()}}function fR(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function dR(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mR(t,e,n){const i=new zS;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const r=aA(s);Object.assign(i,r)}else{const r=rA(s);Object.assign(i,r)}e(i)}class pR{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new uR(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,s,r,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const h=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&vv(e.config.tools)&&_v(h);const m=_R(h);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const I=this.apiClient.getApiKey();let N="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),N="BidiGenerateContentConstrained",M="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${N}?${M}=${I}`}let p=()=>{};const T=new Promise(I=>{p=I}),S=e.callbacks,E=function(){var I;(I=S==null?void 0:S.onopen)===null||I===void 0||I.call(S),p({})},y=this.apiClient,g={onopen:E,onmessage:I=>{mR(y,S.onmessage,I)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(I){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(I){}},v=this.webSocketFactory.create(d,vR(m),g);v.connect(),await T;let C=se(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const I=this.apiClient.getProject(),N=this.apiClient.getLocation();C=`projects/${I}/locations/${N}/`+C}let x={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ta.AUDIO]}:e.config.responseModalities=[Ta.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],w=[];for(const I of b)if(this.isCallableTool(I)){const N=I;w.push(await N.tool())}else w.push(I);w.length>0&&(e.config.tools=w);const D={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=Ew(this.apiClient,D):x=Cw(this.apiClient,D),delete x.config,v.send(JSON.stringify(x)),new yR(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const gR={turnComplete:!0};class yR{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=yt(n.turns),e.isVertexAI()?i=i.map(o=>bo(o)):i=i.map(o=>Fa(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(hR)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},gR),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Rw(e)}:n={realtimeInput:Mw(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function vR(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function _R(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cm=10;function Em(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Or(r)){o=!0;break}if(!o)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Or(t){return"callTool"in t&&typeof t.callTool=="function"}function xm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TR extends pi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,s,r,u;const c=await this.processParamsForMcpUsage(n);if(!sR(n)||Em(n.config))return await this.generateContentInternal(c);if(rR(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const h=yt(c.contents),m=(s=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:Cm;let p=0;for(;p<m&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,S=[];for(const E of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(Or(E)){const g=await E.callTool(f.functionCalls);S.push(...g)}p++,d={role:"user",parts:S},c.contents=yt(c.contents),c.contents.push(T),c.contents.push(d),xm(c.config)&&(h.push(T),h.push(d))}return xm(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{if(Em(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let s;const r=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:r.push(c);let u;return s?u={generatedImages:r,positivePromptSafetyAttributes:s}:u={generatedImages:r},u}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new Js(ci.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const r=await Promise.all(s.map(async c=>Or(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&vv(e.config.tools)){const c=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),_v(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,o;const s=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Or(r)){const u=r,c=await u.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var n,i,o;const s=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Cm;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,h){var m,p;return Wi(this,arguments,function*(){for(var T,S,E,y;u<s;){r&&(u++,r=!1);const x=yield fe(f.processParamsForMcpUsage(h)),b=yield fe(f.generateContentStreamInternal(x)),w=[],D=[];try{for(var g=!0,v=(S=void 0,ls(b)),C;C=yield fe(v.next()),T=C.done,!T;g=!0){y=C.value,g=!1;const I=y;if(yield yield fe(I),I.candidates&&(!((m=I.candidates[0])===null||m===void 0)&&m.content)){D.push(I.candidates[0].content);for(const N of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(u<s&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(N.functionCall.name)){const M=yield fe(d.get(N.functionCall.name).callTool([N.functionCall]));w.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(I){S={error:I}}finally{try{!g&&!T&&(E=v.return)&&(yield fe(E.call(v)))}finally{if(S)throw S.error}}if(w.length>0){r=!0;const I=new Vo;I.candidates=[{content:{role:"user",parts:w}}],yield yield fe(I);const N=[];N.push(...D),N.push({role:"user",parts:w});const M=yt(h.contents).concat(N);h.contents=M}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=ym(this.apiClient,e);return u=O("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=_m(d),m=new Vo;return Object.assign(m,h),m})}else{const f=gm(this.apiClient,e);return u=O("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=vm(d),m=new Vo;return Object.assign(m,h),m})}}async generateContentStreamInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=ym(this.apiClient,e);return u=O("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(h){return Wi(this,arguments,function*(){var m,p,T,S;try{for(var E=!0,y=ls(h),g;g=yield fe(y.next()),m=g.done,!m;E=!0){S=g.value,E=!1;const C=_m(yield fe(S.json())),x=new Vo;Object.assign(x,C),yield yield fe(x)}}catch(v){p={error:v}}finally{try{!E&&!m&&(T=y.return)&&(yield fe(T.call(y)))}finally{if(p)throw p.error}}})})}else{const f=gm(this.apiClient,e);return u=O("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(h){return Wi(this,arguments,function*(){var m,p,T,S;try{for(var E=!0,y=ls(h),g;g=yield fe(y.next()),m=g.done,!m;E=!0){S=g.value,E=!1;const C=vm(yield fe(S.json())),x=new Vo;Object.assign(x,C),yield yield fe(x)}}catch(v){p={error:v}}finally{try{!E&&!m&&(T=y.return)&&(yield fe(T.call(y)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Mb(this.apiClient,e);return u=O("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=UM(d),m=new Kh;return Object.assign(m,h),m})}else{const f=GA(this.apiClient,e);return u=O("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=uM(d),m=new Kh;return Object.assign(m,h),m})}}async generateImagesInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Nb(this.apiClient,e);return u=O("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=LM(d),m=new Qh;return Object.assign(m,h),m})}else{const f=$A(this.apiClient,e);return u=O("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=dM(d),m=new Qh;return Object.assign(m,h),m})}}async editImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=Ob(this.apiClient,e);return s=O("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=PM(c),d=new PS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=qb(this.apiClient,e);return s=O("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=OM(c),d=new OS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Bb(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>nc(d))}else{const f=HA(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>tc(d))}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=zb(this.apiClient,e);return u=O("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=GM(d),m=new Xh;return Object.assign(m,h),m})}else{const f=JA(this.apiClient,e);return u=O("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=mM(d),m=new Xh;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Hb(this.apiClient,e);return u=O("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>nc(d))}else{const f=ZA(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>tc(d))}}async delete(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Fb(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=zM(),h=new Wh;return Object.assign(h,d),h})}else{const f=KA(this.apiClient,e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(()=>{const d=pM(),h=new Wh;return Object.assign(h,d),h})}}async countTokens(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Yb(this.apiClient,e);return u=O("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=$M(d),m=new jh;return Object.assign(m,h),m})}else{const f=XA(this.apiClient,e);return u=O("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=gM(d),m=new jh;return Object.assign(m,h),m})}}async computeTokens(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=Zb(this.apiClient,e);return s=O("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=HM(c),d=new VS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Xb(this.apiClient,e);return u=O("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ZM(d))}else{const f=eb(this.apiClient,e);return u=O("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>TM(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SR(t){const e={},n=a(t,["operationName"]);n!=null&&l(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function CR(t){const e={},n=a(t,["operationName"]);n!=null&&l(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function ER(t){const e={},n=a(t,["operationName"]);n!=null&&l(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&l(e,["_url","resourceName"],i);const o=a(t,["config"]);return o!=null&&l(e,["config"],o),e}function xR(t){const e={},n=a(t,["video","uri"]);n!=null&&l(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&l(e,["videoBytes"],an(i));const o=a(t,["encoding"]);return o!=null&&l(e,["mimeType"],o),e}function wR(t){const e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],xR(n)),e}function AR(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>wR(r))),l(e,["generatedVideos"],s)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&l(e,["raiMediaFilteredReasons"],o),e}function bR(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const o=a(t,["done"]);o!=null&&l(e,["done"],o);const s=a(t,["error"]);s!=null&&l(e,["error"],s);const r=a(t,["response","generateVideoResponse"]);return r!=null&&l(e,["response"],AR(r)),e}function MR(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&l(e,["videoBytes"],an(i));const o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function RR(t){const e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],MR(n)),e}function NR(t){const e={},n=a(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>RR(r))),l(e,["generatedVideos"],s)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const o=a(t,["raiMediaFilteredReasons"]);return o!=null&&l(e,["raiMediaFilteredReasons"],o),e}function wm(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const o=a(t,["done"]);o!=null&&l(e,["done"],o);const s=a(t,["error"]);s!=null&&l(e,["error"],s);const r=a(t,["response"]);return r!=null&&l(e,["response"],NR(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DR extends pi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=CR(e);return u=O("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>wm(d))}else{const f=SR(e);return u=O("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>bR(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=ER(e);return s=O("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>wm(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kR(t){const e={},n=a(t,["voiceName"]);return n!=null&&l(e,["voiceName"],n),e}function Tv(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&l(e,["prebuiltVoiceConfig"],kR(n)),e}function UR(t){const e={},n=a(t,["speaker"]);n!=null&&l(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&l(e,["voiceConfig"],Tv(i)),e}function IR(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>UR(o))),l(e,["speakerVoiceConfigs"],i)}return e}function LR(t){const e={},n=a(t,["voiceConfig"]);n!=null&&l(e,["voiceConfig"],Tv(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&l(e,["multiSpeakerVoiceConfig"],IR(i));const o=a(t,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function PR(t){const e={},n=a(t,["fps"]);n!=null&&l(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&l(e,["endOffset"],i);const o=a(t,["startOffset"]);return o!=null&&l(e,["startOffset"],o),e}function OR(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&l(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function VR(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function qR(t){const e={},n=a(t,["videoMetadata"]);n!=null&&l(e,["videoMetadata"],PR(n));const i=a(t,["thought"]);i!=null&&l(e,["thought"],i);const o=a(t,["inlineData"]);o!=null&&l(e,["inlineData"],OR(o));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],VR(s));const r=a(t,["thoughtSignature"]);r!=null&&l(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&l(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&l(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&l(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&l(e,["functionResponse"],d);const h=a(t,["text"]);return h!=null&&l(e,["text"],h),e}function BR(t){const e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qR(s))),l(e,["parts"],o)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function GR(t){const e={},n=a(t,["behavior"]);n!=null&&l(e,["behavior"],n);const i=a(t,["description"]);i!=null&&l(e,["description"],i);const o=a(t,["name"]);o!=null&&l(e,["name"],o);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const r=a(t,["parametersJsonSchema"]);r!=null&&l(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&l(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function zR(t){const e={},n=a(t,["startTime"]);n!=null&&l(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&l(e,["endTime"],i),e}function $R(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],zR(n)),e}function HR(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&l(e,["dynamicThreshold"],i),e}function FR(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&l(e,["dynamicRetrievalConfig"],HR(n)),e}function JR(){return{}}function YR(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>GR(f))),l(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&l(e,["googleSearch"],$R(i));const o=a(t,["googleSearchRetrieval"]);if(o!=null&&l(e,["googleSearchRetrieval"],FR(o)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],JR());const r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&l(e,["computerUse"],u),e}function ZR(t){const e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Am(){return{}}function KR(t){const e={},n=a(t,["disabled"]);n!=null&&l(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&l(e,["startOfSpeechSensitivity"],i);const o=a(t,["endOfSpeechSensitivity"]);o!=null&&l(e,["endOfSpeechSensitivity"],o);const s=a(t,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const r=a(t,["silenceDurationMs"]);return r!=null&&l(e,["silenceDurationMs"],r),e}function QR(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&l(e,["automaticActivityDetection"],KR(n));const i=a(t,["activityHandling"]);i!=null&&l(e,["activityHandling"],i);const o=a(t,["turnCoverage"]);return o!=null&&l(e,["turnCoverage"],o),e}function XR(t){const e={},n=a(t,["targetTokens"]);return n!=null&&l(e,["targetTokens"],n),e}function WR(t){const e={},n=a(t,["triggerTokens"]);n!=null&&l(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&l(e,["slidingWindow"],XR(i)),e}function jR(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&l(e,["proactiveAudio"],n),e}function e1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const o=a(t,["responseModalities"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","responseModalities"],o);const s=a(t,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const r=a(t,["topP"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","seed"],d);const h=a(t,["speechConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","speechConfig"],LR(pf(h)));const m=a(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],m);const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&l(e,["setup","systemInstruction"],BR(Ge(p)));const T=a(t,["tools"]);if(e!==void 0&&T!=null){let x=wo(T);Array.isArray(x)&&(x=x.map(b=>YR(xo(b)))),l(e,["setup","tools"],x)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&l(e,["setup","sessionResumption"],ZR(S));const E=a(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&l(e,["setup","inputAudioTranscription"],Am());const y=a(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&l(e,["setup","outputAudioTranscription"],Am());const g=a(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&l(e,["setup","realtimeInputConfig"],QR(g));const v=a(t,["contextWindowCompression"]);e!==void 0&&v!=null&&l(e,["setup","contextWindowCompression"],WR(v));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&l(e,["setup","proactivity"],jR(C)),n}function t1(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["setup","model"],se(t,i));const o=a(e,["config"]);return o!=null&&l(n,["config"],e1(o,n)),n}function n1(t,e,n){const i={},o=a(e,["expireTime"]);n!==void 0&&o!=null&&l(n,["expireTime"],o);const s=a(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&l(n,["newSessionExpireTime"],s);const r=a(e,["uses"]);n!==void 0&&r!=null&&l(n,["uses"],r);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&l(n,["bidiGenerateContentSetup"],t1(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&l(n,["fieldMask"],c),i}function i1(t,e){const n={},i=a(e,["config"]);return i!=null&&l(n,["config"],n1(t,i,n)),n}function o1(t){const e={},n=a(t,["name"]);return n!=null&&l(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function r1(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=s1(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(f=>r.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class a1 extends pi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=i1(this.apiClient,e);s=O("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=r1(u,e.config);return o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>o1(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l1(t){const e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function u1(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&l(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),n}function c1(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],u1(n,e)),e}function f1(t){const e={},n=a(t,["textInput"]);n!=null&&l(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&l(e,["output"],i),e}function d1(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>f1(o))),l(e,["examples","examples"],i)}return e}function h1(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&l(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(t,["epochCount"]);e!==void 0&&o!=null&&l(e,["tuningTask","hyperparameters","epochCount"],o);const s=a(t,["learningRateMultiplier"]);if(s!=null&&l(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&l(e,["tuningTask","hyperparameters","batchSize"],r);const u=a(t,["learningRate"]);return e!==void 0&&u!=null&&l(e,["tuningTask","hyperparameters","learningRate"],u),n}function m1(t){const e={},n=a(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&l(e,["tuningTask","trainingData"],d1(i));const o=a(t,["config"]);return o!=null&&l(e,["config"],h1(o,e)),e}function p1(t){const e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&l(e,["config"],i),e}function g1(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&l(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),n}function y1(t){const e={},n=a(t,["config"]);return n!=null&&l(e,["config"],g1(n,e)),e}function v1(t,e){const n={},i=a(t,["gcsUri"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=a(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],o),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function _1(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&l(n,["validationDatasetUri"],i);const o=a(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function T1(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec"],_1(i,n));const o=a(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&l(e,["tunedModelDisplayName"],o);const s=a(t,["description"]);e!==void 0&&s!=null&&l(e,["description"],s);const r=a(t,["epochCount"]);e!==void 0&&r!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function S1(t){const e={},n=a(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],v1(i,e));const o=a(t,["config"]);return o!=null&&l(e,["config"],T1(o,e)),e}function C1(t){const e={},n=a(t,["name"]);n!=null&&l(e,["model"],n);const i=a(t,["name"]);return i!=null&&l(e,["endpoint"],i),e}function Sv(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["state"]);i!=null&&l(e,["state"],Wy(i));const o=a(t,["createTime"]);o!=null&&l(e,["createTime"],o);const s=a(t,["tuningTask","startTime"]);s!=null&&l(e,["startTime"],s);const r=a(t,["tuningTask","completeTime"]);r!=null&&l(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["description"]);c!=null&&l(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&l(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&l(e,["tunedModel"],C1(d));const h=a(t,["distillationSpec"]);h!=null&&l(e,["distillationSpec"],h);const m=a(t,["experiment"]);m!=null&&l(e,["experiment"],m);const p=a(t,["labels"]);p!=null&&l(e,["labels"],p);const T=a(t,["pipelineJob"]);T!=null&&l(e,["pipelineJob"],T);const S=a(t,["satisfiesPzi"]);S!=null&&l(e,["satisfiesPzi"],S);const E=a(t,["satisfiesPzs"]);E!=null&&l(e,["satisfiesPzs"],E);const y=a(t,["serviceAccount"]);y!=null&&l(e,["serviceAccount"],y);const g=a(t,["tunedModelDisplayName"]);return g!=null&&l(e,["tunedModelDisplayName"],g),e}function E1(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Sv(s))),l(e,["tuningJobs"],o)}return e}function x1(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const o=a(t,["done"]);o!=null&&l(e,["done"],o);const s=a(t,["error"]);return s!=null&&l(e,["error"],s),e}function w1(t){const e={},n=a(t,["checkpointId"]);n!=null&&l(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&l(e,["epoch"],i);const o=a(t,["step"]);o!=null&&l(e,["step"],o);const s=a(t,["endpoint"]);return s!=null&&l(e,["endpoint"],s),e}function A1(t){const e={},n=a(t,["model"]);n!=null&&l(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&l(e,["endpoint"],i);const o=a(t,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>w1(r))),l(e,["checkpoints"],s)}return e}function oc(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["state"]);i!=null&&l(e,["state"],Wy(i));const o=a(t,["createTime"]);o!=null&&l(e,["createTime"],o);const s=a(t,["startTime"]);s!=null&&l(e,["startTime"],s);const r=a(t,["endTime"]);r!=null&&l(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["error"]);c!=null&&l(e,["error"],c);const f=a(t,["description"]);f!=null&&l(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&l(e,["baseModel"],d);const h=a(t,["tunedModel"]);h!=null&&l(e,["tunedModel"],A1(h));const m=a(t,["supervisedTuningSpec"]);m!=null&&l(e,["supervisedTuningSpec"],m);const p=a(t,["tuningDataStats"]);p!=null&&l(e,["tuningDataStats"],p);const T=a(t,["encryptionSpec"]);T!=null&&l(e,["encryptionSpec"],T);const S=a(t,["partnerModelTuningSpec"]);S!=null&&l(e,["partnerModelTuningSpec"],S);const E=a(t,["distillationSpec"]);E!=null&&l(e,["distillationSpec"],E);const y=a(t,["experiment"]);y!=null&&l(e,["experiment"],y);const g=a(t,["labels"]);g!=null&&l(e,["labels"],g);const v=a(t,["pipelineJob"]);v!=null&&l(e,["pipelineJob"],v);const C=a(t,["satisfiesPzi"]);C!=null&&l(e,["satisfiesPzi"],C);const x=a(t,["satisfiesPzs"]);x!=null&&l(e,["satisfiesPzs"],x);const b=a(t,["serviceAccount"]);b!=null&&l(e,["serviceAccount"],b);const w=a(t,["tunedModelDisplayName"]);return w!=null&&l(e,["tunedModelDisplayName"],w),e}function b1(t){const e={},n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const i=a(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>oc(s))),l(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M1 extends pi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Js(ci.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Zu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=p1(e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>oc(d))}else{const f=l1(e);return u=O("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Sv(d))}}async listInternal(e){var n,i,o,s;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=y1(e);return u=O("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=b1(d),m=new em;return Object.assign(m,h),m})}else{const f=c1(e);return u=O("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=E1(d),m=new em;return Object.assign(m,h),m})}}async tuneInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const u=S1(e);return s=O("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>oc(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=m1(e);return s=O("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>x1(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R1{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const N1=1024*1024*8,D1=3,k1=1e3,U1=2,Vl="x-goog-upload-status";async function I1(t,e,n){var i,o,s;let r=0,u=0,c=new Ku(new Response),f="upload";for(r=t.size;u<r;){const h=Math.min(N1,r-u),m=t.slice(u,u+h);u+h>=r&&(f+=", finalize");let p=0,T=k1;for(;p<D1&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Vl]));)p++,await P1(T),T=T*U1;if(u+=h,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[Vl])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[Vl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function L1(t){return{size:t.size,type:t.type}}function P1(t){return new Promise(e=>setTimeout(e,t))}class O1{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await I1(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await L1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V1{create(e,n,i){return new q1(e,n,i)}}class q1{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bm="x-goog-api-key";class B1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(bm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(bm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G1="gl-node/";class z1{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=LS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new B1(this.apiKey);this.apiClient=new nR({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:G1+"web",uploader:new O1,downloader:new R1}),this.models=new TR(this.apiClient),this.live=new pR(this.apiClient,o,new V1),this.batches=new uE(this.apiClient),this.chats=new hx(this.models,this.apiClient),this.caches=new cx(this.apiClient),this.files=new Ax(this.apiClient),this.operations=new DR(this.apiClient),this.authTokens=new a1(this.apiClient),this.tunings=new M1(this.apiClient)}}const $1="AIzaSyDht__BFRZ_EyD9znNamzhMvxcBDOwvL50",Cv=new z1({apiKey:$1}),Ev=async t=>({inlineData:{data:await new Promise(n=>{const i=new FileReader;i.onloadend=()=>n(i.result.split(",")[1]),i.readAsDataURL(t)}),mimeType:t.type}}),H1=async t=>{const e=await Promise.all(t.map(Ev)),i={text:'Analyze the language of the text in the provided file(s). Respond with only the name of the language in English. For example: "Spanish", "English", "French". If multiple languages are present, identify the dominant one.'},o=[...e,i];try{const r=(await Cv.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:{parts:o}})).text.trim();return r?(console.log(`Idioma detectado: ${r}`),r):(console.warn("La deteccin de idioma no devolvi resultados. Se usar espaol por defecto."),"Spanish")}catch(s){return console.error("Error durante la deteccin de idioma:",s),console.warn("Se usar espaol por defecto debido a un error en la deteccin."),"Spanish"}},F1=async(t,e)=>{const n=await H1(t),i=await Promise.all(t.map(Ev)),s={text:`You are an expert AI assistant specializing in creating educational quizzes from content.
Your task is to analyze the provided files and generate a multiple-choice quiz with ${e} questions in the following language: ${n}.
Each question, all its options, and the correct answer must be written entirely in ${n}.

IMPORTANT: Your response must be EXCLUSIVELY a valid JSON object, with no other text, explanations, or markdown.
The JSON must strictly adhere to the RFC 8259 standard. NO trailing commas are allowed.
The JSON object must have a single key "questions", which contains an array of question objects.

The format for each object in the "questions" array must be:
{
  "question": "The text of the question in ${n}. Any double quotes within the text must be properly escaped (e.g., \\"some text\\").",
  "options": ["Option A in ${n}", "Option B in ${n}", "Option C in ${n}", "Option D in ${n}"],
  "answer": "The text of the correct answer in ${n}, which must exactly match one of the options."
}`},r=[...i,s];try{let c=(await Cv.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:{parts:r},config:{responseMimeType:"application/json",temperature:.5}})).text.trim();const f=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,d=c.match(f);d&&d[2]&&(c=d[2].trim());const h=JSON.parse(c);if(h&&Array.isArray(h.questions)&&h.questions.every(m=>"question"in m&&"options"in m&&"answer"in m))return h.questions;throw console.error("La respuesta de la API no tiene el formato esperado:",h),new Error("La IA devolvi una respuesta con un formato inesperado.")}catch(u){throw console.error("Error al llamar a la API de Gemini:",u),new Error("No se pudo comunicar con la IA. Por favor, verifica tu clave de API e intntalo de nuevo ms tarde.")}},J1=t=>_.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Ca=t=>_.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5C17.7 10.2 18 9 18 8a6 6 0 0 0-12 0c0 1 .3 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}),_.jsx("path",{d:"M9 18h6"}),_.jsx("path",{d:"M10 22h4"})]}),xv=t=>_.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ya=t=>_.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),wv=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),_.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Y1=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("line",{x1:"16",x2:"8",y1:"13",y2:"13"}),_.jsx("line",{x1:"16",x2:"8",y1:"17",y2:"17"}),_.jsx("line",{x1:"10",x2:"8",y1:"9",y2:"9"})]}),Z1=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),_.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2-2h-2"}),_.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),K1=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),_.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),_.jsx("polyline",{points:"7 3 7 8 15 8"})]}),Q1=t=>_.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:_.jsx("path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})}),X1=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),_.jsx("polyline",{points:"16 17 21 12 16 7"}),_.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Av=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),_.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),bv=t=>_.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),_.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),_.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),_.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]}),Mv=t=>_.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Rv=15,W1=Rv*1024*1024,j1=({onFilesSelect:t,onSubmit:e,numQuestions:n,onNumQuestionsChange:i})=>{const[o,s]=V.useState([]),[r,u]=V.useState(!1),[c,f]=V.useState("");V.useEffect(()=>()=>{o.forEach(p=>{p.url&&p.url.startsWith("blob:")&&URL.revokeObjectURL(p.url)})},[o]);const d=V.useCallback(p=>{f("");const T=p.target.files;if(!T||T.length===0){t([]),s([]);return}const S=T[0];if(S.size>W1){f(`El tamao del archivo supera los ${Rv}MB.`),t([]),s([]),p.target&&(p.target.value="");return}t([S]);const E={name:S.name,type:S.type,url:S.type.startsWith("image/")?URL.createObjectURL(S):""};s([E])},[t]),h=()=>{u(!0),e()},m=[10,20,30];return _.jsxs("div",{className:"w-full max-w-2xl p-6 space-y-4 bg-gray-800 rounded-2xl shadow-2xl",children:[_.jsxs("div",{className:"relative border-2 border-dashed border-gray-500 rounded-lg p-4 text-center cursor-pointer hover:border-indigo-400 transition-colors flex items-center justify-center min-h-[160px]",onClick:()=>{var p;return(p=document.getElementById("file-upload"))==null?void 0:p.click()},children:[_.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:"image/*,application/pdf",onChange:d}),o.length===0?_.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[_.jsx(J1,{className:"w-10 h-10 mb-2"}),_.jsx("span",{className:"font-semibold",children:"Haz clic para subir un archivo"}),_.jsx("span",{className:"text-sm",children:"Sube un PDF o una Imagen"})]}):_.jsx("div",{className:"flex flex-col items-center justify-center",children:o.map(p=>p.type.startsWith("image/")?_.jsxs("div",{className:"relative w-full max-w-sm h-36",children:[_.jsx("img",{src:p.url,alt:p.name,className:"object-contain w-full h-full rounded-md"}),_.jsx("span",{className:"absolute bottom-0 left-0 right-0 text-xs bg-black/50 text-white p-1 text-center truncate",children:p.name})]},p.name):_.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400 p-4",children:[_.jsx(Y1,{className:"w-12 h-12 text-indigo-400"}),_.jsx("span",{className:"mt-2 font-semibold text-white",children:p.name})]},p.name))})]}),c&&_.jsx("p",{className:"text-sm text-red-500 text-center mt-2",children:c}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Nmero de Preguntas"}),_.jsx("div",{className:"flex w-full bg-gray-700 rounded-lg p-1",children:m.map(p=>_.jsx("button",{onClick:()=>i(p),className:`w-full py-2 text-sm font-semibold rounded-md transition-colors focus:outline-none ${n===p?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-600"}`,children:p},p))})]}),_.jsx("button",{onClick:h,disabled:o.length===0||r||!!c,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-500 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 transition-transform transform hover:scale-105",children:r?"Generando...":"Generar Cuestionario"})]})},eN=({questions:t,onFinish:e,onRestart:n})=>{const[i,o]=V.useState(0),[s,r]=V.useState(0),[u,c]=V.useState(Array(t.length).fill(null)),[f,d]=V.useState(null),[h,m]=V.useState(!1),p=t[i];V.useEffect(()=>{if(h){const E=setTimeout(()=>{i<t.length-1?(o(y=>y+1),d(null),m(!1)):e(s,u)},1500);return()=>clearTimeout(E)}},[h,i,t.length,s,e,u]);const T=E=>{if(h)return;const y=[...u];y[i]=E,c(y),d(E),m(!0),E===p.answer&&r(g=>g+1)},S=E=>{if(!h)return"bg-gray-700 hover:bg-gray-600";const y=E===p.answer,g=E===f;return y?"bg-green-600/80 ring-2 ring-green-400":g&&!y?"bg-red-600/80 ring-2 ring-red-400":"bg-gray-700 opacity-50"};return _.jsxs("div",{className:"w-full max-w-3xl p-6 sm:p-8 bg-gray-800 rounded-2xl shadow-2xl animate-fade-in relative",children:[_.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",title:"Volver al inicio",children:_.jsx(wv,{className:"w-7 h-7"})}),_.jsxs("div",{className:"mb-6",children:[_.jsxs("p",{className:"text-sm font-medium text-indigo-400",children:["Pregunta ",i+1," de ",t.length]}),_.jsx("h2",{className:"mt-1 text-2xl sm:text-3xl font-bold text-white pr-10",children:p.question})]}),_.jsx("div",{className:"space-y-4",children:p.options.map((E,y)=>_.jsxs("button",{onClick:()=>T(E),disabled:h,className:`w-full text-left p-4 rounded-lg text-white font-medium transition-all duration-300 flex items-center justify-between ${S(E)}`,children:[_.jsx("span",{children:E}),h&&E===p.answer&&_.jsx(xv,{className:"w-6 h-6 text-white"}),h&&E===f&&E!==p.answer&&_.jsx(Ya,{className:"w-6 h-6 text-white"})]},y))}),_.jsx("div",{className:"mt-6 h-1 w-full bg-gray-700 rounded-full",children:_.jsx("div",{className:"h-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${(i+(h?1:0))/t.length*100}%`}})})]})},tN="modulepreload",nN=function(t){return"/"+t},Mm={},Ys=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),u=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=nN(c),c in Mm)return;Mm[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":tN,f||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),f)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(r){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=r,window.dispatchEvent(u),!u.defaultPrevented)throw r}return o.then(r=>{for(const u of r||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},iN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:i}=await Promise.resolve().then(()=>Mo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class _f extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class oN extends _f{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rm extends _f{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nm extends _f{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sc||(sc={}));var sN=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};class rN{constructor(e,{headers:n={},customFetch:i,region:o=sc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=iN(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return sN(this,void 0,void 0,function*(){try{const{headers:o,method:s,body:r}=n;let u={},{region:c}=n;c||(c=this.region);const f=new URL(`${this.url}/${e}`);c&&c!=="any"&&(u["x-region"]=c,f.searchParams.set("forceFunctionRegion",c));let d;r&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=r):typeof r=="string"?(u["Content-Type"]="text/plain",d=r):typeof FormData<"u"&&r instanceof FormData?d=r:(u["Content-Type"]="application/json",d=JSON.stringify(r)));const h=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:d}).catch(S=>{throw new oN(S)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Rm(h);if(!h.ok)throw new Nm(h);let p=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return p==="application/json"?T=yield h.json():p==="application/octet-stream"?T=yield h.blob():p==="text/event-stream"?T=h:p==="multipart/form-data"?T=yield h.formData():T=yield h.text(),{data:T,error:null,response:h}}catch(o){return{data:null,error:o,response:o instanceof Nm||o instanceof Rm?o.context:void 0}}})}}var Qe={},Tf={},Za={},Zs={},Ka={},Qa={},aN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},go=aN();const lN=go.fetch,Nv=go.fetch.bind(go),Dv=go.Headers,uN=go.Request,cN=go.Response,Mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dv,Request:uN,Response:cN,default:Nv,fetch:lN},Symbol.toStringTag,{value:"Module"})),fN=t0(Mo);var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});let dN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xa.default=dN;var kv=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qa,"__esModule",{value:!0});const hN=kv(fN),mN=kv(Xa);let pN=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var r,u,c;let f=null,d=null,h=null,m=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const S=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),E=(u=s.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");S&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(f={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await s.text();try{f=JSON.parse(S),Array.isArray(f)&&s.status===404&&(d=[],f=null,m=200,p="OK")}catch{s.status===404&&S===""?(m=204,p="No Content"):f={message:S}}if(f&&this.isMaybeSingle&&(!((c=f==null?void 0:f.details)===null||c===void 0)&&c.includes("0 rows"))&&(f=null,m=200,p="OK"),f&&this.shouldThrowOnError)throw new mN.default(f)}return{error:f,data:d,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(o=o.catch(s=>{var r,u,c;return{error:{message:`${(r=s==null?void 0:s.name)!==null&&r!==void 0?r:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(u=s==null?void 0:s.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};Qa.default=pN;var gN=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ka,"__esModule",{value:!0});const yN=gN(Qa);let vN=class extends yN.default{select(e){let n=!1;const i=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:o,referencedTable:s=o}={}){const r=s?`${s}.order`:"order",u=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${u?`${u},`:""}${e}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"offset":`${o}.offset`,r=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(r,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:o=!1,wal:s=!1,format:r="text"}={}){var u;const c=[e?"analyze":null,n?"verbose":null,i?"settings":null,o?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${f}"; options=${c};`,r==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ka.default=vN;var _N=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});const TN=_N(Ka);let SN=class extends TN.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const i=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:i,type:o}={}){let s="";o==="plain"?s="pl":o==="phrase"?s="ph":o==="websearch"&&(s="w");const r=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${r}.${n}`),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(e,n,i){return this.url.searchParams.append(e,`not.${n}.${i}`),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,i){return this.url.searchParams.append(e,`${n}.${i}`),this}};Zs.default=SN;var CN=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Za,"__esModule",{value:!0});const qo=CN(Zs);let EN=class{constructor(e,{headers:n={},schema:i,fetch:o}){this.url=e,this.headers=n,this.schema=i,this.fetch=o}select(e,{head:n=!1,count:i}={}){const o=n?"HEAD":"GET";let s=!1;const r=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",r),i&&(this.headers.Prefer=`count=${i}`),new qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const o="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const r=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(r.length>0){const u=[...new Set(r)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:o,defaultToNull:s=!0}={}){const r="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const c=e.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(c.length>0){const f=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new qo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new qo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new qo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Za.default=EN;var Wa={},ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.version=void 0;ja.version="0.0.0-automated";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.DEFAULT_HEADERS=void 0;const xN=ja;Wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xN.version}`};var Uv=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tf,"__esModule",{value:!0});const wN=Uv(Za),AN=Uv(Zs),bN=Wa;let MN=class Iv{constructor(e,{headers:n={},schema:i,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},bN.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new wN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Iv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:o=!1,count:s}={}){let r;const u=new URL(`${this.url}/rpc/${e}`);let c;i||o?(r=i?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{u.searchParams.append(d,h)})):(r="POST",c=n);const f=Object.assign({},this.headers);return s&&(f.Prefer=`count=${s}`),new AN.default({method:r,url:u,headers:f,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Tf.default=MN;var Ro=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const Lv=Ro(Tf);Qe.PostgrestClient=Lv.default;const Pv=Ro(Za);Qe.PostgrestQueryBuilder=Pv.default;const Ov=Ro(Zs);Qe.PostgrestFilterBuilder=Ov.default;const Vv=Ro(Ka);Qe.PostgrestTransformBuilder=Vv.default;const qv=Ro(Qa);Qe.PostgrestBuilder=qv.default;const Bv=Ro(Xa);Qe.PostgrestError=Bv.default;var RN=Qe.default={PostgrestClient:Lv.default,PostgrestQueryBuilder:Pv.default,PostgrestFilterBuilder:Ov.default,PostgrestTransformBuilder:Vv.default,PostgrestBuilder:qv.default,PostgrestError:Bv.default};const{PostgrestClient:NN,PostgrestQueryBuilder:Rk,PostgrestFilterBuilder:Nk,PostgrestTransformBuilder:Dk,PostgrestBuilder:kk,PostgrestError:Uk}=RN;function DN(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const kN=DN(),UN="2.11.15",IN=`realtime-js/${UN}`,LN="1.0.0",Gv=1e4,PN=1e3;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var Ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ve||(Ve={}));var xt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xt||(xt={}));var rc;(function(t){t.websocket="websocket"})(rc||(rc={}));var Kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kn||(Kn={}));class ON{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),s=n.getUint8(2);let r=this.HEADER_LENGTH+2;const u=i.decode(e.slice(r,r+o));r=r+o;const c=i.decode(e.slice(r,r+s));r=r+s;const f=JSON.parse(i.decode(e.slice(r,e.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class zv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const Dm=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,r)=>(s[r]=VN(r,t,e,o),s),{})},VN=(t,e,n,i)=>{const o=e.find(u=>u.name===t),s=o==null?void 0:o.type,r=n[t];return s&&!i.includes(s)?$v(s,r):ac(r)},$v=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return zN(e,n)}switch(t){case ue.bool:return qN(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return BN(e);case ue.json:case ue.jsonb:return GN(e);case ue.timestamp:return $N(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return ac(e);default:return ac(e)}},ac=t=>t,qN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const r=t.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(u=>$v(e,u))}return t},$N=t=>typeof t=="string"?t.replace(" ","T"):t,Hv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ql{constructor(e,n,i={},o=Gv){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var km;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(km||(km={}));class cs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:s,onLeave:r,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,o,s,r),this.pendingDiffs.forEach(c=>{this.state=cs.syncDiff(this.state,c,s,r)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},o=>{const{onJoin:s,onLeave:r,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=cs.syncDiff(this.state,o,s,r),u())}),this.onJoin((o,s,r)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:r})}),this.onLeave((o,s,r)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const s=this.cloneDeep(e),r=this.transformState(n),u={},c={};return this.map(s,(f,d)=>{r[f]||(c[f]=d)}),this.map(r,(f,d)=>{const h=s[f];if(h){const m=d.map(E=>E.presence_ref),p=h.map(E=>E.presence_ref),T=d.filter(E=>p.indexOf(E.presence_ref)<0),S=h.filter(E=>m.indexOf(E.presence_ref)<0);T.length>0&&(u[f]=T),S.length>0&&(c[f]=S)}else u[f]=d}),this.syncDiff(s,{joins:u,leaves:c},i,o)}static syncDiff(e,n,i,o){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(s,(u,c)=>{var f;const d=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),d.length>0){const h=e[u].map(p=>p.presence_ref),m=d.filter(p=>h.indexOf(p.presence_ref)<0);e[u].unshift(...m)}i(u,d,c)}),this.map(r,(u,c)=>{let f=e[u];if(!f)return;const d=c.map(h=>h.presence_ref);f=f.filter(h=>d.indexOf(h.presence_ref)<0),e[u]=f,o(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Um;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Um||(Um={}));var Im;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Im||(Im={}));var Ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class Sf{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ql(this,xt.join,this.params,this.timeout),this.rejoinTimer=new zv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new cs(this),this.broadcastEndpointURL=Hv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:s,presence:r,private:u}}=this.params;this._onError(d=>e==null?void 0:e(Ht.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ht.CLOSED));const c={},f={broadcast:s,presence:r,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(d=>d.filter))!==null&&o!==void 0?o:[],private:u};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Ht.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,T=[];for(let S=0;S<p;S++){const E=m[S],{filter:{event:y,schema:g,table:v,filter:C}}=E,x=d&&d[S];if(x&&x.event===y&&x.schema===g&&x.table===v&&x.filter===C)T.push(Object.assign(Object.assign({},E),{id:x.id}));else{this.unsubscribe(),this.state=Ve.errored,e==null||e(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(Ht.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ve.errored,e==null||e(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:r}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(r=this.params)===null||r===void 0?void 0:r.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new ql(this,xt.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const o=new AbortController,s=setTimeout(()=>o.abort(),i),r=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),r}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ql(this,e,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,s;const r=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:d}=xt;if(i&&[u,c,f,d].indexOf(r)>=0&&i!==this._joinRef())return;let m=this._onMessage(r,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(p=>{var T,S,E;return((T=p.filter)===null||T===void 0?void 0:T.event)==="*"||((E=(S=p.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===r}).map(p=>p.callback(m,i)):(s=this.bindings[r])===null||s===void 0||s.filter(p=>{var T,S,E,y,g,v;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const C=p.id,x=(T=p.filter)===null||T===void 0?void 0:T.event;return C&&((S=n.ids)===null||S===void 0?void 0:S.includes(C))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const C=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return C==="*"||C===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof m=="object"&&"ids"in m){const T=m.data,{schema:S,table:E,commit_timestamp:y,type:g,errors:v}=T;m=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(T))}p.callback(m,i)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),s={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Sf.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xt.close,{},e)}_onError(e){this._on(xt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Dm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Dm(e.columns,e.old_record)),n}}const Lm=()=>{},HN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FN{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lm,this.ref=0,this.logger=Lm,this.conn=null,this.sendBuffer=[],this.serializer=new ON,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...u)=>Ys(async()=>{const{default:c}=await Promise.resolve().then(()=>Mo);return{default:c}},void 0).then(({default:c})=>c(...u)):r=fetch,(...u)=>r(...u)},this.endPoint=`${e}/${rc.websocket}`,this.httpEndpoint=Hv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,r)=>r(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=kN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LN}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return Kn.Connecting;case us.open:return Kn.Open;case us.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(s=>s.topic===i);if(o)return o;{const s=new Sf(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:o,ref:s}=e,r=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${i} (${s})`,o),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:IN};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(xt.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(PN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:o,payload:s,ref:r}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${o} ${r&&"("+r+")"||""}`,s),Array.from(this.channels).filter(u=>u._isMember(i)).forEach(u=>u._trigger(o,s,r)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([HN],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Cf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class JN extends Cf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lc extends Cf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var YN=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};const Fv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:i}=await Promise.resolve().then(()=>Mo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},ZN=()=>YN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>Mo),void 0)).Response:Response}),uc=t=>{if(Array.isArray(t))return t.map(n=>uc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[o]=uc(i)}),e};var gi=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};const Bl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),KN=(t,e,n)=>gi(void 0,void 0,void 0,function*(){const i=yield ZN();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{e(new JN(Bl(o),t.status||500))}).catch(o=>{e(new lc(Bl(o),o))}):e(new lc(Bl(t),t))}),QN=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function Ks(t,e,n,i,o,s){return gi(this,void 0,void 0,function*(){return new Promise((r,u)=>{t(n,QN(e,i,o,s)).then(c=>{if(!c.ok)throw c;return i!=null&&i.noResolveJson?c:c.json()}).then(c=>r(c)).catch(c=>KN(c,u,i))})})}function Ea(t,e,n,i){return gi(this,void 0,void 0,function*(){return Ks(t,"GET",e,n,i)})}function pn(t,e,n,i,o){return gi(this,void 0,void 0,function*(){return Ks(t,"POST",e,i,o,n)})}function XN(t,e,n,i,o){return gi(this,void 0,void 0,function*(){return Ks(t,"PUT",e,i,o,n)})}function WN(t,e,n,i){return gi(this,void 0,void 0,function*(){return Ks(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Jv(t,e,n,i,o){return gi(this,void 0,void 0,function*(){return Ks(t,"DELETE",e,i,o,n)})}var Je=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};const jN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eD{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Fv(o)}uploadOrUpdate(e,n,i,o){return Je(this,void 0,void 0,function*(){try{let s;const r=Object.assign(Object.assign({},Pm),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(r.upsert)});const c=r.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",r.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=i,u["cache-control"]=`max-age=${r.cacheControl}`,u["content-type"]=r.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const f=this._removeEmptyFolders(n),d=this._getFinalPath(f),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:u},r!=null&&r.duplex?{duplex:r.duplex}:{})),m=yield h.json();return h.ok?{data:{path:f,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(s){if(Re(s))return{data:null,error:s};throw s}})}upload(e,n,i){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return Je(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),r=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${r}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:Pm.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",f.cacheControl)):(c=i,d["cache-control"]=`max-age=${f.cacheControl}`,d["content-type"]=f.contentType);const h=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:s,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Re(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Je(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const s=yield pn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),r=new URL(this.url+s.url),u=r.searchParams.get("token");if(!u)throw new Cf("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:u},error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}update(e,n,i){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Je(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}copy(e,n,i){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return Je(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield pn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${r}`)},{data:s,error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return Je(this,void 0,void 0,function*(){try{const o=yield pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${s}`):null})),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}download(e,n){return Je(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=s?`?${s}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Ea(this.fetch,`${this.url}/${o}/${u}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Re(u))return{data:null,error:u};throw u}})}info(e){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Ea(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uc(i),error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}exists(e){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield WN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Re(i)&&i instanceof lc){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&o.push(s);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&o.push(c);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}remove(e){return Je(this,void 0,void 0,function*(){try{return{data:yield Jv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}list(e,n,i){return Je(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},jN),n),{prefix:e||""});return{data:yield pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Re(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const tD="2.7.1",nD={"X-Client-Info":`storage-js/${tD}`};var Ti=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};class iD{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},nD),n),this.fetch=Fv(i)}listBuckets(){return Ti(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Re(e))return{data:null,error:e};throw e}})}getBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ti(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Ti(this,void 0,void 0,function*(){try{return{data:yield XN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ti(this,void 0,void 0,function*(){try{return{data:yield Jv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}})}}class oD extends iD{constructor(e,n={},i){super(e,n,i)}from(e){return new eD(this.url,this.headers,e,this.fetch)}}const sD="2.50.3";let Jo="";typeof Deno<"u"?Jo="deno":typeof document<"u"?Jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jo="react-native":Jo="node";const rD={"X-Client-Info":`supabase-js-${Jo}/${sD}`},aD={headers:rD},lD={schema:"public"},uD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cD={};var fD=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};const dD=t=>{let e;return t?e=t:typeof fetch>"u"?e=Nv:e=fetch,(...n)=>e(...n)},hD=()=>typeof Headers>"u"?Dv:Headers,mD=(t,e,n)=>{const i=dD(n),o=hD();return(s,r)=>fD(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:t;let f=new o(r==null?void 0:r.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),i(s,Object.assign(Object.assign({},r),{headers:f}))})};var pD=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};function gD(t){return t.endsWith("/")?t:t+"/"}function yD(t,e){var n,i;const{db:o,auth:s,realtime:r,global:u}=t,{db:c,auth:f,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},f),s),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},h),u),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(i=u==null?void 0:u.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>pD(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Yv="2.70.0",Ri=30*1e3,cc=3,Gl=cc*Ri,vD="http://localhost:9999",_D="supabase.auth.token",TD={"X-Client-Info":`gotrue-js/${Yv}`},fc="X-Supabase-Api-Version",Zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CD=6e5;class Ef extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ED extends Ef{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function xD(t){return $(t)&&t.name==="AuthApiError"}class Kv extends Ef{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bn extends Ef{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class fn extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wD(t){return $(t)&&t.name==="AuthSessionMissingError"}class yr extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vr extends Bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _r extends Bn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function AD(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Om extends Bn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dc extends Bn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function zl(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Vm extends Bn{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class fs extends Bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qm=` 	
\r=`.split(""),bD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qm.length;e+=1)t[qm[e].charCodeAt(0)]=-2;for(let e=0;e<xa.length;e+=1)t[xa[e].charCodeAt(0)]=e;return t})();function Bm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(xa[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(xa[i]),e.queuedBits-=6}}function Qv(t,e,n){const i=bD[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Gm(t){const e=[],n=r=>{e.push(String.fromCodePoint(r))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=r=>{ND(r,i,n)};for(let r=0;r<t.length;r+=1)Qv(t.charCodeAt(r),o,s);return e.join("")}function MD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function RD(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}MD(i,e)}}function ND(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function DD(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Qv(t.charCodeAt(o),n,i);return new Uint8Array(e)}function kD(t){const e=[];return RD(t,n=>e.push(n)),new Uint8Array(e)}function UD(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>Bm(o,n,i)),Bm(null,n,i),e.join("")}function ID(t){return Math.round(Date.now()/1e3)+t}function LD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ct=()=>typeof window<"u"&&typeof document<"u",Hn={tested:!1,writable:!1},ds=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hn.tested)return Hn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hn.tested=!0,Hn.writable=!0}catch{Hn.tested=!0,Hn.writable=!1}return Hn.writable};function PD(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Xv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ys(async()=>{const{default:i}=await Promise.resolve().then(()=>Mo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},OD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Wv=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Tr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sr=async(t,e)=>{await t.removeItem(e)};class el{constructor(){this.promise=new el.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}el.promiseConstructor=Promise;function $l(t){const e=t.split(".");if(e.length!==3)throw new fs("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!SD.test(e[i]))throw new fs("JWT not in base64url format");return{header:JSON.parse(Gm(e[0])),payload:JSON.parse(Gm(e[1])),signature:DD(e[2]),raw:{header:e[0],payload:e[1]}}}async function VD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qD(t,e){return new Promise((i,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await t(s);if(!e(s,null,r)){i(r);return}}catch(r){if(!e(s,r)){o(r);return}}})()})}function BD(t){return("0"+t.toString(16)).substr(-2)}function GD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,BD).join("")}async function zD(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function $D(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await zD(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Si(t,e,n=!1){const i=GD();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Wv(t,`${e}-code-verifier`,o);const s=await $D(i);return[s,i===s?"plain":"s256"]}const HD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FD(t){const e=t.headers.get(fc);if(!e||!e.match(HD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function YD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ci(t){if(!ZD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var KD=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QD=[502,503,504];async function zm(t){var e;if(!OD(t))throw new dc(Zn(t),0);if(QD.includes(t.status))throw new dc(Zn(t),t.status);let n;try{n=await t.json()}catch(s){throw new Kv(Zn(s),s)}let i;const o=FD(t);if(o&&o.getTime()>=Zv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Vm(Zn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new Vm(Zn(n),t.status,n.weak_password.reasons);throw new ED(Zn(n),t.status||500,i)}const XD=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function K(t,e,n,i){var o;const s=Object.assign({},i==null?void 0:i.headers);s[fc]||(s[fc]=Zv["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const r=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(r.redirect_to=i.redirectTo);const u=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",c=await WD(t,e,n+u,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(c):{data:Object.assign({},c),error:null}}async function WD(t,e,n,i,o,s){const r=XD(e,i,o,s);let u;try{u=await t(n,Object.assign({},r))}catch(c){throw console.error(c),new dc(Zn(c),0)}if(u.ok||await zm(u),i!=null&&i.noResolveJson)return u;try{return await u.json()}catch(c){await zm(c)}}function $t(t){var e;let n=null;nk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ID(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function $m(t){const e=$t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jD(t){return{data:t,error:null}}function ek(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:s}=t,r=KD(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:s},c=Object.assign({},r);return{data:{properties:u,user:c},error:null}}function tk(t){return t}function nk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hl=["global","local","others"];var ik=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class ok{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Xv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Hl[0]){if(Hl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hl.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if($(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tn})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=ik(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ek,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,s,r,u,c;try{const f={nextPage:null,lastPage:0,total:0},d=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:tk});if(d.error)throw d.error;const h=await d.json(),m=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(c=(u=d.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(T=>{const S=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(T.split(";")[1].split("=")[1]);f[`${E}Page`]=S}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},h),f),error:null}}catch(f){if($(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Ci(e);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ci(e);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tn})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Ci(e);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tn})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ci(e.userId);try{const{data:n,error:i}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ci(e.userId),Ci(e.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const sk={getItem:t=>ds()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ds()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ds()&&globalThis.localStorage.removeItem(t)}};function Hm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function rk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ei={debug:!!(globalThis&&ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ak extends jv{}async function lk(t,e,n){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ak(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ei.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}rk();const uk={url:vD,storageKey:_D,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fm(t,e,n){return await n()}class Rs{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rs.nextInstanceID,Rs.nextInstanceID+=1,this.instanceID>0&&Ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},uk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ok({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Xv(o.fetch),this.lock=o.lock||Fm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=lk:this.lock=Fm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ds()?this.storage=sk:(this.memoryStorage={},this.storage=Hm(this.memoryStorage)):(this.memoryStorage={},this.storage=Hm(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=PD(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Ct()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),AD(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:r,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",r,"redirect type",u),await this._saveSession(r),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Kv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:$t}),{data:r,error:u}=s;if(u||!r)return{data:{user:null,session:null},error:u};const c=r.session,f=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,o;try{let s;if("email"in e){const{email:d,password:h,options:m}=e;let p=null,T=null;this.flowType==="pkce"&&([p,T]=await Si(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:T},xform:$t})}else if("phone"in e){const{phone:d,password:h,options:m}=e;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$t})}else throw new vr("You must provide either an email or phone number and a password");const{data:r,error:u}=s;if(u||!r)return{data:{user:null,session:null},error:u};const c=r.session,f=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:r,options:u}=e;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:$m})}else if("phone"in e){const{phone:s,password:r,options:u}=e;n=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:$m})}else throw new vr("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new yr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,o,s,r,u,c,f,d,h,m,p;let T,S;if("message"in e)T=e.message,S=e.signature;else{const{chain:E,wallet:y,statement:g,options:v}=e;let C;if(Ct())if(typeof y=="object")C=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))C=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=y}const x=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const b=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let w;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")w=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)w=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)T=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),S=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${x.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(o=(i=v==null?void 0:v.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((f=v==null?void 0:v.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const b=await C.signMessage(new TextEncoder().encode(T),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=b}}try{const{data:E,error:y}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:UD(S)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:$t});if(y)throw y;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new yr}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:y})}catch(E){if($(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await Tr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:s,error:r}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:$t});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new yr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:r})}catch(s){if($(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:s,nonce:r}=e,u=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$t}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new yr}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,s,r;try{if("email"in e){const{email:u,options:c}=e;let f=null,d=null;this.flowType==="pkce"&&([f,d]=await Si(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(r=c==null?void 0:c.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:d}}throw new vr("You must provide either an email or phone number.")}catch(u){if($(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,i;try{let o,s;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:r,error:u}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:$t});if(u)throw u;if(!r)throw new Error("An error occurred on token verification.");const c=r.session,f=r.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(o){if($(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let s=null,r=null;return this.flowType==="pkce"&&([s,r]=await Si(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:r}),headers:this.headers,xform:jD})}catch(s){if($(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new fn;const{error:o}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:s}=e,{error:r}=await K(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in e){const{phone:i,type:o,options:s}=e,{data:r,error:u}=await K(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:u}}throw new vr("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Gl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let r=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,d)=>(!r&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,d))})}return{data:{session:e},error:null}}const{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tn}):await this._useSession(async n=>{var i,o,s;const{data:r,error:u}=n;if(u)throw u;return!(!((i=r.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=r.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Tn})})}catch(n){if($(n))return wD(n)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new fn;const r=o.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Si(this.storage,this.storageKey));const{data:f,error:d}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:r.access_token,xform:Tn});if(d)throw d;return r.user=f.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(i){if($(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fn;const n=Date.now()/1e3;let i=n,o=!0,s=null;const{payload:r}=$l(e.access_token);if(r.exp&&(i=r.exp,o=i<=n),o){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:r,error:u}=n;if(u)throw u;e=(i=r.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new fn;const{session:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ct())throw new _r("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _r(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Om("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Om("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:r,expires_in:u,expires_at:c,token_type:f}=e;if(!s||!u||!r||!f)throw new _r("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(u);let m=d+h;c&&(m=parseInt(c));const p=m-d;p*1e3<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const T=m-h;d-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,m,d):d-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,m,d);const{data:S,error:E}=await this._getUser(s);if(E)throw E;const y={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:m,refresh_token:r,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(i){if($(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:s}=n;if(s)return{error:s};const r=(i=o.session)===null||i===void 0?void 0:i.access_token;if(r){const{error:u}=await this.admin.signOut(r,e);if(u&&!(xD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=LD(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:s},error:r}=n;if(r)throw r;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Si(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if($(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async s=>{var r,u,c,f,d;const{data:h,error:m}=s;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if($(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:s,error:r}=n;if(r)throw r;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await qD(async o=>(o>0&&await VD(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$t})),(o,s)=>{const r=200*Math.pow(2,o);return s&&zl(s)&&Date.now()+r-i<Ri})}catch(i){if(this._debug(n,"error",i),$(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ct()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Tr(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Gl;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Gl}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),zl(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new el;const{data:s,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!s.session)throw new fn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(o,"error",s),$(s)){const r={session:null,error:s};return zl(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){s.push(c)}});if(await Promise.all(r),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wv(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Sr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ri);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ri}ms, refresh threshold is ${cc} ticks`),o<=cc&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,r]=await Si(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});o.push(u.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:s,error:r}=n;if(r)return{data:null,error:r};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=await K(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const{data:r,error:u}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:u})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:s}=n;return s?{data:null,error:s}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(r=>r.factor_type==="totp"&&r.status==="verified"),s=i.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:i,totp:o,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:s}=e;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=$l(o.access_token);let u=null;r.aal&&(u=r.aal);let c=u;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const d=r.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(r=>r.kid===e);if(i||(i=this.jwks.keys.find(r=>r.kid===e),i&&this.jwks_cached_at+CD>Date.now()))return i;const{data:o,error:s}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!o.keys||o.keys.length===0)throw new fs("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(r=>r.kid===e),!i)throw new fs("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:p,error:T}=await this.getSession();if(T||!p.session)return{data:null,error:T};i=p.session.access_token}const{header:o,payload:s,signature:r,raw:{header:u,payload:c}}=$l(i);if(JD(s.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:r},error:null}}const f=YD(o.alg),d=await this.fetchJwk(o.kid,n),h=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,r,kD(`${u}.${c}`)))throw new fs("Invalid JWT signature");return{data:{claims:s,header:o,signature:r},error:null}}catch(i){if($(i))return{data:null,error:i};throw i}}}Rs.nextInstanceID=0;const ck=Rs;class fk extends ck{constructor(e){super(e)}}var dk=function(t,e,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function u(d){try{f(i.next(d))}catch(h){r(h)}}function c(d){try{f(i.throw(d))}catch(h){r(h)}}function f(d){d.done?s(d.value):o(d.value).then(u,c)}f((i=i.apply(t,e||[])).next())})};class hk{constructor(e,n,i){var o,s,r;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=gD(e),c=new URL(u);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:lD,realtime:cD,auth:Object.assign(Object.assign({},uD),{storageKey:f}),global:aD},h=yD(i??{},d);this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=mD(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new NN(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new rN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oD(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:s,flowType:r,lock:u,debug:c},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fk({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),f),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:r,lock:u,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new FN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mk=(t,e,n)=>new hk(t,e,n),pk="https://hpavqewlxgyfkmyqzwzs.supabase.co",gk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhwYXZxZXdseGd5ZmtteXF6d3pzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MjMzMTQsImV4cCI6MjA2NzE5OTMxNH0.wS5Q_5BUP4fuLRjEhZcqxYoNPOWJ1SyRayqL5-reoBY",pt=mk(pk,gk),yk=({score:t,questions:e,userAnswers:n,onRestart:i,user:o})=>{const[s,r]=V.useState(!1),[u,c]=V.useState(!1),f=e.length,d=f>0?Math.round(t/f*100):0,h=()=>d===100?"Felicidades! Puntuacin perfecta!":d>=80?"Excelente trabajo!":d>=60?"Buen trabajo! Sigue practicando.":d>=40?"No est mal, pero puedes mejorar.":"Sigue estudiando y vuelve a intentarlo.",m=()=>{window.print()},p=async()=>{if(o){c(!0);try{const{error:T}=await pt.from("quizzes").insert([{user_id:o.id,score:t,total_questions:f,questions_data:e,user_answers_data:n}]);if(T)throw T;r(!0)}catch(T){console.error("Error al guardar el cuestionario:",T),alert(`Hubo un error al guardar el cuestionario: ${T.message}`)}finally{c(!1)}}};return _.jsxs("div",{className:"w-full max-w-4xl p-6 sm:p-8 bg-gray-800 rounded-2xl shadow-2xl animate-fade-in print:bg-white print:text-black print:shadow-none print:p-0",children:[_.jsxs("div",{className:"text-center border-b border-gray-700 pb-6 mb-6 print:border-b-2 print:border-black",children:[_.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white print:text-black",children:"Resultados del Cuestionario"}),_.jsx("p",{className:"mt-2 text-lg text-gray-400 print:text-gray-600",children:h()}),_.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("span",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500 print:text-black",children:[t,"/",f]}),_.jsx("span",{className:"text-sm font-medium text-gray-300 print:text-gray-700",children:"Respuestas Correctas"})]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("span",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 print:text-black",children:[d,"%"]}),_.jsx("span",{className:"text-sm font-medium text-gray-300 print:text-gray-700",children:"Puntuacin"})]})]})]}),_.jsxs("div",{className:"flex justify-center flex-wrap gap-4 my-6 print:hidden",children:[_.jsx("button",{onClick:i,className:"px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 transition-colors",children:"Volver a Empezar"}),_.jsxs("button",{onClick:p,disabled:s||u,className:"px-6 py-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-purple-500 transition-colors flex items-center gap-2 disabled:bg-gray-500 disabled:cursor-not-allowed",children:[_.jsx(K1,{className:"w-5 h-5"}),u?"Guardando...":s?"Guardado":"Guardar"]}),_.jsxs("button",{onClick:m,className:"px-6 py-3 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-gray-400 transition-colors flex items-center gap-2",children:[_.jsx(Z1,{className:"w-5 h-5"}),"Imprimir"]})]}),_.jsxs("div",{className:"space-y-6 print:space-y-4",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-4 print:text-black",children:"Revisin de Respuestas"}),e.map((T,S)=>{const E=n[S],y=E===T.answer;return _.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg border border-gray-700 print:border-gray-300 print:bg-white print:p-2 print:my-4",children:[_.jsxs("p",{className:"font-semibold text-white print:text-black",children:[S+1,". ",T.question]}),_.jsxs("div",{className:`mt-3 flex items-start gap-3 p-3 rounded-md ${y?"bg-green-500/10":"bg-red-500/10"}`,children:[y?_.jsx(xv,{className:"w-6 h-6 text-green-400 flex-shrink-0 mt-1"}):_.jsx(Ya,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-1"}),_.jsxs("div",{className:"flex-grow",children:[_.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Tu respuesta:"}),_.jsx("p",{className:`font-medium ${y?"text-green-400":"text-red-400"} print:text-black`,children:E??_.jsx("span",{className:"italic",children:"No respondida"})}),!y&&_.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700/50 print:border-gray-400",children:[_.jsx("p",{className:"text-sm text-gray-400 print:text-gray-600",children:"Respuesta correcta:"}),_.jsx("p",{className:"font-medium text-green-400 print:text-green-600",children:T.answer})]})]})]})]},S)})]})]})},xf=({text:t})=>_.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[_.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_.jsx("p",{className:"mt-4 text-lg font-semibold text-gray-300",children:t})]}),Fl=t=>!!((t==null?void 0:t.status)===429||typeof(t==null?void 0:t.message)=="string"&&t.message.toLowerCase().includes("rate limit exceeded")),vk=()=>{const[t,e]=V.useState("login"),[n,i]=V.useState(!1),[o,s]=V.useState(""),[r,u]=V.useState(""),[c,f]=V.useState(!1),[d,h]=V.useState(""),[m,p]=V.useState(null),[T,S]=V.useState(null),[E,y]=V.useState(!1),[g,v]=V.useState(0);V.useEffect(()=>{if(g>0){const N=setTimeout(()=>v(g-1),1e3);return()=>clearTimeout(N)}},[g]);const C=N=>{v(N)},x=()=>{p(null),S(null),y(!1),f(!1),v(0)},b=async()=>{if(!o){p("Por favor, introduce tu email para reenviar la confirmacin.");return}i(!0),p(null),S(null);try{const{error:N}=await pt.auth.resend({type:"signup",email:o});if(N)throw N;S("Correo de confirmacin reenviado. No olvides revisar tu carpeta de spam."),y(!0)}catch(N){let M;Fl(N)?(M="Lmite de reenvo de correos excedido. Por favor, espera a que el contador finalice.",C(60)):M='No se pudo enviar el correo. Asegrate de que tu "Site URL" est configurada correctamente en tu panel de Supabase (Authentication -> URL Configuration).',p(M),y(!0)}finally{i(!1)}},w=async N=>{N.preventDefault(),i(!0),x();try{if(t==="login"){const{error:M}=await pt.auth.signInWithPassword({email:o,password:r});if(M){if(M.message.includes("Email not confirmed")){p("Tu cuenta an no ha sido confirmada."),S("Por favor, busca el enlace en tu correo (revisa tambin el spam)."),y(!0);return}throw M}}else{if(d.trim().length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");const{error:M}=await pt.auth.signUp({email:o,password:r,options:{data:{username:d.trim(),full_name:d.trim()}}});if(M)throw M;await pt.auth.signOut(),S("Registro casi completo! Revisa tu correo electrnico (y la carpeta de spam) para encontrar el enlace de confirmacin. Debers hacer clic en l antes de poder iniciar sesin."),y(!0)}}catch(M){let z=M.message||"Ocurri un error inesperado.";Fl(M)?(z=`Lmite de solicitudes para ${t==="login"?"inicio de sesin":"registro"} excedido. Por favor, intntalo de nuevo ms tarde.`,C(60)):z.includes("User already registered")?z="Ya existe un usuario registrado con este email.":z.includes("Error sending confirmation email")?z='No se pudo enviar el correo de confirmacin. Asegrate de que tu "Site URL" est configurada correctamente en tu panel de Supabase (Authentication -> URL Configuration).':z.includes("Invalid login credentials")&&(z="Credenciales de inicio de sesin invlidas. Revisa tu email y contrasea."),p(z)}finally{i(!1)}},D=async N=>{N.preventDefault(),i(!0),x();try{const{error:M}=await pt.auth.resetPasswordForEmail(o);if(M)throw M;S("Si tu correo est registrado, recibirs un enlace de recuperacin. No olvides revisar tu carpeta de spam.")}catch(M){console.error("Error en restablecimiento de contrasea:",M);let z;Fl(M)?(z="Se ha alcanzado el lmite de envo de correos. Por favor, espera a que el contador finalice para volver a intentarlo.",C(60)):z='No se pudo enviar el correo. Asegrate de que tu "Site URL" est configurada correctamente en tu panel de Supabase (Authentication -> URL Configuration) y vuelve a intentarlo.',p(z)}finally{i(!1)}},I=()=>{const N=_.jsxs("div",{className:"space-y-3",children:[m&&_.jsxs("div",{className:"bg-red-900/50 border border-red-500/30 p-3 rounded-md flex items-center gap-3 text-sm text-red-300",children:[_.jsx(Ya,{className:"h-5 w-5 flex-shrink-0"}),_.jsx("span",{className:"flex-grow",children:m})]}),T&&_.jsxs("div",{className:"bg-green-900/50 border border-green-500/30 p-3 rounded-md flex items-center gap-3 text-sm text-green-300",children:[_.jsx(Mv,{className:"h-5 w-5 flex-shrink-0"}),_.jsx("span",{className:"flex-grow",children:T})]})]});return t==="reset"?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"text-center",children:[_.jsx(Ca,{className:"w-16 h-16 text-yellow-300 mx-auto mb-4"}),_.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-purple-400",children:"Restablecer Contrasea"}),_.jsx("p",{className:"mt-2 text-gray-400",children:"Ingresa tu email para recibir el enlace de recuperacin."})]}),_.jsxs("form",{className:"space-y-4",onSubmit:D,children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email"}),_.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:o,onChange:M=>s(M.target.value)})]}),(T||m)&&N,_.jsx("div",{children:_.jsx("button",{type:"submit",disabled:n||g>0,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 disabled:bg-gray-500 disabled:cursor-not-allowed",children:n?"Enviando...":g>0?`Reintentar en ${g}s`:"Enviar Enlace"})})]}),_.jsx("p",{className:"text-center text-sm",children:_.jsx("button",{onClick:()=>{e("login"),x()},className:"font-medium text-indigo-400 hover:text-indigo-300",children:"Volver a Iniciar Sesin"})})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"text-center",children:[_.jsx(Ca,{className:"w-16 h-16 text-yellow-300 mx-auto mb-4"}),_.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-purple-400",children:t==="login"?"Bienvenido de Nuevo":"Crea tu Cuenta"}),_.jsx("p",{className:"mt-2 text-gray-400",children:t==="login"?"Inicia sesin para continuar":"nete para crear y guardar tus cuestionarios"})]}),_.jsxs("form",{className:"space-y-4",onSubmit:w,children:[t==="signup"&&_.jsxs("div",{children:[_.jsx("label",{htmlFor:"username",className:"sr-only",children:"Nombre de usuario"}),_.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nombre de usuario",value:d,onChange:M=>h(M.target.value)}),_.jsx("p",{className:"text-xs text-gray-500 mt-2 px-1",children:"Ser tu nombre pblico en la app."})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email"}),_.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:o,onChange:M=>s(M.target.value)})]}),_.jsxs("div",{className:"relative",children:[_.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contrasea"}),_.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:t==="login"?"current-password":"new-password",required:!0,className:"appearance-none rounded-md block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm pr-10",placeholder:"Contrasea",value:r,onChange:M=>u(M.target.value)}),_.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 z-20 flex items-center px-3 text-gray-400 hover:text-white",onClick:()=>f(!c),"aria-label":c?"Ocultar contrasea":"Mostrar contrasea",children:c?_.jsx(bv,{className:"h-5 w-5"}):_.jsx(Av,{className:"h-5 w-5"})})]}),t==="login"&&_.jsx("div",{className:"flex items-center justify-end text-sm",children:_.jsx("button",{type:"button",onClick:()=>{e("reset"),x()},className:"font-medium text-indigo-400 hover:text-indigo-300",children:"Olvidaste tu contrasea?"})}),(m||T)&&N,E&&_.jsx("div",{className:"space-y-4",children:_.jsxs("p",{className:"text-center text-sm text-gray-400",children:["No recibiste el correo?"," ",_.jsx("button",{type:"button",onClick:b,disabled:n||g>0,className:"font-medium text-indigo-400 hover:text-indigo-300 disabled:text-gray-400 disabled:cursor-not-allowed",children:n?"Reenviando...":g>0?`Reintentar en ${g}s`:"Reenviar"})]})}),_.jsx("div",{children:_.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 disabled:bg-gray-500",children:n?t==="login"?"Iniciando Sesin...":"Creando Cuenta...":t==="login"?"Iniciar Sesin":"Registrarse"})})]}),_.jsxs("p",{className:"text-center text-sm",children:[_.jsx("span",{className:"text-gray-400",children:t==="login"?"No tienes una cuenta?":"Ya tienes una cuenta?"})," ",_.jsx("button",{onClick:()=>{e(t==="login"?"signup":"login"),x()},className:"font-medium text-indigo-400 hover:text-indigo-300",children:t==="login"?"Regstrate":"Inicia sesin"})]})]})};return _.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-2xl shadow-2xl",children:[I(),_.jsx("footer",{className:"text-center text-gray-500 text-sm pt-2",children:_.jsx("p",{children:" 2024 J M GAMEZ"})})]})})},_k=({onViewQuiz:t,onGoHome:e})=>{const[n,i]=V.useState([]),[o,s]=V.useState(!0),[r,u]=V.useState(null);V.useEffect(()=>{(async()=>{s(!0),u(null);const{data:d,error:h}=await pt.from("quizzes").select("*").order("created_at",{ascending:!1});if(h)u(h.message);else if(d){const m=d.map(p=>({id:p.id,date:p.created_at,score:p.score,totalQuestions:p.total_questions,questions:p.questions_data,userAnswers:p.user_answers_data}));i(m)}s(!1)})()},[]);const c=()=>o?_.jsx("div",{className:"flex justify-center py-12",children:_.jsx(xf,{text:"Cargando tus cuestionarios..."})}):r?_.jsxs("div",{className:"text-center py-12 text-red-500",children:["Error al cargar: ",r]}):n.length===0?_.jsxs("div",{className:"text-center py-12",children:[_.jsx("p",{className:"text-gray-400 text-lg",children:"No tienes cuestionarios guardados todava."}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Crea un cuestionario y gurdalo para verlo aqu."})]}):_.jsx("ul",{className:"space-y-4",children:n.map(f=>_.jsxs("li",{className:"bg-gray-900 p-4 rounded-lg border border-gray-700/50 hover:border-indigo-500 transition-all flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[_.jsxs("div",{className:"flex-grow",children:[_.jsxs("p",{className:"font-semibold text-white",children:["Cuestionario del ",new Date(f.date).toLocaleString()]}),_.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Puntuacin: ",_.jsxs("span",{className:"font-bold text-indigo-400",children:[f.score," / ",f.totalQuestions]})]})]}),_.jsx("button",{onClick:()=>t(f),className:"px-4 py-2 w-full sm:w-auto bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors text-sm flex-shrink-0",children:"Ver Resultados"})]},f.id))});return _.jsxs("div",{className:"w-full max-w-4xl p-6 sm:p-8 bg-gray-800 rounded-2xl shadow-2xl animate-fade-in",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[_.jsx("h2",{className:"text-3xl font-bold text-white",children:"Mis Cuestionarios"}),_.jsx("button",{onClick:e,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors",title:"Volver al inicio",children:_.jsx(wv,{className:"w-7 h-7"})})]}),c()]})},Tk=({onPasswordUpdated:t})=>{const[e,n]=V.useState(""),[i,o]=V.useState(!1),[s,r]=V.useState(!1),[u,c]=V.useState(null),[f,d]=V.useState(null),h=async m=>{if(m.preventDefault(),r(!0),c(null),d(null),e.length<6){c("La contrasea debe tener al menos 6 caracteres."),r(!1);return}try{const{error:p}=await pt.auth.updateUser({password:e});if(p)throw p;d("Contrasea actualizada con xito! En breve sers redirigido para iniciar sesin."),setTimeout(()=>{t()},2500)}catch(p){c(p.message||"No se pudo actualizar la contrasea."),r(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-2xl shadow-2xl",children:[_.jsxs("div",{className:"text-center",children:[_.jsx(Ca,{className:"w-16 h-16 text-yellow-300 mx-auto mb-4"}),_.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-purple-400",children:"Establecer Nueva Contrasea"}),_.jsx("p",{className:"mt-2 text-gray-400",children:"Ingresa tu nueva contrasea a continuacin."})]}),_.jsxs("form",{className:"space-y-6",onSubmit:h,children:[_.jsxs("div",{className:"relative",children:[_.jsx("label",{htmlFor:"new-password",className:"sr-only",children:"Nueva Contrasea"}),_.jsx("input",{id:"new-password",name:"password",type:i?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-md block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm pr-10",placeholder:"Nueva Contrasea",value:e,onChange:m=>n(m.target.value)}),_.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 z-20 flex items-center px-3 text-gray-400 hover:text-white",onClick:()=>o(!i),"aria-label":i?"Ocultar contrasea":"Mostrar contrasea",children:i?_.jsx(bv,{className:"h-5 w-5"}):_.jsx(Av,{className:"h-5 w-5"})})]}),_.jsxs("div",{className:"space-y-3",children:[u&&_.jsxs("div",{className:"bg-red-900/50 border border-red-500/30 p-3 rounded-md flex items-center gap-3 text-sm text-red-300",children:[_.jsx(Ya,{className:"h-5 w-5 flex-shrink-0"}),_.jsx("span",{className:"flex-grow",children:u})]}),f&&_.jsxs("div",{className:"bg-green-900/50 border border-green-500/30 p-3 rounded-md flex items-center gap-3 text-sm text-green-300",children:[_.jsx(Mv,{className:"h-5 w-5 flex-shrink-0"}),_.jsx("span",{className:"flex-grow",children:f})]})]}),_.jsx("div",{children:_.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500 disabled:bg-gray-500",children:s?"Actualizando...":"Actualizar Contrasea"})})]}),_.jsx("footer",{className:"text-center text-gray-500 text-sm pt-2",children:_.jsx("p",{children:" 2024 J M GAMEZ"})})]})})},Sk=({session:t,forceLogout:e})=>{var N;const[n,i]=V.useState(Oe.IDLE),[o,s]=V.useState([]),[r,u]=V.useState(10),[c,f]=V.useState([]),[d,h]=V.useState(0),[m,p]=V.useState([]),[T,S]=V.useState(""),[E,y]=V.useState(null),g=t.user.id;V.useEffect(()=>{(async()=>{if(g)try{const{data:z,error:bt}=await pt.from("profiles").select("username").eq("id",g).maybeSingle();if(bt)throw bt;z&&y(z)}catch(z){const bt=z instanceof Error?z.message:"Ocurri un error desconocido al buscar el perfil.";console.error("Error fetching profile:",bt)}})()},[g]);const v=async()=>{const{error:M}=await pt.auth.signOut();e(),M&&console.error("Error al cerrar sesin en Supabase:",M.message)},C=V.useCallback(async()=>{if(o.length===0){S("Por favor, sube un archivo (imagen o PDF)."),i(Oe.ERROR);return}S(""),i(Oe.GENERATING);try{const M=await F1(o,r);if(M&&M.length>0)f(M),p(Array(M.length).fill(null)),h(0),i(Oe.QUIZ);else throw new Error("No se pudieron generar preguntas. Intenta con un archivo diferente.")}catch(M){const z=M instanceof Error?M.message:"Ocurri un error desconocido.";console.error(M),S(z),i(Oe.ERROR)}},[o,r]),x=(M,z)=>{h(M),p(z),i(Oe.RESULTS)},b=()=>{i(Oe.IDLE),s([]),f([]),h(0),p([]),S(""),u(10)},w=()=>{i(Oe.SAVED_QUIZZES)},D=M=>{f(M.questions),h(M.score),p(M.userAnswers),i(Oe.RESULTS)},I=()=>{switch(n){case Oe.GENERATING:return _.jsx(xf,{text:"Generando tu cuestionario... La IA est pensando."});case Oe.QUIZ:return _.jsx(eN,{questions:c,onFinish:x,onRestart:b});case Oe.RESULTS:return _.jsx(yk,{score:d,questions:c,userAnswers:m,onRestart:b,user:t.user});case Oe.ERROR:return _.jsxs("div",{className:"text-center p-8 bg-gray-800 rounded-lg shadow-lg",children:[_.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Oops! Algo sali mal"}),_.jsx("p",{className:"text-gray-300 mb-6",children:T}),_.jsx("button",{onClick:b,className:"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition-colors",children:"Intentar de Nuevo"})]});case Oe.SAVED_QUIZZES:return _.jsx(_k,{onViewQuiz:D,onGoHome:b});case Oe.IDLE:default:return _.jsx(j1,{onFilesSelect:s,onSubmit:C,numQuestions:r,onNumQuestionsChange:u})}};return _.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center p-4 sm:p-6 lg:p-8 print:bg-white print:p-0 print:block",children:[_.jsxs("header",{className:"w-full max-w-5xl mx-auto mb-6 flex items-center justify-between print:hidden",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Ca,{className:"w-10 h-10 text-yellow-300"}),_.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-purple-400",children:"QUIZZ MAKER"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("span",{className:"text-sm text-gray-300 hidden sm:block",title:(E==null?void 0:E.username)||t.user.email,children:["Hola, ",_.jsx("span",{className:"font-semibold",children:(E==null?void 0:E.username)||((N=t.user.email)==null?void 0:N.split("@")[0])})]}),_.jsxs("button",{onClick:w,title:"Mis Cuestionarios",className:"flex items-center gap-2 p-3 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[_.jsx(Q1,{className:"w-5 h-5"}),_.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Guardados"})]}),_.jsxs("button",{onClick:v,title:"Cerrar Sesin",className:"flex items-center gap-2 p-3 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[_.jsx(X1,{className:"w-5 h-5"}),_.jsx("span",{className:"hidden md:inline text-sm font-medium",children:"Salir"})]})]})]}),_.jsx("p",{className:"w-full max-w-5xl mx-auto text-center -mt-2 mb-8 text-lg text-gray-400 print:hidden",children:"Crea tu cuestionario en minutos. Sube un PDF o una imagen y la IA generar un desafo para ti."}),_.jsx("main",{className:"w-full max-w-4xl mx-auto flex-grow flex items-start sm:items-center justify-center print:block print:w-full print:max-w-full print:flex-grow-0",children:I()}),_.jsx("footer",{className:"w-full max-w-4xl mx-auto mt-6 pt-4 text-center text-gray-500 text-sm border-t border-gray-700/50 print:hidden",children:_.jsx("p",{children:" 2024 J M GAMEZ"})})]})};function Ck(){const[t,e]=V.useState(null),[n,i]=V.useState(!0),[o,s]=V.useState(null);V.useEffect(()=>{pt.auth.getSession().then(({data:{session:f}})=>{e(f)});const{data:{subscription:c}}=pt.auth.onAuthStateChange((f,d)=>{s(f),e(d),i(!1)});return()=>{c.unsubscribe()}},[]);const r=()=>{e(null),s(null)},u=()=>{r()};return n?_.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:_.jsx(xf,{text:"Cargando sesin..."})}):t&&o==="PASSWORD_RECOVERY"?_.jsx(Tk,{onPasswordUpdated:u}):t?_.jsx(Sk,{session:t,forceLogout:r}):_.jsx(vk,{})}const e0=document.getElementById("root");if(!e0)throw new Error("No se pudo encontrar el elemento raz para montar la aplicacin.");const Ek=jT.createRoot(e0);Ek.render(_.jsx(_0.StrictMode,{children:_.jsx(Ck,{})}));
